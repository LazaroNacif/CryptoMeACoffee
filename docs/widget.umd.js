(function(nt,Fe){typeof exports=="object"&&typeof module<"u"?module.exports=Fe():typeof define=="function"&&define.amd?define(Fe):(nt=typeof globalThis<"u"?globalThis:nt||self,nt.CryptoMeACoffee=Fe())})(this,function(){"use strict";var AA=Object.defineProperty;var SA=(nt,Fe,Ht)=>Fe in nt?AA(nt,Fe,{enumerable:!0,configurable:!0,writable:!0,value:Ht}):nt[Fe]=Ht;var Kc=(nt,Fe,Ht)=>SA(nt,typeof Fe!="symbol"?Fe+"":Fe,Ht);var nt=Object.defineProperty,Fe=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),Ht=(e,t)=>{for(var n in t)nt(e,n,{get:t[n],enumerable:!0})},Xc={84532:{usdcAddress:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",usdcName:"USDC"},8453:{usdcAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",usdcName:"USD Coin"},43113:{usdcAddress:"0x5425890298aed601595a70AB815c96711a31Bc65",usdcName:"USD Coin"},43114:{usdcAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",usdcName:"USD Coin"},4689:{usdcAddress:"0xcdf79194c6c285077a58da47641d4dbe51f63542",usdcName:"Bridged USDC"},103:{usdcAddress:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",usdcName:"USDC"},101:{usdcAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",usdcName:"USDC"},1328:{usdcAddress:"0x4fcf1784b31630811181f670aea7a7bef803eaed",usdcName:"USDC"},1329:{usdcAddress:"0xe15fc38f6d8c56af07bbcbe3baf5708a2bf42392",usdcName:"USDC"},137:{usdcAddress:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",usdcName:"USD Coin"},80002:{usdcAddress:"0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",usdcName:"USDC"},3338:{usdcAddress:"0xbbA60da06c2c5424f03f7434542280FCAd453d10",usdcName:"USDC"},2741:{usdcAddress:"0x84a71ccd554cc1b02749b35d22f684cc8ec987e1",usdcName:"Bridged USDC"},11124:{usdcAddress:"0xe4C7fBB0a626ed208021ccabA6Be1566905E2dFc",usdcName:"Bridged USDC"},1514:{usdcAddress:"0xF1815bd50389c46847f0Bda824eC8da914045D14",usdcName:"Bridged USDC"},41923:{usdcAddress:"0x12a272A581feE5577A5dFa371afEB4b2F3a8C2F8",usdcName:"Bridged USDC (Stargate)"},324705682:{usdcAddress:"0x2e08028E3C4c2356572E096d8EF835cD5C6030bD",usdcName:"Bridged USDC (SKALE Bridge)"}},Qp=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}];function eh(e){return Xc[e.toString()]}var X;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(const o of a)i[o]=s[o];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},e.find=(s,a)=>{for(const i of s)if(a(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(X||(X={}));var Qc;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Qc||(Qc={}));const F=X.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gt=e=>{switch(typeof e){case"undefined":return F.undefined;case"string":return F.string;case"number":return Number.isNaN(e)?F.nan:F.number;case"boolean":return F.boolean;case"function":return F.function;case"bigint":return F.bigint;case"symbol":return F.symbol;case"object":return Array.isArray(e)?F.array:e===null?F.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?F.promise:typeof Map<"u"&&e instanceof Map?F.map:typeof Set<"u"&&e instanceof Set?F.set:typeof Date<"u"&&e instanceof Date?F.date:F.object;default:return F.unknown}},R=X.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class _t extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let o=r,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(i))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof _t))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,X.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];n[a]=n[a]||[],n[a].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}_t.create=e=>new _t(e);const Fa=(e,t)=>{let n;switch(e.code){case R.invalid_type:e.received===F.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case R.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,X.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:n=`Unrecognized key(s) in object: ${X.joinValues(e.keys,", ")}`;break;case R.invalid_union:n="Invalid input";break;case R.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${X.joinValues(e.options)}`;break;case R.invalid_enum_value:n=`Invalid enum value. Expected ${X.joinValues(e.options)}, received '${e.received}'`;break;case R.invalid_arguments:n="Invalid function arguments";break;case R.invalid_return_type:n="Invalid function return type";break;case R.invalid_date:n="Invalid date";break;case R.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:X.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case R.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case R.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case R.custom:n="Invalid input";break;case R.invalid_intersection_types:n="Intersection results could not be merged";break;case R.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case R.not_finite:n="Number must be finite";break;default:n=t.defaultError,X.assertNever(e)}return{message:n}};let th=Fa;function nh(){return th}const rh=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let o="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)o=u(i,{data:t,defaultError:o}).message;return{...s,path:a,message:o}};function z(e,t){const n=nh(),r=rh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Fa?void 0:Fa].filter(s=>!!s)});e.common.issues.push(r)}class Ae{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return G;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,i=await s.value;r.push({key:a,value:i})}return Ae.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return G;a.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(r[a.value]=i.value)}return{status:t.value,value:r}}}const G=Object.freeze({status:"aborted"}),gr=e=>({status:"dirty",value:e}),Ze=e=>({status:"valid",value:e}),eu=e=>e.status==="aborted",tu=e=>e.status==="dirty",Pn=e=>e.status==="valid",Ns=e=>typeof Promise<"u"&&e instanceof Promise;var V;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(V||(V={}));class dt{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const nu=(e,t)=>{if(Pn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new _t(e.common.issues);return this._error=n,this._error}}};function Z(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,o)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??r??o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:c??n??o.defaultError}},description:s}}class J{get description(){return this._def.description}_getType(t){return Gt(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Gt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ae,ctx:{common:t.parent.common,data:t.data,parsedType:Gt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Ns(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Gt(t)},s=this._parseSync({data:t,path:r.path,parent:r});return nu(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Gt(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return Pn(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(s=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>Pn(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Gt(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(Ns(s)?s:Promise.resolve(s));return nu(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const i=t(s),o=()=>a.addIssue({code:R.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new sn({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return At.create(this,this._def)}nullable(){return an.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ft.create(this)}promise(){return Ms.create(this,this._def)}or(t){return ks.create([this,t],this._def)}and(t){return Bs.create(this,t,this._def)}transform(t){return new sn({...Z(this._def),schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Ls({...Z(this._def),innerType:this,defaultValue:n,typeName:q.ZodDefault})}brand(){return new lu({typeName:q.ZodBranded,type:this,...Z(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Ds({...Z(this._def),innerType:this,catchValue:n,typeName:q.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Ka.create(this,t)}readonly(){return Fs.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const sh=/^c[^\s-]{8,}$/i,ah=/^[0-9a-z]+$/,ih=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oh=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ch=/^[a-z0-9_-]{21}$/i,uh=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,dh=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lh=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fh="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ua;const ph=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hh=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mh=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,yh=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bh=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gh=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ru="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wh=new RegExp(`^${ru}$`);function su(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function vh(e){return new RegExp(`^${su(e)}$`)}function xh(e){let t=`${ru}T${su(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function _h(e,t){return!!((t==="v4"||!t)&&ph.test(e)||(t==="v6"||!t)&&mh.test(e))}function Eh(e,t){if(!uh.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function Ah(e,t){return!!((t==="v4"||!t)&&hh.test(e)||(t==="v6"||!t)&&yh.test(e))}class lt extends J{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==F.string){const a=this._getOrReturnCtx(t);return z(a,{code:R.invalid_type,expected:F.string,received:a.parsedType}),G}const r=new Ae;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),z(s,{code:R.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),z(s,{code:R.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,o=t.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(t,s),i?z(s,{code:R.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&z(s,{code:R.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")lh.test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"email",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Ua||(Ua=new RegExp(fh,"u")),Ua.test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"emoji",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")oh.test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"uuid",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")ch.test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"nanoid",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")sh.test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"cuid",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")ah.test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"cuid2",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")ih.test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"ulid",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),z(s,{validation:"url",code:R.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"regex",code:R.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),z(s,{code:R.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),z(s,{code:R.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),z(s,{code:R.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?xh(a).test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{code:R.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?wh.test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{code:R.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?vh(a).test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{code:R.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?dh.test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"duration",code:R.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?_h(t.data,a.version)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"ip",code:R.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Eh(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"jwt",code:R.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Ah(t.data,a.version)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"cidr",code:R.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?bh.test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"base64",code:R.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?gh.test(t.data)||(s=this._getOrReturnCtx(t,s),z(s,{validation:"base64url",code:R.invalid_string,message:a.message}),r.dirty()):X.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:R.invalid_string,...V.errToObj(r)})}_addCheck(t){return new lt({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...V.errToObj(t)})}url(t){return this._addCheck({kind:"url",...V.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...V.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...V.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...V.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...V.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...V.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...V.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...V.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...V.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...V.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...V.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...V.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...V.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...V.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...V.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...V.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...V.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...V.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...V.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...V.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...V.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...V.errToObj(n)})}nonempty(t){return this.min(1,V.errToObj(t))}trim(){return new lt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new lt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new lt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}lt.create=e=>new lt({checks:[],typeName:q.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Z(e)});function Sh(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return a%i/10**s}class en extends J{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==F.number){const a=this._getOrReturnCtx(t);return z(a,{code:R.invalid_type,expected:F.number,received:a.parsedType}),G}let r;const s=new Ae;for(const a of this._def.checks)a.kind==="int"?X.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),z(r,{code:R.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),z(r,{code:R.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),z(r,{code:R.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?Sh(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),z(r,{code:R.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),z(r,{code:R.not_finite,message:a.message}),s.dirty()):X.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,V.toString(n))}gt(t,n){return this.setLimit("min",t,!1,V.toString(n))}lte(t,n){return this.setLimit("max",t,!0,V.toString(n))}lt(t,n){return this.setLimit("max",t,!1,V.toString(n))}setLimit(t,n,r,s){return new en({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:V.toString(s)}]})}_addCheck(t){return new en({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:V.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:V.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:V.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&X.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}en.create=e=>new en({checks:[],typeName:q.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Z(e)});class tn extends J{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==F.bigint)return this._getInvalidInput(t);let r;const s=new Ae;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),z(r,{code:R.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),z(r,{code:R.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),z(r,{code:R.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):X.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return z(n,{code:R.invalid_type,expected:F.bigint,received:n.parsedType}),G}gte(t,n){return this.setLimit("min",t,!0,V.toString(n))}gt(t,n){return this.setLimit("min",t,!1,V.toString(n))}lte(t,n){return this.setLimit("max",t,!0,V.toString(n))}lt(t,n){return this.setLimit("max",t,!1,V.toString(n))}setLimit(t,n,r,s){return new tn({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:V.toString(s)}]})}_addCheck(t){return new tn({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:V.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}tn.create=e=>new tn({checks:[],typeName:q.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Z(e)});class Os extends J{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==F.boolean){const r=this._getOrReturnCtx(t);return z(r,{code:R.invalid_type,expected:F.boolean,received:r.parsedType}),G}return Ze(t.data)}}Os.create=e=>new Os({typeName:q.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Z(e)});class Nn extends J{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==F.date){const a=this._getOrReturnCtx(t);return z(a,{code:R.invalid_type,expected:F.date,received:a.parsedType}),G}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return z(a,{code:R.invalid_date}),G}const r=new Ae;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),z(s,{code:R.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),z(s,{code:R.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):X.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Nn({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:V.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:V.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Nn.create=e=>new Nn({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:q.ZodDate,...Z(e)});class au extends J{_parse(t){if(this._getType(t)!==F.symbol){const r=this._getOrReturnCtx(t);return z(r,{code:R.invalid_type,expected:F.symbol,received:r.parsedType}),G}return Ze(t.data)}}au.create=e=>new au({typeName:q.ZodSymbol,...Z(e)});class ja extends J{_parse(t){if(this._getType(t)!==F.undefined){const r=this._getOrReturnCtx(t);return z(r,{code:R.invalid_type,expected:F.undefined,received:r.parsedType}),G}return Ze(t.data)}}ja.create=e=>new ja({typeName:q.ZodUndefined,...Z(e)});class Va extends J{_parse(t){if(this._getType(t)!==F.null){const r=this._getOrReturnCtx(t);return z(r,{code:R.invalid_type,expected:F.null,received:r.parsedType}),G}return Ze(t.data)}}Va.create=e=>new Va({typeName:q.ZodNull,...Z(e)});class Ha extends J{constructor(){super(...arguments),this._any=!0}_parse(t){return Ze(t.data)}}Ha.create=e=>new Ha({typeName:q.ZodAny,...Z(e)});class iu extends J{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ze(t.data)}}iu.create=e=>new iu({typeName:q.ZodUnknown,...Z(e)});class qt extends J{_parse(t){const n=this._getOrReturnCtx(t);return z(n,{code:R.invalid_type,expected:F.never,received:n.parsedType}),G}}qt.create=e=>new qt({typeName:q.ZodNever,...Z(e)});class ou extends J{_parse(t){if(this._getType(t)!==F.undefined){const r=this._getOrReturnCtx(t);return z(r,{code:R.invalid_type,expected:F.void,received:r.parsedType}),G}return Ze(t.data)}}ou.create=e=>new ou({typeName:q.ZodVoid,...Z(e)});class ft extends J{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==F.array)return z(n,{code:R.invalid_type,expected:F.array,received:n.parsedType}),G;if(s.exactLength!==null){const i=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(i||o)&&(z(n,{code:i?R.too_big:R.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(z(n,{code:R.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(z(n,{code:R.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,o)=>s.type._parseAsync(new dt(n,i,n.path,o)))).then(i=>Ae.mergeArray(r,i));const a=[...n.data].map((i,o)=>s.type._parseSync(new dt(n,i,n.path,o)));return Ae.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new ft({...this._def,minLength:{value:t,message:V.toString(n)}})}max(t,n){return new ft({...this._def,maxLength:{value:t,message:V.toString(n)}})}length(t,n){return new ft({...this._def,exactLength:{value:t,message:V.toString(n)}})}nonempty(t){return this.min(1,t)}}ft.create=(e,t)=>new ft({type:e,minLength:null,maxLength:null,exactLength:null,typeName:q.ZodArray,...Z(t)});function On(e){if(e instanceof fe){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=At.create(On(r))}return new fe({...e._def,shape:()=>t})}else return e instanceof ft?new ft({...e._def,type:On(e.element)}):e instanceof At?At.create(On(e.unwrap())):e instanceof an?an.create(On(e.unwrap())):e instanceof nn?nn.create(e.items.map(t=>On(t))):e}class fe extends J{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=X.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==F.object){const u=this._getOrReturnCtx(t);return z(u,{code:R.invalid_type,expected:F.object,received:u.parsedType}),G}const{status:r,ctx:s}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof qt&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||o.push(u);const c=[];for(const u of i){const d=a[u],l=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new dt(s,l,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof qt){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")o.length>0&&(z(s,{code:R.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const l=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new dt(s,l,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const l=await d.key,f=await d.value;u.push({key:l,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>Ae.mergeObjectSync(r,u)):Ae.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return V.errToObj,new fe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,i;const s=((i=(a=this._def).errorMap)==null?void 0:i.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:V.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new fe({...this._def,unknownKeys:"strip"})}passthrough(){return new fe({...this._def,unknownKeys:"passthrough"})}extend(t){return new fe({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new fe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:q.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new fe({...this._def,catchall:t})}pick(t){const n={};for(const r of X.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new fe({...this._def,shape:()=>n})}omit(t){const n={};for(const r of X.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new fe({...this._def,shape:()=>n})}deepPartial(){return On(this)}partial(t){const n={};for(const r of X.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new fe({...this._def,shape:()=>n})}required(t){const n={};for(const r of X.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof At;)a=a._def.innerType;n[r]=a}return new fe({...this._def,shape:()=>n})}keyof(){return uu(X.objectKeys(this.shape))}}fe.create=(e,t)=>new fe({shape:()=>e,unknownKeys:"strip",catchall:qt.create(),typeName:q.ZodObject,...Z(t)}),fe.strictCreate=(e,t)=>new fe({shape:()=>e,unknownKeys:"strict",catchall:qt.create(),typeName:q.ZodObject,...Z(t)}),fe.lazycreate=(e,t)=>new fe({shape:e,unknownKeys:"strip",catchall:qt.create(),typeName:q.ZodObject,...Z(t)});class ks extends J{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new _t(o.ctx.common.issues));return z(n,{code:R.invalid_union,unionErrors:i}),G}if(n.common.async)return Promise.all(r.map(async a=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(c=>new _t(c));return z(n,{code:R.invalid_union,unionErrors:o}),G}}get options(){return this._def.options}}ks.create=(e,t)=>new ks({options:e,typeName:q.ZodUnion,...Z(t)});const Et=e=>e instanceof Za?Et(e.schema):e instanceof sn?Et(e.innerType()):e instanceof zs?[e.value]:e instanceof rn?e.options:e instanceof Wa?X.objectValues(e.enum):e instanceof Ls?Et(e._def.innerType):e instanceof ja?[void 0]:e instanceof Va?[null]:e instanceof At?[void 0,...Et(e.unwrap())]:e instanceof an?[null,...Et(e.unwrap())]:e instanceof lu||e instanceof Fs?Et(e.unwrap()):e instanceof Ds?Et(e._def.innerType):[];class Ga extends J{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==F.object)return z(n,{code:R.invalid_type,expected:F.object,received:n.parsedType}),G;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(z(n,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),G)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const a of n){const i=Et(a.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of i){if(s.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);s.set(o,a)}}return new Ga({typeName:q.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Z(r)})}}function qa(e,t){const n=Gt(e),r=Gt(t);if(e===t)return{valid:!0,data:e};if(n===F.object&&r===F.object){const s=X.objectKeys(t),a=X.objectKeys(e).filter(o=>s.indexOf(o)!==-1),i={...e,...t};for(const o of a){const c=qa(e[o],t[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(n===F.array&&r===F.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const i=e[a],o=t[a],c=qa(i,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===F.date&&r===F.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Bs extends J{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,i)=>{if(eu(a)||eu(i))return G;const o=qa(a.value,i.value);return o.valid?((tu(a)||tu(i))&&n.dirty(),{status:n.value,value:o.data}):(z(r,{code:R.invalid_intersection_types}),G)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Bs.create=(e,t,n)=>new Bs({left:e,right:t,typeName:q.ZodIntersection,...Z(n)});class nn extends J{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==F.array)return z(r,{code:R.invalid_type,expected:F.array,received:r.parsedType}),G;if(r.data.length<this._def.items.length)return z(r,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),G;!this._def.rest&&r.data.length>this._def.items.length&&(z(r,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((i,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new dt(r,i,r.path,o)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>Ae.mergeArray(n,i)):Ae.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new nn({...this._def,rest:t})}}nn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new nn({items:e,typeName:q.ZodTuple,rest:null,...Z(t)})};class $s extends J{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==F.object)return z(r,{code:R.invalid_type,expected:F.object,received:r.parsedType}),G;const s=[],a=this._def.keyType,i=this._def.valueType;for(const o in r.data)s.push({key:a._parse(new dt(r,o,r.path,o)),value:i._parse(new dt(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Ae.mergeObjectAsync(n,s):Ae.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof J?new $s({keyType:t,valueType:n,typeName:q.ZodRecord,...Z(r)}):new $s({keyType:lt.create(),valueType:t,typeName:q.ZodRecord,...Z(n)})}}class cu extends J{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==F.map)return z(r,{code:R.invalid_type,expected:F.map,received:r.parsedType}),G;const s=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([o,c],u)=>({key:s._parse(new dt(r,o,r.path,[u,"key"])),value:a._parse(new dt(r,c,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return G;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return G;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}}}}cu.create=(e,t,n)=>new cu({valueType:t,keyType:e,typeName:q.ZodMap,...Z(n)});class wr extends J{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==F.set)return z(r,{code:R.invalid_type,expected:F.set,received:r.parsedType}),G;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(z(r,{code:R.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(z(r,{code:R.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return G;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((c,u)=>a._parse(new dt(r,c,r.path,u)));return r.common.async?Promise.all(o).then(c=>i(c)):i(o)}min(t,n){return new wr({...this._def,minSize:{value:t,message:V.toString(n)}})}max(t,n){return new wr({...this._def,maxSize:{value:t,message:V.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}wr.create=(e,t)=>new wr({valueType:e,minSize:null,maxSize:null,typeName:q.ZodSet,...Z(t)});class Za extends J{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Za.create=(e,t)=>new Za({getter:e,typeName:q.ZodLazy,...Z(t)});class zs extends J{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return z(n,{received:n.data,code:R.invalid_literal,expected:this._def.value}),G}return{status:"valid",value:t.data}}get value(){return this._def.value}}zs.create=(e,t)=>new zs({value:e,typeName:q.ZodLiteral,...Z(t)});function uu(e,t){return new rn({values:e,typeName:q.ZodEnum,...Z(t)})}class rn extends J{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return z(n,{expected:X.joinValues(r),received:n.parsedType,code:R.invalid_type}),G}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return z(n,{received:n.data,code:R.invalid_enum_value,options:r}),G}return Ze(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return rn.create(t,{...this._def,...n})}exclude(t,n=this._def){return rn.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}rn.create=uu;class Wa extends J{_parse(t){const n=X.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==F.string&&r.parsedType!==F.number){const s=X.objectValues(n);return z(r,{expected:X.joinValues(s),received:r.parsedType,code:R.invalid_type}),G}if(this._cache||(this._cache=new Set(X.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=X.objectValues(n);return z(r,{received:r.data,code:R.invalid_enum_value,options:s}),G}return Ze(t.data)}get enum(){return this._def.values}}Wa.create=(e,t)=>new Wa({values:e,typeName:q.ZodNativeEnum,...Z(t)});class Ms extends J{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==F.promise&&n.common.async===!1)return z(n,{code:R.invalid_type,expected:F.promise,received:n.parsedType}),G;const r=n.parsedType===F.promise?n.data:Promise.resolve(n.data);return Ze(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ms.create=(e,t)=>new Ms({type:e,typeName:q.ZodPromise,...Z(t)});class sn extends J{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:i=>{z(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(r.data,a);if(r.common.async)return Promise.resolve(i).then(async o=>{if(n.value==="aborted")return G;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?G:c.status==="dirty"||n.value==="dirty"?gr(c.value):c});{if(n.value==="aborted")return G;const o=this._def.schema._parseSync({data:i,path:r.path,parent:r});return o.status==="aborted"?G:o.status==="dirty"||n.value==="dirty"?gr(o.value):o}}if(s.type==="refinement"){const i=o=>{const c=s.refinement(o,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?G:(o.status==="dirty"&&n.dirty(),i(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?G:(o.status==="dirty"&&n.dirty(),i(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Pn(i))return G;const o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Pn(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:n.value,value:o})):G);X.assertNever(s)}}sn.create=(e,t,n)=>new sn({schema:e,typeName:q.ZodEffects,effect:t,...Z(n)}),sn.createWithPreprocess=(e,t,n)=>new sn({schema:t,effect:{type:"preprocess",transform:e},typeName:q.ZodEffects,...Z(n)});class At extends J{_parse(t){return this._getType(t)===F.undefined?Ze(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}At.create=(e,t)=>new At({innerType:e,typeName:q.ZodOptional,...Z(t)});class an extends J{_parse(t){return this._getType(t)===F.null?Ze(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}an.create=(e,t)=>new an({innerType:e,typeName:q.ZodNullable,...Z(t)});class Ls extends J{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===F.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ls.create=(e,t)=>new Ls({innerType:e,typeName:q.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Z(t)});class Ds extends J{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ns(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new _t(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new _t(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ds.create=(e,t)=>new Ds({innerType:e,typeName:q.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Z(t)});class du extends J{_parse(t){if(this._getType(t)!==F.nan){const r=this._getOrReturnCtx(t);return z(r,{code:R.invalid_type,expected:F.nan,received:r.parsedType}),G}return{status:"valid",value:t.data}}}du.create=e=>new du({typeName:q.ZodNaN,...Z(e)});class lu extends J{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ka extends J{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?G:a.status==="dirty"?(n.dirty(),gr(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?G:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new Ka({in:t,out:n,typeName:q.ZodPipeline})}}class Fs extends J{_parse(t){const n=this._def.innerType._parse(t),r=s=>(Pn(s)&&(s.value=Object.freeze(s.value)),s);return Ns(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Fs.create=(e,t)=>new Fs({innerType:e,typeName:q.ZodReadonly,...Z(t)});var q;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(q||(q={}));const ae=lt.create,We=en.create;tn.create;const fu=Os.create,Th=Nn.create,kn=Ha.create;qt.create;const Us=ft.create,be=fe.create,pu=ks.create,Ih=Ga.create;Bs.create,nn.create;const on=$s.create,Ch=zs.create,pt=rn.create;Ms.create,At.create,an.create;const Rh={string:e=>lt.create({...e,coerce:!0}),number:e=>en.create({...e,coerce:!0}),boolean:e=>Os.create({...e,coerce:!0}),bigint:e=>tn.create({...e,coerce:!0}),date:e=>Nn.create({...e,coerce:!0})},Ph="1.1.0";let ke=class Yc extends Error{constructor(t,n={}){var i;const r=n.cause instanceof Yc?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof Yc&&n.cause.docsPath||n.docsPath,a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Ph}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function St(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const hu=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,mu=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,yu=/^\(.+?\).*?$/,bu=/^tuple(?<array>(\[(\d*)\])*)$/;function Ya(e){let t=e.type;if(bu.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const a=e.components[s];t+=Ya(a),s<n-1&&(t+=", ")}const r=St(bu,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Ya({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Bn(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Ya(s),r!==n-1&&(t+=", ")}return t}function js(e){var t;return e.type==="function"?`function ${e.name}(${Bn(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Bn(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Bn(e.inputs)})`:e.type==="error"?`error ${e.name}(${Bn(e.inputs)})`:e.type==="constructor"?`constructor(${Bn(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const gu=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Nh(e){return gu.test(e)}function Oh(e){return St(gu,e)}const wu=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function kh(e){return wu.test(e)}function Bh(e){return St(wu,e)}const vu=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function $h(e){return vu.test(e)}function zh(e){return St(vu,e)}const xu=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Vs(e){return xu.test(e)}function Mh(e){return St(xu,e)}const _u=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Lh(e){return _u.test(e)}function Dh(e){return St(_u,e)}const Eu=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Fh(e){return Eu.test(e)}function Uh(e){return St(Eu,e)}const jh=/^receive\(\) external payable$/;function Vh(e){return jh.test(e)}const Au=new Set(["memory","indexed","storage","calldata"]),Hh=new Set(["indexed"]),Ja=new Set(["calldata","memory","storage"]);class Gh extends ke{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class qh extends ke{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Zh extends ke{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Wh extends ke{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Kh extends ke{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Yh extends ke{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Jh extends ke{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Xh extends ke{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Qh extends ke{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class $n extends ke{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class em extends ke{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class tm extends ke{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class nm extends ke{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class rm extends ke{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function sm(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const i of s[1])a+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${a}})`}return t?`${t}:${e}${r}`:e}const Xa=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Qa(e,t={}){if($h(e))return am(e,t);if(kh(e))return im(e,t);if(Nh(e))return om(e,t);if(Lh(e))return cm(e,t);if(Fh(e))return um(e);if(Vh(e))return{type:"receive",stateMutability:"payable"};throw new em({signature:e})}function am(e,t={}){const n=zh(e);if(!n)throw new $n({signature:e,type:"function"});const r=Ue(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(Tt(r[o],{modifiers:Ja,structs:t,type:"function"}));const i=[];if(n.returns){const o=Ue(n.returns),c=o.length;for(let u=0;u<c;u++)i.push(Tt(o[u],{modifiers:Ja,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function im(e,t={}){const n=Bh(e);if(!n)throw new $n({signature:e,type:"event"});const r=Ue(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(Tt(r[i],{modifiers:Hh,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function om(e,t={}){const n=Oh(e);if(!n)throw new $n({signature:e,type:"error"});const r=Ue(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(Tt(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function cm(e,t={}){const n=Dh(e);if(!n)throw new $n({signature:e,type:"constructor"});const r=Ue(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(Tt(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function um(e){const t=Uh(e);if(!t)throw new $n({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const dm=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,lm=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,fm=/^u?int$/;function Tt(e,t){var l,f;const n=sm(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(Xa.has(n))return Xa.get(n);const r=yu.test(e),s=St(r?lm:dm,e);if(!s)throw new Kh({param:e});if(s.name&&hm(s.name))throw new Yh({param:e,name:s.name});const a=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},o=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const p=Ue(s.type),h=[],m=p.length;for(let g=0;g<m;g++)h.push(Tt(p[g],{structs:o}));u={components:h}}else if(s.type in o)c="tuple",u={components:o[s.type]};else if(fm.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!Su(c))throw new Zh({type:c});if(s.modifier){if(!((f=(l=t==null?void 0:t.modifiers)==null?void 0:l.has)!=null&&f.call(l,s.modifier)))throw new Jh({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Ja.has(s.modifier)&&!mm(c,!!s.array))throw new Xh({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...a,...i,...u};return Xa.set(n,d),d}function Ue(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const i=e[a],o=e.slice(a+1);switch(i){case",":return r===0?Ue(o,[...t,n.trim()]):Ue(o,t,`${n}${i}`,r);case"(":return Ue(o,t,`${n}${i}`,r+1);case")":return Ue(o,t,`${n}${i}`,r-1);default:return Ue(o,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new rm({current:n,depth:r});return t.push(n.trim()),t}function Su(e){return e==="address"||e==="bool"||e==="function"||e==="string"||hu.test(e)||mu.test(e)}const pm=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function hm(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||hu.test(e)||mu.test(e)||pm.test(e)}function mm(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function ei(e){const t={},n=e.length;for(let i=0;i<n;i++){const o=e[i];if(!Vs(o))continue;const c=Mh(o);if(!c)throw new $n({signature:o,type:"struct"});const u=c.properties.split(";"),d=[],l=u.length;for(let f=0;f<l;f++){const h=u[f].trim();if(!h)continue;const m=Tt(h,{type:"struct"});d.push(m)}if(!d.length)throw new tm({signature:o});t[c.name]=d}const r={},s=Object.entries(t),a=s.length;for(let i=0;i<a;i++){const[o,c]=s[i];r[o]=Tu(c,t)}return r}const ym=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Tu(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const i=e[a];if(yu.test(i.type))r.push(i);else{const c=St(ym,i.type);if(!(c!=null&&c.type))throw new Qh({abiParameter:i});const{array:u,type:d}=c;if(d in t){if(n.has(d))throw new nm({type:d});r.push({...i,type:`tuple${u??""}`,components:Tu(t[d]??[],t,new Set([...n,d]))})}else if(Su(d))r.push(i);else throw new qh({type:d})}}return r}function Iu(e){const t=ei(e),n=[],r=e.length;for(let s=0;s<r;s++){const a=e[s];Vs(a)||n.push(Qa(a,t))}return n}function Cu(e){let t;if(typeof e=="string")t=Qa(e);else{const n=ei(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!Vs(a)){t=Qa(a,n);break}}}if(!t)throw new Gh({signature:e});return t}function Ru(e){const t=[];if(typeof e=="string"){const n=Ue(e),r=n.length;for(let s=0;s<r;s++)t.push(Tt(n[s],{modifiers:Au}))}else{const n=ei(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(Vs(a))continue;const i=Ue(a),o=i.length;for(let c=0;c<o;c++)t.push(Tt(i[c],{modifiers:Au,structs:n}))}}if(t.length===0)throw new Wh({params:e});return t}function U(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:a=>t(e,a)}function rt(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Cm(e.type);return`${e.name}(${Hs(e.inputs,{includeName:t})})`}function Hs(e,{includeName:t=!1}={}){return e?e.map(n=>bm(n,{includeName:t})).join(t?", ":","):""}function bm(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Hs(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Ke(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ce(e){return Ke(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Pu="2.39.3";let vr={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Pu}`},x=class Jc extends Error{constructor(t,n={}){var o;const r=(()=>{var c;return n.cause instanceof Jc?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Jc&&n.cause.docsPath||n.docsPath,a=(o=vr.getDocsUrl)==null?void 0:o.call(vr,{...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...vr.version?[`Version: ${vr.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Pu}walk(t){return Nu(this,t)}};function Nu(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Nu(e.cause,t):t?null:e}class Ou extends x{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Gs extends x{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class ku extends x{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Hs(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class xr extends x{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class gm extends x{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class wm extends x{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ce(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class vm extends x{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class xm extends x{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Bu extends x{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class $u extends x{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class _m extends x{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class zu extends x{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Mu extends x{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class zn extends x{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Lu extends x{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Em extends x{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Am extends x{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${rt(t.abiItem)}\`, and`,`\`${n.type}\` in \`${rt(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Sm=class extends x{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class _r extends x{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Hs(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class qs extends x{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${rt(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Tm extends x{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Im extends x{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Du=class extends x{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Cm extends x{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Rm extends x{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let Fu=class extends x{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Uu=class extends x{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class ju extends x{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function cn(e,{dir:t,size:n=32}={}){return typeof e=="string"?Zt(e,{dir:t,size:n}):Pm(e,{dir:t,size:n})}function Zt(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Uu({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Pm(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Uu({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=t==="right";r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}let Vu=class extends x{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Nm=class extends x{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Om extends x{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let km=class extends x{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Ye(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function st(e,{size:t}){if(ce(e)>t)throw new km({givenSize:ce(e),maxSize:t})}function re(e,t={}){const{signed:n}=t;t.size&&st(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Bm(e,t={}){let n=e;if(t.size&&(st(n,{size:t.size}),n=Ye(n)),Ye(n)==="0x00")return!1;if(Ye(n)==="0x01")return!0;throw new Om(n)}function je(e,t={}){return Number(re(e,t))}const $m=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Q(e,t={}){return typeof e=="number"||typeof e=="bigint"?T(e,t):typeof e=="string"?Mn(e,t):typeof e=="boolean"?Hu(e,t):pe(e,t)}function Hu(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(st(n,{size:t.size}),cn(n,{size:t.size})):n}function pe(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=$m[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(st(r,{size:t.size}),cn(r,{dir:"right",size:t.size})):r}function T(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<i){const c=typeof e=="bigint"?"n":"";throw new Vu({max:a?`${a}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const o=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?cn(o,{size:r}):o}const zm=new TextEncoder;function Mn(e,t={}){const n=zm.encode(e);return pe(n,t)}const Mm=new TextEncoder;function It(e,t={}){return typeof e=="number"||typeof e=="bigint"?Dm(e,t):typeof e=="boolean"?Lm(e,t):Ke(e)?Be(e,t):un(e,t)}function Lm(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(st(n,{size:t.size}),cn(n,{size:t.size})):n}const Ct={zero:48,nine:57,A:65,F:70,a:97,f:102};function Gu(e){if(e>=Ct.zero&&e<=Ct.nine)return e-Ct.zero;if(e>=Ct.A&&e<=Ct.F)return e-(Ct.A-10);if(e>=Ct.a&&e<=Ct.f)return e-(Ct.a-10)}function Be(e,t={}){let n=e;t.size&&(st(n,{size:t.size}),n=cn(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let i=0,o=0;i<s;i++){const c=Gu(r.charCodeAt(o++)),u=Gu(r.charCodeAt(o++));if(c===void 0||u===void 0)throw new x(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);a[i]=c*16+u}return a}function Dm(e,t){const n=T(e,t);return Be(n)}function un(e,t={}){const n=Mm.encode(e);return typeof t.size=="number"?(st(n,{size:t.size}),cn(n,{dir:"right",size:t.size})):n}const Zs=BigInt(2**32-1),qu=BigInt(32);function Fm(e,t=!1){return t?{h:Number(e&Zs),l:Number(e>>qu&Zs)}:{h:Number(e>>qu&Zs)|0,l:Number(e&Zs)|0}}function Um(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let a=0;a<n;a++){const{h:i,l:o}=Fm(e[a],t);[r[a],s[a]]=[i,o]}return[r,s]}const jm=(e,t,n)=>e<<n|t>>>32-n,Vm=(e,t,n)=>t<<n|e>>>32-n,Hm=(e,t,n)=>t<<n-32|e>>>64-n,Gm=(e,t,n)=>e<<n-32|t>>>64-n,Ln=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qm(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Er(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function dn(e,...t){if(!qm(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Zm(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Er(e.outputLen),Er(e.blockLen)}function Dn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Zu(e,t){dn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Wm(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Fn(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ti(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ht(e,t){return e<<32-t|e>>>t}const Km=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Ym(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Jm(e){for(let t=0;t<e.length;t++)e[t]=Ym(e[t]);return e}const Wu=Km?e=>e:Jm;function Xm(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Ws(e){return typeof e=="string"&&(e=Xm(e)),dn(e),e}function Qm(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];dn(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const a=e[r];n.set(a,s),s+=a.length}return n}class ni{}function Ku(e){const t=r=>e().update(Ws(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ey(e=32){if(Ln&&typeof Ln.getRandomValues=="function")return Ln.getRandomValues(new Uint8Array(e));if(Ln&&typeof Ln.randomBytes=="function")return Uint8Array.from(Ln.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const ty=BigInt(0),Ar=BigInt(1),ny=BigInt(2),ry=BigInt(7),sy=BigInt(256),ay=BigInt(113),Yu=[],Ju=[],Xu=[];for(let e=0,t=Ar,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Yu.push(2*(5*r+n)),Ju.push((e+1)*(e+2)/2%64);let s=ty;for(let a=0;a<7;a++)t=(t<<Ar^(t>>ry)*ay)%sy,t&ny&&(s^=Ar<<(Ar<<BigInt(a))-Ar);Xu.push(s)}const Qu=Um(Xu,!0),iy=Qu[0],oy=Qu[1],ed=(e,t,n)=>n>32?Hm(e,t,n):jm(e,t,n),td=(e,t,n)=>n>32?Gm(e,t,n):Vm(e,t,n);function cy(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const o=(i+8)%10,c=(i+2)%10,u=n[c],d=n[c+1],l=ed(u,d,1)^n[o],f=td(u,d,1)^n[o+1];for(let p=0;p<50;p+=10)e[i+p]^=l,e[i+p+1]^=f}let s=e[2],a=e[3];for(let i=0;i<24;i++){const o=Ju[i],c=ed(s,a,o),u=td(s,a,o),d=Yu[i];s=e[d],a=e[d+1],e[d]=c,e[d+1]=u}for(let i=0;i<50;i+=10){for(let o=0;o<10;o++)n[o]=e[i+o];for(let o=0;o<10;o++)e[i+o]^=~n[(o+2)%10]&n[(o+4)%10]}e[0]^=iy[r],e[1]^=oy[r]}Fn(n)}class ri extends ni{constructor(t,n,r,s=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,Er(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Wm(this.state)}clone(){return this._cloneInto()}keccak(){Wu(this.state32),cy(this.state32,this.rounds),Wu(this.state32),this.posOut=0,this.pos=0}update(t){Dn(this),t=Ws(t),dn(t);const{blockLen:n,state:r}=this,s=t.length;for(let a=0;a<s;){const i=Math.min(n-this.pos,s-a);for(let o=0;o<i;o++)r[this.pos++]^=t[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Dn(this,!1),dn(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=t.length;s<a;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,a-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Er(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Zu(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Fn(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:i}=this;return t||(t=new ri(n,r,s,i,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const uy=(e,t,n)=>Ku(()=>new ri(t,e,n)),nd=uy(1,136,256/8);function ge(e,t){const n=t||"hex",r=nd(Ke(e,{strict:!1})?It(e):e);return n==="bytes"?r:Q(r)}const dy=e=>ge(It(e));function ly(e){return dy(e)}function fy(e){let t=!0,n="",r=0,s="",a=!1;for(let i=0;i<e.length;i++){const o=e[i];if(["(",")",","].includes(o)&&(t=!0),o==="("&&r++,o===")"&&r--,!!t){if(r===0){if(o===" "&&["event","function",""].includes(s))s="";else if(s+=o,o===")"){a=!0;break}continue}if(o===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=o,n+=o}}if(!a)throw new x("Unable to normalize signature.");return s}const py=e=>{const t=typeof e=="string"?e:js(e);return fy(t)};function rd(e){return ly(py(e))}const Ks=rd;let he=class extends x{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Sr=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const si=new Sr(8192);function Tr(e,t){if(si.has(`${e}.${t}`))return si.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=ge(un(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const a=`0x${s.join("")}`;return si.set(`${e}.${t}`,a),a}function Un(e,t){if(!ie(e,{strict:!1}))throw new he({address:e});return Tr(e,t)}const hy=/^0x[a-fA-F0-9]{40}$/,ai=new Sr(8192);function ie(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(ai.has(r))return ai.get(r);const s=hy.test(e)?e.toLowerCase()===e?!0:n?Tr(e)===e:!0:!1;return ai.set(r,s),s}function Ve(e){return typeof e[0]=="string"?Je(e):my(e)}function my(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Je(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function ln(e,t,n,{strict:r}={}){return Ke(e,{strict:!1})?ii(e,t,n,{strict:r}):id(e,t,n,{strict:r})}function sd(e,t){if(typeof t=="number"&&t>0&&t>ce(e)-1)throw new Fu({offset:t,position:"start",size:ce(e)})}function ad(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ce(e)!==n-t)throw new Fu({offset:n,position:"end",size:ce(e)})}function id(e,t,n,{strict:r}={}){sd(e,t);const s=e.slice(t,n);return r&&ad(s,t,n),s}function ii(e,t,n,{strict:r}={}){sd(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&ad(s,t,n),s}const yy=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,od=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Rt(e,t){if(e.length!==t.length)throw new vm({expectedLength:e.length,givenLength:t.length});const n=by({params:e,values:t}),r=ci(n);return r.length===0?"0x":r}function by({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(oi({param:e[r],value:t[r]}));return n}function oi({param:e,value:t}){const n=ui(e.type);if(n){const[r,s]=n;return wy(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Ay(t,{param:e});if(e.type==="address")return gy(t);if(e.type==="bool")return xy(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=od.exec(e.type)??[];return _y(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return vy(t,{param:e});if(e.type==="string")return Ey(t);throw new Tm(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function ci(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:i,encoded:o}=e[a];i?t+=32:t+=ce(o)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:i,encoded:o}=e[a];i?(n.push(T(t+s,{size:32})),r.push(o),s+=ce(o)):n.push(o)}return Ve([...n,...r])}function gy(e){if(!ie(e))throw new he({address:e});return{dynamic:!1,encoded:Zt(e.toLowerCase())}}function wy(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Du(e);if(!r&&e.length!==t)throw new gm({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let i=0;i<e.length;i++){const o=oi({param:n,value:e[i]});o.dynamic&&(s=!0),a.push(o)}if(r||s){const i=ci(a);if(r){const o=T(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ve([o,i]):o}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:Ve(a.map(({encoded:i})=>i))}}function vy(e,{param:t}){const[,n]=t.type.split("bytes"),r=ce(e);if(!n){let s=e;return r%32!==0&&(s=Zt(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Ve([Zt(T(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new wm({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Zt(e,{dir:"right"})}}function xy(e){if(typeof e!="boolean")throw new x(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Zt(Hu(e))}}function _y(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Vu({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:T(e,{size:32,signed:t})}}function Ey(e){const t=Mn(e),n=Math.ceil(ce(t)/32),r=[];for(let s=0;s<n;s++)r.push(Zt(ln(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ve([Zt(T(ce(t),{size:32})),...r])}}function Ay(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],i=Array.isArray(e)?s:a.name,o=oi({param:a,value:e[i]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?ci(r):Ve(r.map(({encoded:s})=>s))}}function ui(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Ir=e=>ln(rd(e),0,4);function fn(e){const{abi:t,args:n=[],name:r}=e,s=Ke(r,{strict:!1}),a=t.filter(o=>s?o.type==="function"?Ir(o)===r:o.type==="event"?Ks(o)===r:!1:"name"in o&&o.name===r);if(a.length===0)return;if(a.length===1)return a[0];let i;for(const o of a){if(!("inputs"in o))continue;if(!n||n.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==n.length)continue;if(n.every((u,d)=>{const l="inputs"in o&&o.inputs[d];return l?di(u,l):!1})){if(i&&"inputs"in i&&i.inputs){const u=cd(o.inputs,i.inputs,n);if(u)throw new Am({abiItem:o,type:u[0]},{abiItem:i,type:u[1]})}i=o}}return i||a[0]}function di(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ie(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>di(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>di(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function cd(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return cd(s.components,a.components,n[r]);const i=[s.type,a.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?ie(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?ie(n[r],{strict:!1}):!1)return i}}const ud="/docs/contract/encodeEventTopics";function Cr(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=fn({abi:t,name:n});if(!u)throw new Mu(n,{docsPath:ud});s=u}if(s.type!=="event")throw new Mu(void 0,{docsPath:ud});const a=rt(s),i=Ks(a);let o=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(l=>"indexed"in l&&l.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(l=>r[l.name]))??[]:[];d.length>0&&(o=(u==null?void 0:u.map((l,f)=>Array.isArray(d[f])?d[f].map((p,h)=>dd({param:l,value:d[f][h]})):typeof d[f]<"u"&&d[f]!==null?dd({param:l,value:d[f]}):null))??[])}return[i,...o]}function dd({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ge(It(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Rm(e.type);return Rt([e],[t])}function Ys(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:a,response:i,status:o,transport:c})=>{o==="success"&&t===a&&(n[i]=c.request)})),a=>n[a]||e.request}async function ld(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:i,strict:o,toBlock:c}=t,u=Ys(e,{method:"eth_newFilter"}),d=a?Cr({abi:r,args:s,eventName:a}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?T(i):i,toBlock:typeof c=="bigint"?T(c):c,topics:d}]});return{abi:r,args:s,eventName:a,id:l,request:u(l),strict:!!o,type:"event"}}function oe(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const fd="/docs/contract/encodeFunctionData";function Sy(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const a=fn({abi:t,args:n,name:r});if(!a)throw new zn(r,{docsPath:fd});s=a}if(s.type!=="function")throw new zn(void 0,{docsPath:fd});return{abi:[s],functionName:Ir(rt(s))}}function Se(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var o;return e.abi.length===1&&((o=e.functionName)!=null&&o.startsWith("0x"))?e:Sy(e)})(),s=n[0],a=r,i="inputs"in s&&s.inputs?Rt(s.inputs,t??[]):void 0;return Je([a,i??"0x"])}const Ty={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},pd={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Iy={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let hd=class extends x{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},md=class extends x{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},Cy=class extends x{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Ry={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Cy({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new md({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new hd({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new hd({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function li(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Ry);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Py(e,t={}){typeof t.size<"u"&&st(e,{size:t.size});const n=pe(e,t);return re(n,t)}function Ny(e,t={}){let n=e;if(typeof t.size<"u"&&(st(n,{size:t.size}),n=Ye(n)),n.length>1||n[0]>1)throw new Nm(n);return!!n[0]}function Pt(e,t={}){typeof t.size<"u"&&st(e,{size:t.size});const n=pe(e,t);return je(n,t)}function Oy(e,t={}){let n=e;return typeof t.size<"u"&&(st(n,{size:t.size}),n=Ye(n,{dir:"right"})),new TextDecoder().decode(n)}function Rr(e,t){const n=typeof t=="string"?Be(t):t,r=li(n);if(ce(n)===0&&e.length>0)throw new xr;if(ce(t)&&ce(t)<32)throw new ku({data:typeof t=="string"?t:pe(t),params:e,size:ce(t)});let s=0;const a=[];for(let i=0;i<e.length;++i){const o=e[i];r.setPosition(s);const[c,u]=jn(r,o,{staticPosition:0});s+=u,a.push(c)}return a}function jn(e,t,{staticPosition:n}){const r=ui(t.type);if(r){const[s,a]=r;return By(e,{...t,type:a},{length:s,staticPosition:n})}if(t.type==="tuple")return Ly(e,t,{staticPosition:n});if(t.type==="address")return ky(e);if(t.type==="bool")return $y(e);if(t.type.startsWith("bytes"))return zy(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return My(e,t);if(t.type==="string")return Dy(e,{staticPosition:n});throw new Im(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const yd=32,fi=32;function ky(e){const t=e.readBytes(32);return[Tr(pe(id(t,-20))),32]}function By(e,t,{length:n,staticPosition:r}){if(!n){const i=Pt(e.readBytes(fi)),o=r+i,c=o+yd;e.setPosition(o);const u=Pt(e.readBytes(yd)),d=Pr(t);let l=0;const f=[];for(let p=0;p<u;++p){e.setPosition(c+(d?p*32:l));const[h,m]=jn(e,t,{staticPosition:c});l+=m,f.push(h)}return e.setPosition(r+32),[f,32]}if(Pr(t)){const i=Pt(e.readBytes(fi)),o=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(o+u*32);const[d]=jn(e,t,{staticPosition:o});c.push(d)}return e.setPosition(r+32),[c,32]}let s=0;const a=[];for(let i=0;i<n;++i){const[o,c]=jn(e,t,{staticPosition:r+s});s+=c,a.push(o)}return[a,s]}function $y(e){return[Ny(e.readBytes(32),{size:32}),32]}function zy(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Pt(e.readBytes(32));e.setPosition(n+i);const o=Pt(e.readBytes(32));if(o===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(o);return e.setPosition(n+32),[pe(c),32]}return[pe(e.readBytes(Number.parseInt(s,10),32)),32]}function My(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Py(s,{signed:n}):Pt(s,{signed:n}),32]}function Ly(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let a=0;if(Pr(t)){const i=Pt(e.readBytes(fi)),o=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(o+a);const[d,l]=jn(e,u,{staticPosition:o});a+=l,s[r?c:u==null?void 0:u.name]=d}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const o=t.components[i],[c,u]=jn(e,o,{staticPosition:n});s[r?i:o==null?void 0:o.name]=c,a+=u}return[s,a]}function Dy(e,{staticPosition:t}){const n=Pt(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Pt(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),i=Oy(Ye(a));return e.setPosition(t+32),[i,32]}function Pr(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Pr);const n=ui(e.type);return!!(n&&Pr({...e,type:n[1]}))}function bd(e){const{abi:t,data:n}=e,r=ln(n,0,4);if(r==="0x")throw new xr;const a=[...t||[],pd,Iy].find(i=>i.type==="error"&&r===Ir(rt(i)));if(!a)throw new $u(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?Rr(a.inputs,ln(n,4)):void 0,errorName:a.name}}const le=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function gd({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?le(t[a]):t[a]}`).join(", ")})`}const Fy={gwei:9,wei:18},Uy={ether:-9,wei:9};function wd(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function pi(e,t="wei"){return wd(e,Fy[t])}function $e(e,t="wei"){return wd(e,Uy[t])}class jy extends x{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Vy extends x{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function vd(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Hy(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=vd(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=vd(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Nr(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Gy extends x{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class qy extends x{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Zy extends x{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Nr(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Wy extends x{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Ky extends x{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f}){var h;const p=Nr({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:l,value:typeof f<"u"&&`${pi(f)} ${((h=s==null?void 0:s.nativeCurrency)==null?void 0:h.symbol)||"ETH"}`,data:a,gas:i,gasPrice:typeof o<"u"&&`${$e(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${$e(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${$e(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class xd extends x{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){let i="Transaction";r&&a!==void 0&&(i=`Transaction at block time "${r}" at index "${a}"`),t&&a!==void 0&&(i=`Transaction at block hash "${t}" at index "${a}"`),n&&a!==void 0&&(i=`Transaction at block number "${n}" at index "${a}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class _d extends x{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Ed extends x{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class Yy extends x{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Jy=e=>e,Or=e=>e;class Ad extends x{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f,stateOverride:p}){var g;const h=n?oe(n):void 0;let m=Nr({from:h==null?void 0:h.address,to:l,value:typeof f<"u"&&`${pi(f)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:a,gas:i,gasPrice:typeof o<"u"&&`${$e(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${$e(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${$e(u)} gwei`,nonce:d});p&&(m+=`
${Hy(p)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Sd extends x{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:i,sender:o}){const c=fn({abi:n,args:r,name:i}),u=c?gd({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?rt(c,{includeName:!0}):void 0,l=Nr({address:s&&Jy(s),function:d,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:o});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=o}}class hi extends x{constructor({abi:t,data:n,functionName:r,message:s}){let a,i,o,c;if(n&&n!=="0x")try{i=bd({abi:t,data:n});const{abiItem:d,errorName:l,args:f}=i;if(l==="Error")c=f[0];else if(l==="Panic"){const[p]=f;c=Ty[p]}else{const p=d?rt(d,{includeName:!0}):void 0,h=d&&f?gd({abiItem:d,args:f,includeFunctionName:!1,includeName:!1}):void 0;o=[p?`Error: ${p}`:"",h&&h!=="()"?`       ${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${h}`:""]}}catch(d){a=d}else s&&(c=s);let u;a instanceof $u&&(u=a.signature,o=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class Xy extends x{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Qy extends x{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Js extends x{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class pn extends x{constructor({body:t,cause:n,details:r,headers:s,status:a,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${Or(i)}`,t&&`Request body: ${le(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=a,this.url=i}}class mi extends x{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Or(r)}`,`Request body: ${le(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class Td extends x{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Or(n)}`,`Request body: ${le(t)}`],name:"TimeoutError"})}}const eb=-1;class ze extends x{constructor(t,{code:n,docsPath:r,metaMessages:s,name:a,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||t.name,this.code=t instanceof mi?t.code:n??eb}}class He extends ze{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class kr extends ze{constructor(t){super(t,{code:kr.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(kr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Br extends ze{constructor(t){super(t,{code:Br.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Br,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class $r extends ze{constructor(t,{method:n}={}){super(t,{code:$r.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty($r,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class zr extends ze{constructor(t){super(t,{code:zr.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(zr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class hn extends ze{constructor(t){super(t,{code:hn.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Wt extends ze{constructor(t){super(t,{code:Wt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Mr extends ze{constructor(t){super(t,{code:Mr.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Mr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Lr extends ze{constructor(t){super(t,{code:Lr.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Lr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Dr extends ze{constructor(t){super(t,{code:Dr.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Dr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class mn extends ze{constructor(t,{method:n}={}){super(t,{code:mn.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Vn extends ze{constructor(t){super(t,{code:Vn.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Fr extends ze{constructor(t){super(t,{code:Fr.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Hn extends He{constructor(t){super(t,{code:Hn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ur extends He{constructor(t){super(t,{code:Ur.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Ur,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class jr extends He{constructor(t,{method:n}={}){super(t,{code:jr.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(jr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Vr extends He{constructor(t){super(t,{code:Vr.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Vr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Hr extends He{constructor(t){super(t,{code:Hr.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Hr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Gr extends He{constructor(t){super(t,{code:Gr.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Gr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Gn extends He{constructor(t){super(t,{code:Gn.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class qr extends He{constructor(t){super(t,{code:qr.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(qr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Zr extends He{constructor(t){super(t,{code:Zr.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Zr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Wr extends He{constructor(t){super(t,{code:Wr.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Wr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Kr extends He{constructor(t){super(t,{code:Kr.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Kr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Yr extends He{constructor(t){super(t,{code:Yr.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Yr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class qn extends He{constructor(t){super(t,{code:qn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(qn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class tb extends ze{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const nb=3;function yn(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:i}){const o=e instanceof Js?e:e instanceof x?e.walk(h=>"data"in h)||e.walk():{},{code:c,data:u,details:d,message:l,shortMessage:f}=o,p=e instanceof xr?new Xy({functionName:a}):[nb,hn.code].includes(c)&&(u||d||l||f)||c===Wt.code&&d==="execution reverted"&&u?new hi({abi:t,data:typeof u=="object"?u.data:u,functionName:a,message:o instanceof mi?d:f??l}):e;return new Sd(p,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:i})}function Id(e){const t=ge(`0x${e.substring(4)}`).substring(26);return Tr(`0x${t}`)}async function rb({hash:e,signature:t}){const n=Ke(e)?e:Q(e),{secp256k1:r}=await Promise.resolve().then(()=>F6);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:d,v:l,yParity:f}=t,p=Number(f??l),h=Cd(p);return new r.Signature(re(u),re(d)).addRecoveryBit(h)}const i=Ke(t)?t:Q(t);if(ce(i)!==65)throw new Error("invalid signature length");const o=je(`0x${i.slice(130)}`),c=Cd(o);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Cd(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Rd({hash:e,signature:t}){return Id(await rb({hash:e,signature:t}))}function Nt(e,t="hex"){const n=Pd(e),r=li(new Uint8Array(n.length));return n.encode(r),t==="hex"?pe(r.bytes):r.bytes}function Pd(e){return Array.isArray(e)?sb(e.map(t=>Pd(t))):ab(e)}function sb(e){const t=e.reduce((s,a)=>s+a.length,0),n=Nd(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:a}of e)a(s)}}}function ab(e){const t=typeof e=="string"?Be(e):e,n=Nd(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Nd(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new x("Length is too large.")}function Od(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,a=ge(Je(["0x05",Nt([t?T(t):"0x",s,n?T(n):"0x"])]));return r==="bytes"?Be(a):a}async function Xs(e){const{authorization:t,signature:n}=e;return Rd({hash:Od(t),signature:n??t})}class ib extends x{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f}){var h;const p=Nr({from:n==null?void 0:n.address,to:l,value:typeof f<"u"&&`${pi(f)} ${((h=s==null?void 0:s.nativeCurrency)==null?void 0:h.symbol)||"ETH"}`,data:a,gas:i,gasPrice:typeof o<"u"&&`${$e(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${$e(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${$e(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Zn extends x{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(Zn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class bn extends x{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${$e(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(bn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class yi extends x{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${$e(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(yi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class bi extends x{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(bi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class gi extends x{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(gi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class wi extends x{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(wi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class vi extends x{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(vi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class xi extends x{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(xi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class _i extends x{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(_i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Ei extends x{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Ei,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Jr extends x{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${$e(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${$e(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Jr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Xr extends x{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Qs(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof x?e.walk(s=>(s==null?void 0:s.code)===Zn.code):e;return r instanceof x?new Zn({cause:e,message:r.details}):Zn.nodeMessage.test(n)?new Zn({cause:e,message:e.details}):bn.nodeMessage.test(n)?new bn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):yi.nodeMessage.test(n)?new yi({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):bi.nodeMessage.test(n)?new bi({cause:e,nonce:t==null?void 0:t.nonce}):gi.nodeMessage.test(n)?new gi({cause:e,nonce:t==null?void 0:t.nonce}):wi.nodeMessage.test(n)?new wi({cause:e,nonce:t==null?void 0:t.nonce}):vi.nodeMessage.test(n)?new vi({cause:e}):xi.nodeMessage.test(n)?new xi({cause:e,gas:t==null?void 0:t.gas}):_i.nodeMessage.test(n)?new _i({cause:e,gas:t==null?void 0:t.gas}):Ei.nodeMessage.test(n)?new Ei({cause:e}):Jr.nodeMessage.test(n)?new Jr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Xr({cause:e})}function ob(e,{docsPath:t,...n}){const r=(()=>{const s=Qs(e,n);return s instanceof Xr?e:s})();return new ib(r,{docsPath:t,...n})}function Qr(e,{format:t}){if(!t)return{};const n={};function r(a){const i=Object.keys(a);for(const o of i)o in e&&(n[o]=e[o]),a[o]&&typeof a[o]=="object"&&!Array.isArray(a[o])&&r(a[o])}const s=t(e||{});return r(s),n}function ea(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,a)=>{const i=t(s,a);if(n)for(const o of n)delete i[o];return{...i,...r(s,a)}},type:e})}const cb={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Kt(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=db(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>pe(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=T(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=T(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=T(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=T(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=T(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=T(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=cb[e.type]),typeof e.value<"u"&&(n.value=T(e.value)),n}const ub=ea("transactionRequest",Kt);function db(e){return e.map(t=>({address:t.address,r:t.r?T(BigInt(t.r)):t.r,s:t.s?T(BigInt(t.s)):t.s,chainId:T(t.chainId),nonce:T(t.nonce),...typeof t.yParity<"u"?{yParity:T(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:T(t.v)}:{}}))}function kd(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new ju({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new ju({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function lb(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,i={};if(a!==void 0&&(i.code=a),t!==void 0&&(i.balance=T(t)),n!==void 0&&(i.nonce=T(n)),r!==void 0&&(i.state=kd(r)),s!==void 0){if(i.state)throw new Vy;i.stateDiff=kd(s)}return i}function Ai(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ie(n,{strict:!1}))throw new he({address:n});if(t[n])throw new jy({address:n});t[n]=lb(r)}return t}const fb=2n**16n-1n,ta=2n**256n-1n;function Ot(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,i=t?oe(t):void 0;if(i&&!ie(i.address))throw new he({address:i.address});if(a&&!ie(a))throw new he({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Gy;if(r&&r>ta)throw new bn({maxFeePerGas:r});if(s&&r&&s>r)throw new Jr({maxFeePerGas:r,maxPriorityFeePerGas:s})}class pb extends x{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Si extends x{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class hb extends x{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${$e(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Bd extends x{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const $d={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function na(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?je(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?je(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?$d[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=mb(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const zd=ea("transaction",na);function mb(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Ti(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:na(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Md=ea("block",Ti);async function mt(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,d,l;const a=s??!1,i=n!==void 0?T(n):void 0;let o=null;if(t?o=await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):o=await e.request({method:"eth_getBlockByNumber",params:[i||r,a]},{dedupe:!!i}),!o)throw new Bd({blockHash:t,blockNumber:n});return(((l=(d=(u=e.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:l.format)||Ti)(o,"getBlock")}async function Ii(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function yb(e,t){return Ld(e,t)}async function Ld(e,t){var a,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=((a=r==null?void 0:r.fees)==null?void 0:a.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof o=="function"){const u=n||await U(e,mt,"getBlock")({}),d=await o({block:u,client:e,request:s});if(d===null)throw new Error;return d}if(typeof o<"u")return o;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return re(c)}catch{const[o,c]=await Promise.all([n?Promise.resolve(n):U(e,mt,"getBlock")({}),U(e,Ii,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new Si;const u=c-o.baseFeePerGas;return u<0n?0n:u}}async function bb(e,t){return Ci(e,t)}async function Ci(e,t){var f,p;const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},i=await(async()=>{var h,m;return typeof((h=r==null?void 0:r.fees)==null?void 0:h.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(i<1)throw new pb;const c=10**(((f=i.toString().split(".")[1])==null?void 0:f.length)??0),u=h=>h*BigInt(Math.ceil(i*c))/BigInt(c),d=n||await U(e,mt,"getBlock")({});if(typeof((p=r==null?void 0:r.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const h=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:a});if(h!==null)return h}if(a==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Si;const h=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Ld(e,{block:d,chain:r,request:s}),m=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??m+h,maxPriorityFeePerGas:h}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await U(e,Ii,"getGasPrice")({}))}}async function Ri(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?T(r):n]},{dedupe:!!r});return je(s)}function Pi(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(a=>Be(a)):e.blobs,s=[];for(const a of r)s.push(Uint8Array.from(t.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>pe(a))}function Ni(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Be(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Be(i)):e.commitments,a=[];for(let i=0;i<r.length;i++){const o=r[i],c=s[i];a.push(Uint8Array.from(t.computeBlobKzgProof(o,c)))}return n==="bytes"?a:a.map(i=>pe(i))}function gb(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),a=BigInt(4294967295),i=Number(n>>s&a),o=Number(n&a),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,o,r)}function wb(e,t,n){return e&t^~e&n}function vb(e,t,n){return e&t^e&n^t&n}class xb extends ni{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=ti(this.buffer)}update(t){Dn(this),t=Ws(t),dn(t);const{view:n,buffer:r,blockLen:s}=this,a=t.length;for(let i=0;i<a;){const o=Math.min(s-this.pos,a-i);if(o===s){const c=ti(t);for(;s<=a-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Dn(this),Zu(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:i}=this;n[i++]=128,Fn(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let l=i;l<s;l++)n[l]=0;gb(r,s-8,BigInt(this.length*8),a),this.process(r,0);const o=ti(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)o.setUint32(4*l,d[l],a)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:i,pos:o}=this;return t.destroyed=i,t.finished=a,t.length=s,t.pos=o,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Yt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_b=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jt=new Uint32Array(64);class Eb extends xb{constructor(t=32){super(64,t,8,!1),this.A=Yt[0]|0,this.B=Yt[1]|0,this.C=Yt[2]|0,this.D=Yt[3]|0,this.E=Yt[4]|0,this.F=Yt[5]|0,this.G=Yt[6]|0,this.H=Yt[7]|0}get(){const{A:t,B:n,C:r,D:s,E:a,F:i,G:o,H:c}=this;return[t,n,r,s,a,i,o,c]}set(t,n,r,s,a,i,o,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=i|0,this.G=o|0,this.H=c|0}process(t,n){for(let l=0;l<16;l++,n+=4)Jt[l]=t.getUint32(n,!1);for(let l=16;l<64;l++){const f=Jt[l-15],p=Jt[l-2],h=ht(f,7)^ht(f,18)^f>>>3,m=ht(p,17)^ht(p,19)^p>>>10;Jt[l]=m+Jt[l-7]+h+Jt[l-16]|0}let{A:r,B:s,C:a,D:i,E:o,F:c,G:u,H:d}=this;for(let l=0;l<64;l++){const f=ht(o,6)^ht(o,11)^ht(o,25),p=d+f+wb(o,c,u)+_b[l]+Jt[l]|0,m=(ht(r,2)^ht(r,13)^ht(r,22))+vb(r,s,a)|0;d=u,u=c,c=o,o=i+p|0,i=a,a=s,s=r,r=p+m|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,i=i+this.D|0,o=o+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,a,i,o,c,u,d)}roundClean(){Fn(Jt)}destroy(){this.set(0,0,0,0,0,0,0,0),Fn(this.buffer)}}const Dd=Ku(()=>new Eb),Ab=Dd;function Fd(e,t){const n=t||"hex",r=Ab(Ke(e,{strict:!1})?It(e):e);return n==="bytes"?r:Q(r)}function Sb(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Fd(t,"bytes");return s.set([n],0),r==="bytes"?s:pe(s)}function Ud(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const a of t)s.push(Sb({commitment:a,to:r,version:n}));return s}const jd=6,Vd=32,Oi=4096,Hd=Vd*Oi,Gd=Hd*jd-1-1*Oi*jd,qd=1;class Tb extends x{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Zd extends x{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Ib extends x{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Cb extends x{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${qd}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Rb(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Be(e.data):e.data,r=ce(n);if(!r)throw new Zd;if(r>Gd)throw new Tb({maxSize:Gd,size:r});const s=[];let a=!0,i=0;for(;a;){const o=li(new Uint8Array(Hd));let c=0;for(;c<Oi;){const u=n.slice(i,i+(Vd-1));if(o.pushByte(0),o.pushBytes(u),u.length<31){o.pushByte(128),a=!1;break}c++,i+=31}s.push(o)}return t==="bytes"?s.map(o=>o.bytes):s.map(o=>pe(o.bytes))}function Wd(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Rb({data:t,to:r}),a=e.commitments??Pi({blobs:s,kzg:n,to:r}),i=e.proofs??Ni({blobs:s,commitments:a,kzg:n,to:r}),o=[];for(let c=0;c<s.length;c++)o.push({blob:s[c],commitment:a[c],proof:i[c]});return o}function Kd(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Zy({transaction:e})}async function kt(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return je(t)}const ki=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Yd=new Map;async function Wn(e,t){const{account:n=e.account,blobs:r,chain:s,gas:a,kzg:i,nonce:o,nonceManager:c,parameters:u=ki,type:d}=t,l=n&&oe(n),f={...t,...l?{from:l==null?void 0:l.address}:{}};let p;async function h(){return p||(p=await U(e,mt,"getBlock")({blockTag:"latest"}),p)}let m;async function g(){return m||(s?s.id:typeof t.chainId<"u"?t.chainId:(m=await U(e,kt,"getChainId")({}),m))}if(u.includes("nonce")&&typeof o>"u"&&l)if(c){const y=await g();f.nonce=await c.consume({address:l.address,chainId:y,client:e})}else f.nonce=await U(e,Ri,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const y=Pi({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const v=Ud({commitments:y,to:"hex"});f.blobVersionedHashes=v}if(u.includes("sidecars")){const v=Ni({blobs:r,commitments:y,kzg:i}),w=Wd({blobs:r,commitments:y,proofs:v,to:"hex"});f.sidecars=w}}if(u.includes("chainId")&&(f.chainId=await g()),(u.includes("fees")||u.includes("type"))&&typeof d>"u")try{f.type=Kd(f)}catch{let y=Yd.get(e.uid);if(typeof y>"u"){const v=await h();y=typeof(v==null?void 0:v.baseFeePerGas)=="bigint",Yd.set(e.uid,y)}f.type=y?"eip1559":"legacy"}if(u.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const y=await h(),{maxFeePerGas:v,maxPriorityFeePerGas:w}=await Ci(e,{block:y,chain:s,request:f});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new hb({maxPriorityFeePerGas:w});f.maxPriorityFeePerGas=w,f.maxFeePerGas=v}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Si;if(typeof t.gasPrice>"u"){const y=await h(),{gasPrice:v}=await Ci(e,{block:y,chain:s,request:f,type:"legacy"});f.gasPrice=v}}return u.includes("gas")&&typeof a>"u"&&(f.gas=await U(e,Bi,"estimateGas")({...f,account:l,prepare:(l==null?void 0:l.type)==="local"?[]:["blobVersionedHashes"]})),Ot(f),delete f.parameters,f}async function Bi(e,t){var i,o,c;const{account:n=e.account,prepare:r=!0}=t,s=n?oe(n):void 0,a=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const{accessList:u,authorizationList:d,blobs:l,blobVersionedHashes:f,blockNumber:p,blockTag:h,data:m,gas:g,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:_,value:E,stateOverride:A,...S}=r?await Wn(e,{...t,parameters:a}):t,L=(typeof p=="bigint"?T(p):void 0)||h,N=Ai(A),$=await(async()=>{if(S.to)return S.to;if(d&&d.length>0)return await Xs({authorization:d[0]}).catch(()=>{throw new x("`to` is required. Could not infer from `authorizationList`")})})();Ot(t);const B=(c=(o=(i=e.chain)==null?void 0:i.formatters)==null?void 0:o.transactionRequest)==null?void 0:c.format,I=(B||Kt)({...Qr(S,{format:B}),account:s,accessList:u,authorizationList:d,blobs:l,blobVersionedHashes:f,data:m,gas:g,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:_,to:$,value:E},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:N?[I,L??e.experimental_blockTag??"latest",N]:L?[I,L]:[I]}))}catch(u){throw ob(u,{...t,account:s,chain:e.chain})}}async function Pb(e,t){const{abi:n,address:r,args:s,functionName:a,dataSuffix:i,...o}=t,c=Se({abi:n,args:s,functionName:a});try{return await U(e,Bi,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...o})}catch(u){const d=o.account?oe(o.account):void 0;throw yn(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:d==null?void 0:d.address})}}function Kn(e,t){if(!ie(e,{strict:!1}))throw new he({address:e});if(!ie(t,{strict:!1}))throw new he({address:t});return e.toLowerCase()===t.toLowerCase()}const Jd="/docs/contract/decodeEventLog";function $i(e){const{abi:t,data:n,strict:r,topics:s}=e,a=r??!0,[i,...o]=s;if(!i)throw new _m({docsPath:Jd});const c=t.find(m=>m.type==="event"&&i===Ks(rt(m)));if(!(c&&"name"in c)||c.type!=="event")throw new zu(i,{docsPath:Jd});const{name:u,inputs:d}=c,l=d==null?void 0:d.some(m=>!("name"in m&&m.name)),f=l?[]:{},p=d.map((m,g)=>[m,g]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<p.length;m++){const[g,y]=p[m],v=o[m];if(!v)throw new qs({abiItem:c,param:g});f[l?y:g.name||y]=Nb({param:g,value:v})}const h=d.filter(m=>!("indexed"in m&&m.indexed));if(h.length>0){if(n&&n!=="0x")try{const m=Rr(h,n);if(m)if(l)for(let g=0;g<d.length;g++)f[g]=f[g]??m.shift();else for(let g=0;g<h.length;g++)f[h[g].name]=m[g]}catch(m){if(a)throw m instanceof ku||m instanceof md?new _r({abiItem:c,data:n,params:h,size:ce(n)}):m}else if(a)throw new _r({abiItem:c,data:"0x",params:h,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function Nb({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Rr([e],t)||[])[0]}function zi(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{var o;try{const c=t.find(d=>d.type==="event"&&i.topics[0]===Ks(d));if(!c)return null;const u=$i({...i,abi:[c],strict:s});return a&&!a.includes(u.eventName)||!Ob({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...i}}catch(c){let u,d;if(c instanceof zu)return null;if(c instanceof _r||c instanceof qs){if(s)return null;u=c.abiItem.name,d=(o=c.abiItem.inputs)==null?void 0:o.some(l=>!("name"in l&&l.name))}return{...i,args:d?[]:{},eventName:u}}}).filter(Boolean)}function Ob(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(a,i,o){try{return a.type==="address"?Kn(i,o):a.type==="string"||a.type==="bytes"?ge(It(i))===o:i===o}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((a,i)=>{if(a==null)return!0;const o=n[i];return o?(Array.isArray(a)?a:[a]).some(u=>s(o,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,i])=>{if(i==null)return!0;const o=n.find(u=>u.name===a);return o?(Array.isArray(i)?i:[i]).some(u=>s(o,u,t[a])):!1}):!1}function yt(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Mi(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:i,args:o,strict:c}={}){const u=c??!1,d=i??(a?[a]:void 0);let l=[];d&&(l=[d.flatMap(m=>Cr({abi:[m],eventName:m.name,args:i?void 0:o}))],a&&(l=l[0]));let f;n?f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?T(r):r,toBlock:typeof s=="bigint"?T(s):s}]});const p=f.map(h=>yt(h));return d?zi({abi:d,args:o,logs:p,strict:u}):p}async function Xd(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:i,fromBlock:o,toBlock:c,strict:u}=t,d=i?fn({abi:n,name:i}):void 0,l=d?void 0:n.filter(f=>f.type==="event");return U(e,Mi,"getLogs")({address:r,args:s,blockHash:a,event:d,events:l,fromBlock:o,toBlock:c,strict:u})}const Li="/docs/contract/decodeFunctionResult";function gn(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const o=fn({abi:t,args:n,name:r});if(!o)throw new zn(r,{docsPath:Li});a=o}if(a.type!=="function")throw new zn(void 0,{docsPath:Li});if(!a.outputs)throw new Lu(a.name,{docsPath:Li});const i=Rr(a.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Di=BigInt(0),Fi=BigInt(1);function es(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ui(e){if(!es(e))throw new Error("Uint8Array expected")}function ts(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function ra(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Qd(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Di:BigInt("0x"+e)}const el=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",kb=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ns(e){if(Ui(e),el)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=kb[e[n]];return t}const Bt={_0:48,_9:57,A:65,F:70,a:97,f:102};function tl(e){if(e>=Bt._0&&e<=Bt._9)return e-Bt._0;if(e>=Bt.A&&e<=Bt.F)return e-(Bt.A-10);if(e>=Bt.a&&e<=Bt.f)return e-(Bt.a-10)}function sa(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(el)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const i=tl(e.charCodeAt(a)),o=tl(e.charCodeAt(a+1));if(i===void 0||o===void 0){const c=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+a)}r[s]=i*16+o}return r}function wn(e){return Qd(ns(e))}function nl(e){return Ui(e),Qd(ns(Uint8Array.from(e).reverse()))}function rs(e,t){return sa(e.toString(16).padStart(t*2,"0"))}function rl(e,t){return rs(e,t).reverse()}function Xe(e,t,n){let r;if(typeof t=="string")try{r=sa(t)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else if(es(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function aa(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Ui(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const a=e[r];n.set(a,s),s+=a.length}return n}const ji=e=>typeof e=="bigint"&&Di<=e;function Vi(e,t,n){return ji(e)&&ji(t)&&ji(n)&&t<=e&&e<n}function Yn(e,t,n,r){if(!Vi(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Bb(e){let t;for(t=0;e>Di;e>>=Fi,t+=1);return t}const ia=e=>(Fi<<BigInt(e))-Fi,Hi=e=>new Uint8Array(e),sl=e=>Uint8Array.from(e);function $b(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Hi(e),s=Hi(e),a=0;const i=()=>{r.fill(1),s.fill(0),a=0},o=(...l)=>n(s,r,...l),c=(l=Hi(0))=>{s=o(sl([0]),l),r=o(),l.length!==0&&(s=o(sl([1]),l),r=o())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const f=[];for(;l<t;){r=o();const p=r.slice();f.push(p),l+=r.length}return aa(...f)};return(l,f)=>{i(),c(l);let p;for(;!(p=f(u()));)c();return i(),p}}const zb={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||es(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function oa(e,t,n={}){const r=(s,a,i)=>{const o=zb[a];if(typeof o!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!o(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+c)};for(const[s,a]of Object.entries(t))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return e}function al(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const a=e(n,...r);return t.set(n,a),a}}const Mb="0.1.1";function Lb(){return Mb}class K extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof K){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof K&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,o=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Lb()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return il(this,t)}}function il(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?il(e.cause,t):t?null:e}function ss(e,t){if(Jn(e)>t)throw new t1({givenSize:Jn(e),maxSize:t})}const $t={zero:48,nine:57,A:65,F:70,a:97,f:102};function ol(e){if(e>=$t.zero&&e<=$t.nine)return e-$t.zero;if(e>=$t.A&&e<=$t.F)return e-($t.A-10);if(e>=$t.a&&e<=$t.f)return e-($t.a-10)}function Db(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new n1({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const i=n==="right";s[i?a:r-a-1]=e[i?a:e.length-a-1]}return s}function cl(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function ca(e,t){if(Ge(e)>t)throw new c1({givenSize:Ge(e),maxSize:t})}function Fb(e,t){if(typeof t=="number"&&t>0&&t>Ge(e)-1)throw new wl({offset:t,position:"start",size:Ge(e)})}function Ub(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Ge(e)!==n-t)throw new wl({offset:n,position:"end",size:Ge(e)})}function ul(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new u1({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const jb="#__bigint";function dl(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+jb:s,n)}const Vb=new TextDecoder,Hb=new TextEncoder;function Gb(e){return e instanceof Uint8Array?e:typeof e=="string"?ll(e):qb(e)}function qb(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function ll(e,t={}){const{size:n}=t;let r=e;n&&(ca(e,n),r=xn(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,i=new Uint8Array(a);for(let o=0,c=0;o<a;o++){const u=ol(s.charCodeAt(c++)),d=ol(s.charCodeAt(c++));if(u===void 0||d===void 0)throw new K(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[o]=u*16+d}return i}function Zb(e,t={}){const{size:n}=t,r=Hb.encode(e);return typeof n=="number"?(ss(r,n),Wb(r,n)):r}function Wb(e,t){return Db(e,{dir:"right",size:t})}function Jn(e){return e.length}function Kb(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function Yb(e,t={}){const{size:n}=t;typeof n<"u"&&ss(e,n);const r=it(e,t);return hl(r,t)}function Jb(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(ss(r,n),r=fl(r)),r.length>1||r[0]>1)throw new e1(r);return!!r[0]}function zt(e,t={}){const{size:n}=t;typeof n<"u"&&ss(e,n);const r=it(e,t);return ml(r,t)}function Xb(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(ss(r,n),r=Qb(r)),Vb.decode(r)}function fl(e){return cl(e,{dir:"left"})}function Qb(e){return cl(e,{dir:"right"})}class e1 extends K{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let t1=class extends K{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},n1=class extends K{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const r1=new TextEncoder,s1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a1(e,t={}){const{strict:n=!1}=t;if(!e)throw new bl(e);if(typeof e!="string")throw new bl(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new gl(e);if(!e.startsWith("0x"))throw new gl(e)}function at(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function i1(e){return e instanceof Uint8Array?it(e):Array.isArray(e)?it(new Uint8Array(e)):e}function pl(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ca(n,t.size),vn(n,t.size)):n}function it(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=s1[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ca(r,t.size),xn(r,t.size)):r}function Te(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<i){const u=typeof e=="bigint"?"n":"";throw new yl({max:a?`${a}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?vn(c,r):c}function Gi(e,t={}){return it(r1.encode(e),t)}function vn(e,t){return ul(e,{dir:"left",size:t})}function xn(e,t){return ul(e,{dir:"right",size:t})}function bt(e,t,n,r={}){const{strict:s}=r;Fb(e,t);const a=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Ub(a,t,n),a}function Ge(e){return Math.ceil((e.length-2)/2)}function hl(e,t={}){const{signed:n}=t;t.size&&ca(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n)-1n,i=a>>1n;return r<=i?r:r-a-1n}function ml(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:hl(e,t))}function o1(e,t={}){const{strict:n=!1}=t;try{return a1(e,{strict:n}),!0}catch{return!1}}class yl extends K{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number \`${a}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class bl extends K{constructor(t){super(`Value \`${typeof t=="object"?dl(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class gl extends K{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class c1 extends K{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class wl extends K{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class u1 extends K{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function d1(e){return{address:e.address,amount:Te(e.amount),index:Te(e.index),validatorIndex:Te(e.validatorIndex)}}function vl(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:Te(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:Te(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:Te(e.gasLimit)},...typeof e.number=="bigint"&&{number:Te(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:Te(e.prevRandao)},...typeof e.time=="bigint"&&{time:Te(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(d1)}}}const ua=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],qi=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],xl=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],_l=[...xl,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],l1=[...xl,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],El=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Al=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Sl=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Tl=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],f1="0x82ad56cb",Il="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",p1="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",h1="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Zi="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Wi extends x{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class m1 extends x{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class y1 extends x{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Cl extends x{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class as extends x{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Ki="/docs/contract/encodeDeployData";function da(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Ou({docsPath:Ki});if(!("inputs"in s))throw new Gs({docsPath:Ki});if(!s.inputs||s.inputs.length===0)throw new Gs({docsPath:Ki});const a=Rt(s.inputs,n);return Je([r,a])}function Xn({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Wi({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Wi({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Rl(e,{docsPath:t,...n}){const r=(()=>{const s=Qs(e,n);return s instanceof Xr?e:s})();return new Ad(r,{docsPath:t,...n})}function Yi(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Ji=new Map;function Pl({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const d=c();i();const l=d.map(({args:f})=>f);l.length!==0&&e(l).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let p=0;p<d.length;p++){const{resolve:h}=d[p];h==null||h([f[p],f])}}).catch(f=>{for(let p=0;p<d.length;p++){const{reject:h}=d[p];h==null||h(f)}})},i=()=>Ji.delete(t),o=()=>c().map(({args:d})=>d),c=()=>Ji.get(t)||[],u=d=>Ji.set(t,[...c(),d]);return{flush:i,async schedule(d){const{promise:l,resolve:f,reject:p}=Yi();return(n==null?void 0:n([...o(),d]))&&a(),c().length>0?(u({args:d,resolve:f,reject:p}),l):(u({args:d,resolve:f,reject:p}),setTimeout(a,r),l)}}}async function is(e,t){var B,W,I,O;const{account:n=e.account,authorizationList:r,batch:s=!!((B=e.batch)!=null&&B.multicall),blockNumber:a,blockTag:i=e.experimental_blockTag??"latest",accessList:o,blobs:c,blockOverrides:u,code:d,data:l,factory:f,factoryData:p,gas:h,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:w,to:b,value:_,stateOverride:E,...A}=t,S=n?oe(n):void 0;if(d&&(f||p))throw new x("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&b)throw new x("Cannot provide both `code` & `to` as parameters.");const k=d&&l,L=f&&p&&b&&l,N=k||L,$=k?Nl({code:d,data:l}):L?w1({data:l,factory:f,factoryData:p,to:b}):l;try{Ot(t);const C=(typeof a=="bigint"?T(a):void 0)||i,M=u?vl(u):void 0,H=Ai(E),Y=(O=(I=(W=e.chain)==null?void 0:W.formatters)==null?void 0:I.transactionRequest)==null?void 0:O.format,Ne=(Y||Kt)({...Qr(A,{format:Y}),accessList:o,account:S,authorizationList:r,blobs:c,data:$,gas:h,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:w,to:N?void 0:b,value:_},"call");if(s&&b1({request:Ne})&&!H&&!M)try{return await g1(e,{...Ne,blockNumber:a,blockTag:i})}catch(Oe){if(!(Oe instanceof Cl)&&!(Oe instanceof Wi))throw Oe}const Ee=(()=>{const Oe=[Ne,C];return H&&M?[...Oe,H,M]:H?[...Oe,H]:M?[...Oe,{},M]:Oe})(),ye=await e.request({method:"eth_call",params:Ee});return ye==="0x"?{data:void 0}:{data:ye}}catch(j){const C=v1(j),{offchainLookup:M,offchainLookupSignature:H}=await Promise.resolve().then(()=>Ig);if(e.ccipRead!==!1&&(C==null?void 0:C.slice(0,10))===H&&b)return{data:await M(e,{data:C,to:b})};throw N&&(C==null?void 0:C.slice(0,10))==="0x101bb98d"?new Qy({factory:f}):Rl(j,{...t,account:S,chain:e.chain})}}function b1({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(f1)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function g1(e,t){var m;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((m=e.batch)==null?void 0:m.multicall)=="object"?e.batch.multicall:{},{blockNumber:a,blockTag:i=e.experimental_blockTag??"latest",data:o,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return Xn({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new Cl})(),l=(typeof a=="bigint"?T(a):void 0)||i,{schedule:f}=Pl({id:`${e.uid}.${l}`,wait:s,shouldSplitBatch(g){return g.reduce((v,{data:w})=>v+(w.length-2),0)>n*2},fn:async g=>{const y=g.map(b=>({allowFailure:!0,callData:b.data,target:b.to})),v=Se({abi:ua,args:[y],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{...u===null?{data:Nl({code:Zi,data:v})}:{to:u,data:v}},l]});return gn({abi:ua,args:[y],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:p,success:h}]=await f({data:o,to:c});if(!h)throw new Js({data:p});return p==="0x"?{data:void 0}:{data:p}}function Nl(e){const{code:t,data:n}=e;return da({abi:Iu(["constructor(bytes, bytes)"]),bytecode:Il,args:[t,n]})}function w1(e){const{data:t,factory:n,factoryData:r,to:s}=e;return da({abi:Iu(["constructor(address, bytes, address, bytes)"]),bytecode:p1,args:[s,t,n,r]})}function v1(e){var n;if(!(e instanceof x))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function ot(e,t){const{abi:n,address:r,args:s,functionName:a,...i}=t,o=Se({abi:n,args:s,functionName:a});try{const{data:c}=await U(e,is,"call")({...i,data:o,to:r});return gn({abi:n,args:s,functionName:a,data:c||"0x"})}catch(c){throw yn(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function x1(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:i,...o}=t,c=o.account?oe(o.account):e.account,u=Se({abi:n,args:s,functionName:i});try{const{data:d}=await U(e,is,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...o,account:c}),l=gn({abi:n,args:s,functionName:i,data:d||"0x"}),f=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:l,request:{abi:f,address:r,args:s,dataSuffix:a,functionName:i,...o,account:c}}}catch(d){throw yn(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c==null?void 0:c.address})}}const Xi=new Map,Ol=new Map;let _1=0;function Mt(e,t,n){const r=++_1,s=()=>Xi.get(e)||[],a=()=>{const d=s();Xi.set(e,d.filter(l=>l.id!==r))},i=()=>{const d=s();if(!d.some(f=>f.id===r))return;const l=Ol.get(e);if(d.length===1&&l){const f=l();f instanceof Promise&&f.catch(()=>{})}a()},o=s();if(Xi.set(e,[...o,{id:r,fns:t}]),o&&o.length>0)return i;const c={};for(const d in t)c[d]=(...l)=>{var p,h;const f=s();if(f.length!==0)for(const m of f)(h=(p=m.fns)[d])==null||h.call(p,...l)};const u=n(c);return typeof u=="function"&&Ol.set(e,u),i}async function Qi(e){return new Promise(t=>setTimeout(t,e))}function Qn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let o;t&&(o=await e({unpoll:a}));const c=await(n==null?void 0:n(o))??r;await Qi(c);const u=async()=>{s&&(await e({unpoll:a}),await Qi(r),u())};u()})(),a}const E1=new Map,A1=new Map;function S1(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:i=>a.set(s,i)}),n=t(e,E1),r=t(e,A1);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function T1(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=S1(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const i=await a;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const I1=e=>`blockNumber.${e}`;async function os(e,{cacheTime:t=e.cacheTime}={}){const n=await T1(()=>e.request({method:"eth_blockNumber"}),{cacheKey:I1(e.uid),cacheTime:t});return BigInt(n)}async function la(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>yt(a));return!("abi"in t)||!t.abi?s:zi({abi:t.abi,logs:s,strict:n})}async function fa(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function C1(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:i,fromBlock:o,onError:c,onLogs:u,poll:d,pollingInterval:l=e.pollingInterval,strict:f}=t;return(typeof d<"u"?d:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=f??!1,y=le(["watchContractEvent",r,s,a,e.uid,i,l,g,o]);return Mt(y,{onLogs:u,onError:c},v=>{let w;o!==void 0&&(w=o-1n);let b,_=!1;const E=Qn(async()=>{var A;if(!_){try{b=await U(e,ld,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:g,fromBlock:o})}catch{}_=!0;return}try{let S;if(b)S=await U(e,la,"getFilterChanges")({filter:b});else{const k=await U(e,os,"getBlockNumber")({});w&&w<k?S=await U(e,Xd,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:w+1n,toBlock:k,strict:g}):S=[],w=k}if(S.length===0)return;if(a)v.onLogs(S);else for(const k of S)v.onLogs([k])}catch(S){b&&S instanceof Wt&&(_=!1),(A=v.onError)==null||A.call(v,S)}},{emitOnBegin:!0,interval:l});return async()=>{b&&await U(e,fa,"uninstallFilter")({filter:b}),E()}})})():(()=>{const g=f??!1,y=le(["watchContractEvent",r,s,a,e.uid,i,l,g]);let v=!0,w=()=>v=!1;return Mt(y,{onLogs:u,onError:c},b=>((async()=>{try{const _=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),E=i?Cr({abi:n,eventName:i,args:s}):[],{unsubscribe:A}=await _.subscribe({params:["logs",{address:r,topics:E}],onData(S){var L;if(!v)return;const k=S.result;try{const{eventName:N,args:$}=$i({abi:n,data:k.data,topics:k.topics,strict:f}),B=yt(k,{args:$,eventName:N});b.onLogs([B])}catch(N){let $,B;if(N instanceof _r||N instanceof qs){if(f)return;$=N.abiItem.name,B=(L=N.abiItem.inputs)==null?void 0:L.some(I=>!("name"in I&&I.name))}const W=yt(k,{args:B?[]:{},eventName:$});b.onLogs([W])}},onError(S){var k;(k=b.onError)==null||k.call(b,S)}});w=A,v||w()}catch(_){c==null||c(_)}})(),()=>w()))})()}class gt extends x{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class _n extends x{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function cs({chain:e,currentChainId:t}){if(!e)throw new y1;if(t!==e.id)throw new m1({chain:e,currentChainId:t})}function pa(e,{docsPath:t,...n}){const r=(()=>{const s=Qs(e,n);return s instanceof Xr?e:s})();return new Ky(r,{docsPath:t,...n})}async function ha(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const eo=new Sr(128);async function us(e,t){var v,w,b,_;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:i,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,type:h,value:m,...g}=t;if(typeof n>"u")throw new gt({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?oe(n):null;try{Ot(t);const E=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await Xs({authorization:a[0]}).catch(()=>{throw new x("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let A;r!==null&&(A=await U(e,kt,"getChainId")({}),cs({currentChainId:A,chain:r}));const S=(b=(w=(v=e.chain)==null?void 0:v.formatters)==null?void 0:w.transactionRequest)==null?void 0:b.format,L=(S||Kt)({...Qr(g,{format:S}),accessList:s,account:y,authorizationList:a,blobs:i,chainId:A,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,to:E,type:h,value:m},"sendTransaction"),N=eo.get(e.uid),$=N?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:$,params:[L]},{retryCount:0})}catch(B){if(N===!1)throw B;const W=B;if(W.name==="InvalidInputRpcError"||W.name==="InvalidParamsRpcError"||W.name==="MethodNotFoundRpcError"||W.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[L]},{retryCount:0}).then(I=>(eo.set(e.uid,!0),I)).catch(I=>{const O=I;throw O.name==="MethodNotFoundRpcError"||O.name==="MethodNotSupportedRpcError"?(eo.set(e.uid,!1),W):O});throw W}}if((y==null?void 0:y.type)==="local"){const A=await U(e,Wn,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:a,blobs:i,chain:r,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,nonceManager:y.nonceManager,parameters:[...ki,"sidecars"],type:h,value:m,...g,to:E}),S=(_=r==null?void 0:r.serializers)==null?void 0:_.transaction,k=await y.signTransaction(A,{serializer:S});return await U(e,ha,"sendRawTransaction")({serializedTransaction:k})}throw(y==null?void 0:y.type)==="smart"?new _n({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new _n({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(E){throw E instanceof _n?E:pa(E,{...t,account:y,chain:t.chain||void 0})}}async function er(e,t){return er.internal(e,us,"sendTransaction",t)}(function(e){async function t(n,r,s,a){const{abi:i,account:o=n.account,address:c,args:u,dataSuffix:d,functionName:l,...f}=a;if(typeof o>"u")throw new gt({docsPath:"/docs/contract/writeContract"});const p=o?oe(o):null,h=Se({abi:i,args:u,functionName:l});try{return await U(n,r,s)({data:`${h}${d?d.replace("0x",""):""}`,to:c,account:p,...f})}catch(m){throw yn(m,{abi:i,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:l,sender:p==null?void 0:p.address})}}e.internal=t})(er||(er={}));class R1 extends x{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function ma(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const i=async({count:o=0}={})=>{const c=async({error:u})=>{const d=typeof t=="function"?t({count:o,error:u}):t;d&&await Qi(d),i({count:o+1})};try{const u=await e();s(u)}catch(u){if(o<n&&await r({count:o,error:u}))return c({error:u});a(u)}};i()})}const kl={"0x0":"reverted","0x1":"success"};function to(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>yt(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?je(e.transactionIndex):null,status:e.status?kl[e.status]:null,type:e.type?$d[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const Bl=ea("transactionReceipt",to),$l="0x5792579257925792579257925792579257925792579257925792579257925792",zl=T(0,{size:32});async function Ml(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:a,experimental_fallbackDelay:i=32,forceAtomic:o=!1,id:c,version:u="2.0.0"}=t,d=n?oe(n):null,l=t.calls.map(f=>{const p=f,h=p.abi?Se({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&h?Ve([h,p.dataSuffix]):h,to:p.to,value:p.value?T(p.value):void 0}});try{const f=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:o,calls:l,capabilities:r,chainId:T(s.id),from:d==null?void 0:d.address,id:c,version:u}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const p=f;if(a&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured")||p.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Gn(new x(v,{details:v}))}if(o&&l.length>1){const y="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new qn(new x(y,{details:y}))}const h=[];for(const y of l){const v=us(e,{account:d,chain:s,data:y.data,to:y.to,value:y.value?re(y.value):void 0});h.push(v),i>0&&await new Promise(w=>setTimeout(w,i))}const m=await Promise.allSettled(h);if(m.every(y=>y.status==="rejected"))throw m[0].reason;const g=m.map(y=>y.status==="fulfilled"?y.value:zl);return{id:Ve([...g,T(s.id,{size:32}),$l])}}throw pa(f,{...t,account:d,chain:t.chain})}}async function Ll(e,t){async function n(d){if(d.endsWith($l.slice(2))){const f=Ye(ii(d,-64,-32)),p=ii(d,0,-64).slice(2).match(/.{1,64}/g),h=await Promise.all(p.map(g=>zl.slice(2)!==g?e.request({method:"eth_getTransactionReceipt",params:[`0x${g}`]},{dedupe:!0}):void 0)),m=h.some(g=>g===null)?100:h.every(g=>(g==null?void 0:g.status)==="0x1")?200:h.every(g=>(g==null?void 0:g.status)==="0x0")?500:600;return{atomic:!1,chainId:je(f),receipts:h.filter(Boolean),status:m,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:r=!1,chainId:s,receipts:a,version:i="2.0.0",...o}=await n(t.id),[c,u]=(()=>{const d=o.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...o,atomic:r,chainId:s?je(s):void 0,receipts:(a==null?void 0:a.map(d=>({...d,blockNumber:re(d.blockNumber),gasUsed:re(d.gasUsed),status:kl[d.status]})))??[],statusCode:u,status:c,version:i}}async function Dl(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:m})=>m===200||m>=300,retryCount:a=4,retryDelay:i=({count:m})=>~~(1<<m)*200,timeout:o=6e4,throwOnFailure:c=!1}=t,u=le(["waitForCallsStatus",e.uid,n]),{promise:d,resolve:l,reject:f}=Yi();let p;const h=Mt(u,{resolve:l,reject:f},m=>{const g=Qn(async()=>{const y=v=>{clearTimeout(p),g(),v(),h()};try{const v=await ma(async()=>{const w=await U(e,Ll,"getCallsStatus")({id:n});if(c&&w.status==="failure")throw new R1(w);return w},{retryCount:a,delay:i});if(!s(v))return;y(()=>m.resolve(v))}catch(v){y(()=>m.reject(v))}},{interval:r,emitOnBegin:!0});return g});return p=o?setTimeout(()=>{h(),clearTimeout(p),f(new P1({id:n}))},o):void 0,await d}class P1 extends x{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const no=256;let ya=no,ba;function Fl(e=11){if(!ba||ya+e>no*2){ba="",ya=0;for(let t=0;t<no;t++)ba+=(256+Math.random()*256|0).toString(16).substring(1)}return ba.substring(ya,ya+++e)}function Ul(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:a="Base Client",type:i="base"}=e,o=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),d=e.pollingInterval??u,l=e.cacheTime??d,f=e.account?oe(e.account):void 0,{config:p,request:h,value:m}=e.transport({account:f,chain:n,pollingInterval:d}),g={...p,...m},y={account:f,batch:t,cacheTime:l,ccipRead:r,chain:n,key:s,name:a,pollingInterval:d,request:h,transport:g,type:i,uid:Fl(),...o?{experimental_blockTag:o}:{}};function v(w){return b=>{const _=b(w);for(const A in y)delete _[A];const E={...w,..._};return Object.assign(E,{extend:v(E)})}}return Object.assign(y,{extend:v(y)})}function ro(e){var n,r,s,a,i,o;if(!(e instanceof x))return!1;const t=e.walk(c=>c instanceof hi);return t instanceof hi?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((a=t.data)==null?void 0:a.errorName)==="ResolverNotFound"||((i=t.data)==null?void 0:i.errorName)==="ReverseAddressMismatch"||((o=t.data)==null?void 0:o.errorName)==="UnsupportedResolverProfile":!1}function N1(e){const{abi:t,data:n}=e,r=ln(n,0,4),s=t.find(a=>a.type==="function"&&r===Ir(rt(a)));if(!s)throw new Em(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Rr(s.inputs,ln(n,4)):void 0}}const so="/docs/contract/encodeErrorResult";function jl(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=fn({abi:t,args:r,name:n});if(!c)throw new Bu(n,{docsPath:so});s=c}if(s.type!=="error")throw new Bu(void 0,{docsPath:so});const a=rt(s),i=Ir(a);let o="0x";if(r&&r.length>0){if(!s.inputs)throw new xm(s.name,{docsPath:so});o=Rt(s.inputs,r)}return Je([i,o])}const ao="/docs/contract/encodeFunctionResult";function O1(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=fn({abi:t,name:n});if(!i)throw new zn(n,{docsPath:ao});s=i}if(s.type!=="function")throw new zn(void 0,{docsPath:ao});if(!s.outputs)throw new Lu(s.name,{docsPath:ao});const a=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Du(r)})();return Rt(s.outputs,a)}const ds="x-batch-gateway:true";async function Vl(e){const{data:t,ccipRequest:n}=e,{args:[r]}=N1({abi:qi,data:t}),s=[],a=[];return await Promise.all(r.map(async(i,o)=>{try{a[o]=i.urls.includes(ds)?await Vl({data:i.data,ccipRequest:n}):await n(i),s[o]=!1}catch(c){s[o]=!0,a[o]=k1(c)}})),O1({abi:qi,functionName:"query",result:[s,a]})}function k1(e){return e.name==="HttpRequestError"&&e.status?jl({abi:qi,errorName:"HttpError",args:[e.status,e.shortMessage]}):jl({abi:[pd],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Hl(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ke(t)?t:null}function io(e){let t=new Uint8Array(32).fill(0);if(!e)return pe(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Hl(n[r]),a=s?It(s):ge(un(n[r]),"bytes");t=ge(Ve([t,a]),"bytes")}return pe(t)}function B1(e){return`[${e.slice(2)}]`}function $1(e){const t=new Uint8Array(32).fill(0);return e?Hl(e)||ge(un(e)):pe(t)}function oo(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(un(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let i=un(s[a]);i.byteLength>255&&(i=un(B1($1(s[a])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function z1(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:a,gatewayUrls:i,strict:o}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Xn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(f=>a.endsWith(f)))return null;const l=s!=null?[io(a),BigInt(s)]:[io(a)];try{const f=Se({abi:Al,functionName:"addr",args:l}),p={address:u,abi:_l,functionName:"resolveWithGateways",args:[Q(oo(a)),f,i??[ds]],blockNumber:n,blockTag:r},m=await U(e,ot,"readContract")(p);if(m[0]==="0x")return null;const g=gn({abi:Al,args:l,functionName:"addr",data:m[0]});return g==="0x"||Ye(g)==="0x00"?null:g}catch(f){if(o)throw f;if(ro(f))return null;throw f}}class M1 extends x{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class ls extends x{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class co extends x{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class L1 extends x{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const D1=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,F1=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,U1=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,j1=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function V1(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Gl(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function ql({uri:e,gatewayUrls:t}){const n=U1.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Gl(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Gl(t==null?void 0:t.arweave,"https://arweave.net"),a=e.match(D1),{protocol:i,subpath:o,target:c,subtarget:u=""}=(a==null?void 0:a.groups)||{},d=i==="ipns:/"||o==="ipns/",l=i==="ipfs:/"||o==="ipfs/"||F1.test(e);if(e.startsWith("http")&&!d&&!l){let p=e;return t!=null&&t.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((d||l)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(j1,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new co({uri:e})}function Zl(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new M1({data:e});return e.image||e.image_url||e.image_data}async function H1({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await uo({gatewayUrls:e,uri:Zl(n)})}catch{throw new co({uri:t})}}async function uo({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=ql({uri:t,gatewayUrls:e});if(r||await V1(n))return n;throw new co({uri:t})}function G1(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,i]=n.split(":"),[o,c]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new ls({reason:"Only EIP-155 supported"});if(!i)throw new ls({reason:"Chain ID not found"});if(!c)throw new ls({reason:"Contract address not found"});if(!s)throw new ls({reason:"Token ID not found"});if(!o)throw new ls({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:o.toLowerCase(),contractAddress:c,tokenID:s}}async function q1(e,{nft:t}){if(t.namespace==="erc721")return ot(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ot(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new L1({namespace:t.namespace})}async function Z1(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?W1(e,{gatewayUrls:t,record:n}):uo({uri:n,gatewayUrls:t})}async function W1(e,{gatewayUrls:t,record:n}){const r=G1(n),s=await q1(e,{nft:r}),{uri:a,isOnChain:i,isEncoded:o}=ql({uri:s,gatewayUrls:t});if(i&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=o?atob(a.replace("data:application/json;base64,","")):a,d=JSON.parse(u);return uo({uri:Zl(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),H1({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}async function Wl(e,t){const{blockNumber:n,blockTag:r,key:s,name:a,gatewayUrls:i,strict:o}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Xn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(l=>a.endsWith(l)))return null;try{const l={address:u,abi:_l,args:[Q(oo(a)),Se({abi:El,functionName:"text",args:[io(a),s]}),i??[ds]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},p=await U(e,ot,"readContract")(l);if(p[0]==="0x")return null;const h=gn({abi:El,functionName:"text",data:p[0]});return h===""?null:h}catch(l){if(o)throw l;if(ro(l))return null;throw l}}async function K1(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:i,universalResolverAddress:o}){const c=await U(e,Wl,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:o,gatewayUrls:a,strict:i});if(!c)return null;try{return await Z1(e,{record:c,gatewayUrls:r})}catch{return null}}async function Y1(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:a=60n,gatewayUrls:i,strict:o}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Xn({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:l1,args:[n,a,i??[ds]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},l=U(e,ot,"readContract"),[f]=await l(d);return f||null}catch(d){if(o)throw d;if(ro(d))return null;throw d}}async function J1(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:a}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return Xn({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),o=a==null?void 0:a.ensTlds;if(o&&!o.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${o==null?void 0:o.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[c]=await U(e,ot,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Q(oo(s))],blockNumber:n,blockTag:r});return c}async function Kl(e,t){var g,y,v;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:a,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:p,...h}=t,m=n?oe(n):void 0;try{Ot(t);const b=(typeof r=="bigint"?T(r):void 0)||s,_=(v=(y=(g=e.chain)==null?void 0:g.formatters)==null?void 0:y.transactionRequest)==null?void 0:v.format,A=(_||Kt)({...Qr(h,{format:_}),account:m,blobs:a,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:p},"createAccessList"),S=await e.request({method:"eth_createAccessList",params:[A,b]});return{accessList:S.accessList,gasUsed:BigInt(S.gasUsed)}}catch(w){throw Rl(w,{...t,account:m,chain:e.chain})}}async function X1(e){const t=Ys(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Yl(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:i,toBlock:o}={}){const c=s??(r?[r]:void 0),u=Ys(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(p=>Cr({abi:[p],eventName:p.name,args:n}))],r&&(d=d[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?T(a):a,toBlock:typeof o=="bigint"?T(o):o,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:l,request:u(l),strict:!!i,toBlock:o,type:"event"}}async function Jl(e){const t=Ys(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Q1(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?T(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function eg(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function tg(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?T(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),je(a)}async function lo(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?T(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(a!=="0x")return a}class ng extends x{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function rg(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[a,i,o,c,u,d,l]=await U(e,ot,"readContract")({abi:sg,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:o,chainId:Number(c),verifyingContract:u,salt:d},extensions:l,fields:a}}catch(a){const i=a;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new ng({address:n}):i}}const sg=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function ag(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function ig(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=typeof n=="bigint"?T(n):void 0,i=await e.request({method:"eth_feeHistory",params:[T(t),a||r,s]},{dedupe:!!a});return ag(i)}async function og(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(a=>yt(a));return t.abi?zi({abi:t.abi,logs:s,strict:n}):s}function cg(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!ie(s))throw new he({address:s});if(r<0)throw new as({chainId:r})}fo(e)}function ug(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Zd;for(const n of t){const r=ce(n),s=je(ln(n,0,1));if(r!==32)throw new Ib({hash:n,size:r});if(s!==qd)throw new Cb({hash:n,version:s})}}fo(e)}function fo(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new as({chainId:t});if(s&&!ie(s))throw new he({address:s});if(r&&r>ta)throw new bn({maxFeePerGas:r});if(n&&r&&n>r)throw new Jr({maxFeePerGas:r,maxPriorityFeePerGas:n})}function dg(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(t<=0)throw new as({chainId:t});if(a&&!ie(a))throw new he({address:a});if(n||s)throw new x("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>ta)throw new bn({maxFeePerGas:r})}function lg(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(a&&!ie(a))throw new he({address:a});if(typeof t<"u"&&t<=0)throw new as({chainId:t});if(n||s)throw new x("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>ta)throw new bn({maxFeePerGas:r})}function ga(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let a=0;a<s.length;a++)if(s[a].length-2!==64)throw new Wy({storageKey:s[a]});if(!ie(r,{strict:!1}))throw new he({address:r});t.push([r,s])}return t}function po(e,t){const n=Kd(e);return n==="eip1559"?hg(e,t):n==="eip2930"?mg(e,t):n==="eip4844"?pg(e,t):n==="eip7702"?fg(e,t):yg(e,t)}function fg(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:a,to:i,value:o,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:l}=e;cg(e);const f=ga(d),p=bg(n);return Je(["0x04",Nt([T(r),a?T(a):"0x",u?T(u):"0x",c?T(c):"0x",s?T(s):"0x",i??"0x",o?T(o):"0x",l??"0x",f,p,...fs(e,t)])])}function pg(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:i,maxFeePerBlobGas:o,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:l}=e;ug(e);let f=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(typeof f>"u"||typeof p>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(E=>pe(E)),b=e.kzg,_=Pi({blobs:w,kzg:b});if(typeof f>"u"&&(f=Ud({commitments:_})),typeof p>"u"){const E=Ni({blobs:w,commitments:_,kzg:b});p=Wd({blobs:w,commitments:_,proofs:E})}}const h=ga(d),m=[T(n),s?T(s):"0x",u?T(u):"0x",c?T(c):"0x",r?T(r):"0x",a??"0x",i?T(i):"0x",l??"0x",h,o?T(o):"0x",f??[],...fs(e,t)],g=[],y=[],v=[];if(p)for(let w=0;w<p.length;w++){const{blob:b,commitment:_,proof:E}=p[w];g.push(b),y.push(_),v.push(E)}return Je(["0x03",Nt(p?[m,g,y,v]:m)])}function hg(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:i,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:u,data:d}=e;fo(e);const l=ga(u),f=[T(n),s?T(s):"0x",c?T(c):"0x",o?T(o):"0x",r?T(r):"0x",a??"0x",i?T(i):"0x",d??"0x",l,...fs(e,t)];return Je(["0x02",Nt(f)])}function mg(e,t){const{chainId:n,gas:r,data:s,nonce:a,to:i,value:o,accessList:c,gasPrice:u}=e;dg(e);const d=ga(c),l=[T(n),a?T(a):"0x",u?T(u):"0x",r?T(r):"0x",i??"0x",o?T(o):"0x",s??"0x",d,...fs(e,t)];return Je(["0x01",Nt(l)])}function yg(e,t){const{chainId:n=0,gas:r,data:s,nonce:a,to:i,value:o,gasPrice:c}=e;lg(e);let u=[a?T(a):"0x",c?T(c):"0x",r?T(r):"0x",i??"0x",o?T(o):"0x",s??"0x"];if(t){const d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const p=27n+(t.v===27n?0n:1n);if(t.v!==p)throw new qy({v:t.v});return p})(),l=Ye(t.r),f=Ye(t.s);u=[...u,T(d),l==="0x00"?"0x":l,f==="0x00"?"0x":f]}else n>0&&(u=[...u,T(n),"0x","0x"]);return Nt(u)}function fs(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const a=Ye(n.r),i=Ye(n.s);return[typeof s=="number"?s?T(1):"0x":r===0n?"0x":r===1n?T(1):r===27n?"0x":T(1),a==="0x00"?"0x":a,i==="0x00"?"0x":i]}function bg(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...a}=n,i=n.address;t.push([r?Q(r):"0x",i,s?Q(s):"0x",...fs({},a)])}return t}async function gg({address:e,authorization:t,signature:n}){return Kn(Un(e),await Xs({authorization:t,signature:n}))}const wa=new Sr(8192);function wg(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(wa.get(n))return wa.get(n);const r=e().finally(()=>wa.delete(n));return wa.set(n,r),r}function vg(e,t={}){return async(n,r={})=>{var l;const{dedupe:s=!1,methods:a,retryDelay:i=150,retryCount:o=3,uid:c}={...t,...r},{method:u}=n;if((l=a==null?void 0:a.exclude)!=null&&l.includes(u))throw new mn(new Error("method not supported"),{method:u});if(a!=null&&a.include&&!a.include.includes(u))throw new mn(new Error("method not supported"),{method:u});const d=s?Mn(`${c}.${le(n)}`):void 0;return wg(()=>ma(async()=>{try{return await e(n)}catch(f){const p=f;switch(p.code){case kr.code:throw new kr(p);case Br.code:throw new Br(p);case $r.code:throw new $r(p,{method:n.method});case zr.code:throw new zr(p);case hn.code:throw new hn(p);case Wt.code:throw new Wt(p);case Mr.code:throw new Mr(p);case Lr.code:throw new Lr(p);case Dr.code:throw new Dr(p);case mn.code:throw new mn(p,{method:n.method});case Vn.code:throw new Vn(p);case Fr.code:throw new Fr(p);case Hn.code:throw new Hn(p);case Ur.code:throw new Ur(p);case jr.code:throw new jr(p);case Vr.code:throw new Vr(p);case Hr.code:throw new Hr(p);case Gr.code:throw new Gr(p);case Gn.code:throw new Gn(p);case qr.code:throw new qr(p);case Zr.code:throw new Zr(p);case Wr.code:throw new Wr(p);case Kr.code:throw new Kr(p);case Yr.code:throw new Yr(p);case qn.code:throw new qn(p);case 5e3:throw new Hn(p);default:throw f instanceof x?f:new tb(p)}}},{delay:({count:f,error:p})=>{var h;if(p&&p instanceof pn){const m=(h=p==null?void 0:p.headers)==null?void 0:h.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<f)*i},retryCount:o,shouldRetry:({error:f})=>xg(f)}),{enabled:s,id:d})}}function xg(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Vn.code||e.code===hn.code:e instanceof pn&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class _g extends x{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:a,urls:i}){var o;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(o=n.metaMessages)!=null&&o.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(c=>`    ${Or(c)}`)],`  Sender: ${a}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class Eg extends x{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Or(n)}`,`Response: ${le(t)}`],name:"OffchainLookupResponseMalformedError"})}}class Ag extends x{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const Sg="0x556f1830",Xl={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Tg(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=bd({data:r,abi:[Xl]}),[i,o,c,u,d]=a,{ccipRead:l}=e,f=l&&typeof(l==null?void 0:l.request)=="function"?l.request:Ql;try{if(!Kn(s,i))throw new Ag({sender:i,to:s});const p=o.includes(ds)?await Vl({data:c,ccipRequest:f}):await f({data:c,sender:i,urls:o}),{data:h}=await is(e,{blockNumber:t,blockTag:n,data:Ve([u,Rt([{type:"bytes"},{type:"bytes"}],[p,d])]),to:s});return h}catch(p){throw new _g({callbackSelector:u,cause:p,data:r,extraData:d,sender:i,urls:o})}}async function Ql({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let a=0;a<n.length;a++){const i=n[a],o=i.includes("{data}")?"GET":"POST",c=o==="POST"?{data:e,sender:t}:void 0,u=o==="POST"?{"Content-Type":"application/json"}:{};try{const d=await fetch(i.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(c),headers:u,method:o});let l;if((s=d.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?l=(await d.json()).data:l=await d.text(),!d.ok){r=new pn({body:c,details:l!=null&&l.error?le(l.error):d.statusText,headers:d.headers,status:d.status,url:i});continue}if(!Ke(l)){r=new Eg({result:l,url:i});continue}return l}catch(d){r=new pn({body:c,details:d.message,url:i})}}throw r}const Ig=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Ql,offchainLookup:Tg,offchainLookupAbiItem:Xl,offchainLookupSignature:Sg},Symbol.toStringTag,{value:"Module"}));function xe(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function Cg(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let i;try{const o=new AbortController;n>0&&(i=setTimeout(()=>{r&&o.abort()},n)),s(await e({signal:(o==null?void 0:o.signal)||null}))}catch(o){(o==null?void 0:o.name)==="AbortError"&&a(t),a(o)}finally{clearTimeout(i)}})()})}function Rg(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const ef=Rg();function Pg(e,t={}){return{async request(n){var f;const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:i=t.onResponse,timeout:o=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:d,signal:l}=c;try{const p=await Cg(async({signal:m})=>{const g={...c,body:Array.isArray(r)?le(r.map(b=>({jsonrpc:"2.0",id:b.id??ef.take(),...b}))):le({jsonrpc:"2.0",id:r.id??ef.take(),...r}),headers:{"Content-Type":"application/json",...u},method:d||"POST",signal:l||(o>0?m:null)},y=new Request(e,g),v=await(a==null?void 0:a(y,g))??{...g,url:e};return await s(v.url??e,v)},{errorInstance:new Td({body:r,url:e}),timeout:o,signal:!0});i&&await i(p);let h;if((f=p.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))h=await p.json();else{h=await p.text();try{h=JSON.parse(h||"{}")}catch(m){if(p.ok)throw m;h={error:h}}}if(!p.ok)throw new pn({body:r,details:le(h.error)||p.statusText,headers:p.headers,status:p.status,url:e});return h}catch(p){throw p instanceof pn||p instanceof Td?p:new pn({body:r,cause:p,url:e})}}}}const Ng=`Ethereum Signed Message:
`;function Og(e){const t=typeof e=="string"?Mn(e):typeof e.raw=="string"?e.raw:pe(e.raw),n=Mn(`${Ng}${ce(t)}`);return Ve([n,t])}function ho(e,t){return ge(Og(e),t)}class kg extends x{constructor({domain:t}){super(`Invalid domain "${le(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Bg extends x{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class $g extends x{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function zg(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(c,u)=>{const d={...u};for(const l of c){const{name:f,type:p}=l;p==="address"&&(d[f]=d[f].toLowerCase())}return d},i=s.EIP712Domain?t?a(s.EIP712Domain,t):{}:{},o=(()=>{if(r!=="EIP712Domain")return a(s[r],n)})();return le({domain:i,message:o,primaryType:r,types:s})}function tf(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(i,o)=>{for(const c of i){const{name:u,type:d}=c,l=o[u],f=d.match(od);if(f&&(typeof l=="number"||typeof l=="bigint")){const[m,g,y]=f;T(l,{signed:g==="int",size:Number.parseInt(y,10)/8})}if(d==="address"&&typeof l=="string"&&!ie(l))throw new he({address:l});const p=d.match(yy);if(p){const[m,g]=p;if(g&&ce(l)!==Number.parseInt(g,10))throw new Sm({expectedSize:Number.parseInt(g,10),givenSize:ce(l)})}const h=s[d];h&&(Mg(d),a(h,l))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new kg({domain:t});a(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])a(s[r],n);else throw new Bg({primaryType:r,types:s})}function nf({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Mg(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new $g({type:e})}function rf(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:nf({domain:t}),...e.types};tf({domain:t,message:n,primaryType:r,types:s});const a=["0x1901"];return t&&a.push(Lg({domain:t,types:s})),r!=="EIP712Domain"&&a.push(sf({data:n,primaryType:r,types:s})),ge(Ve(a))}function Lg({domain:e,types:t}){return sf({data:e,primaryType:"EIP712Domain",types:t})}function sf({data:e,primaryType:t,types:n}){const r=af({data:e,primaryType:t,types:n});return ge(r)}function af({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Dg({primaryType:t,types:n})];for(const a of n[t]){const[i,o]=cf({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(i),s.push(o)}return Rt(r,s)}function Dg({primaryType:e,types:t}){const n=Q(Fg({primaryType:e,types:t}));return ge(n)}function Fg({primaryType:e,types:t}){let n="";const r=of({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const a of s)n+=`${a}(${t[a].map(({name:i,type:o})=>`${o} ${i}`).join(",")})`;return n}function of({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const a of t[s])of({primaryType:a.type,types:t},n);return n}function cf({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ge(af({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},ge(r)];if(n==="string")return[{type:"bytes32"},ge(Q(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(i=>cf({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},ge(Rt(a.map(([i])=>i),a.map(([,i])=>i)))]}return[{type:n},r]}const uf="0x0000000000000000000000000000000000000000000000000000000000000000";class Ug extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const mo={checksum:new Ug(8192)}.checksum;function df(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=nd(Gb(e));return n==="Bytes"?r:it(r)}const jg=/^0x[a-fA-F0-9]{40}$/;function va(e,t={}){const{strict:n=!0}=t;if(!jg.test(e))throw new ff({address:e,cause:new Vg});if(n){if(e.toLowerCase()===e)return;if(lf(e)!==e)throw new ff({address:e,cause:new Hg})}}function lf(e){if(mo.has(e))return mo.get(e);va(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=df(Zb(t),{as:"Bytes"}),r=t.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(n[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const s=`0x${r.join("")}`;return mo.set(e,s),s}function yo(e,t={}){const{strict:n=!0}=t??{};try{return va(e,{strict:n}),!0}catch{return!1}}class ff extends K{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Vg extends K{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Hg extends K{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Gg=/^(.*)\[([0-9]*)\]$/,qg=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,pf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,hf=2n**256n-1n;function tr(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=vo(t.type);if(a){const[i,o]=a;return Wg(e,{...t,type:o},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return Xg(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return Zg(e,{checksum:r});if(t.type==="bool")return Kg(e);if(t.type.startsWith("bytes"))return Yg(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Jg(e,t);if(t.type==="string")return Qg(e,{staticPosition:s});throw new Eo(t.type)}const mf=32,bo=32;function Zg(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(a=>n?lf(a):a)(it(Kb(r,-20))),32]}function Wg(e,t,n){const{checksumAddress:r,length:s,staticPosition:a}=n;if(!s){const c=zt(e.readBytes(bo)),u=a+c,d=u+mf;e.setPosition(u);const l=zt(e.readBytes(mf)),f=ps(t);let p=0;const h=[];for(let m=0;m<l;++m){e.setPosition(d+(f?m*32:p));const[g,y]=tr(e,t,{checksumAddress:r,staticPosition:d});p+=y,h.push(g)}return e.setPosition(a+32),[h,32]}if(ps(t)){const c=zt(e.readBytes(bo)),u=a+c,d=[];for(let l=0;l<s;++l){e.setPosition(u+l*32);const[f]=tr(e,t,{checksumAddress:r,staticPosition:u});d.push(f)}return e.setPosition(a+32),[d,32]}let i=0;const o=[];for(let c=0;c<s;++c){const[u,d]=tr(e,t,{checksumAddress:r,staticPosition:a+i});i+=d,o.push(u)}return[o,i]}function Kg(e){return[Jb(e.readBytes(32),{size:32}),32]}function Yg(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=zt(e.readBytes(32));e.setPosition(n+i);const o=zt(e.readBytes(32));if(o===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(o);return e.setPosition(n+32),[it(c),32]}return[it(e.readBytes(Number.parseInt(s,10),32)),32]}function Jg(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Yb(s,{signed:n}):zt(s,{signed:n}),32]}function Xg(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=t.components.length===0||t.components.some(({name:c})=>!c),i=a?[]:{};let o=0;if(ps(t)){const c=zt(e.readBytes(bo)),u=s+c;for(let d=0;d<t.components.length;++d){const l=t.components[d];e.setPosition(u+o);const[f,p]=tr(e,l,{checksumAddress:r,staticPosition:u});o+=p,i[a?d:l==null?void 0:l.name]=f}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[d,l]=tr(e,u,{checksumAddress:r,staticPosition:s});i[a?c:u==null?void 0:u.name]=d,o+=l}return[i,o]}function Qg(e,{staticPosition:t}){const n=zt(e.readBytes(32)),r=t+n;e.setPosition(r);const s=zt(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),i=Xb(fl(a));return e.setPosition(t+32),[i,32]}function e6({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(go({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function go({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=vo(r.type);if(s){const[a,i]=s;return n6(n,{checksumAddress:e,length:a,parameter:{...r,type:i}})}if(r.type==="tuple")return o6(n,{checksumAddress:e,parameter:r});if(r.type==="address")return t6(n,{checksum:e});if(r.type==="bool")return s6(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const a=r.type.startsWith("int"),[,,i="256"]=pf.exec(r.type)??[];return a6(n,{signed:a,size:Number(i)})}if(r.type.startsWith("bytes"))return r6(n,{type:r.type});if(r.type==="string")return i6(n);throw new Eo(r.type)}function wo(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:i,encoded:o}=e[a];i?t+=32:t+=Ge(o)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:i,encoded:o}=e[a];i?(n.push(Te(t+s,{size:32})),r.push(o),s+=Ge(o)):n.push(o)}return at(...n,...r)}function t6(e,t){const{checksum:n=!1}=t;return va(e,{strict:n}),{dynamic:!1,encoded:vn(e.toLowerCase())}}function n6(e,t){const{checksumAddress:n,length:r,parameter:s}=t,a=r===null;if(!Array.isArray(e))throw new y6(e);if(!a&&e.length!==r)throw new m6({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const o=[];for(let c=0;c<e.length;c++){const u=go({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),o.push(u)}if(a||i){const c=wo(o);if(a){const u=Te(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?at(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:at(...o.map(({encoded:c})=>c))}}function r6(e,{type:t}){const[,n]=t.split("bytes"),r=Ge(e);if(!n){let s=e;return r%32!==0&&(s=xn(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:at(vn(Te(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new gf({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:xn(e)}}function s6(e){if(typeof e!="boolean")throw new K(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:vn(pl(e))}}function a6(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new yl({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:Te(e,{size:32,signed:t})}}function i6(e){const t=Gi(e),n=Math.ceil(Ge(t)/32),r=[];for(let s=0;s<n;s++)r.push(xn(bt(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:at(xn(Te(Ge(t),{size:32})),...r)}}function o6(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const a=[];for(let i=0;i<r.components.length;i++){const o=r.components[i],c=Array.isArray(e)?i:o.name,u=go({checksumAddress:n,parameter:o,value:e[c]});a.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?wo(a):at(...a.map(({encoded:i})=>i))}}function vo(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function ps(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(ps);const n=vo(e.type);return!!(n&&ps({...e,type:n[1]}))}const c6={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new l6({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new d6({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new yf({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new yf({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function u6(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(c6);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class yf extends K{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class d6 extends K{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class l6 extends K{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function f6(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,a=typeof t=="string"?ll(t):t,i=u6(a);if(Jn(a)===0&&e.length>0)throw new h6;if(Jn(a)&&Jn(a)<32)throw new p6({data:typeof t=="string"?t:it(t),parameters:e,size:Jn(a)});let o=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const d=e[u];i.setPosition(o);const[l,f]=tr(i,d,{checksumAddress:s,staticPosition:0});o+=f,r==="Array"?c.push(l):c[d.name??u]=l}return c}function xo(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new wf({expectedLength:e.length,givenLength:t.length});const s=e6({checksumAddress:r,parameters:e,values:t}),a=wo(s);return a.length===0?"0x":a}function _o(e,t){if(e.length!==t.length)throw new wf({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(_o.encode(s,a))}return at(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return va(c),vn(c.toLowerCase(),s?32:0)}if(n==="string")return Gi(r);if(n==="bytes")return r;if(n==="bool")return vn(pl(r),s?32:1);const a=n.match(pf);if(a){const[c,u,d="256"]=a,l=Number.parseInt(d,10)/8;return Te(r,{size:s?32:l,signed:u==="int"})}const i=n.match(qg);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new gf({expectedSize:Number.parseInt(u,10),value:r});return xn(r,s?32:0)}const o=n.match(Gg);if(o&&Array.isArray(r)){const[c,u]=o,d=[];for(let l=0;l<r.length;l++)d.push(t(u,r[l],!0));return d.length===0?"0x":at(...d)}throw new Eo(n)}e.encode=t})(_o||(_o={}));function bf(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Ru(e):e}class p6 extends K{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Bn(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class h6 extends K{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class m6 extends K{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class gf extends K{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Ge(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class wf extends K{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class y6 extends K{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Eo extends K{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class vf extends ni{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Zm(t);const r=Ws(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<a.length;i++)a[i]^=54;this.iHash.update(a),this.oHash=t.create();for(let i=0;i<a.length;i++)a[i]^=106;this.oHash.update(a),Fn(a)}update(t){return Dn(this),this.iHash.update(t),this}digestInto(t){Dn(this),dn(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:i,outputLen:o}=this;return t=t,t.finished=s,t.destroyed=a,t.blockLen=i,t.outputLen=o,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xf=(e,t,n)=>new vf(e,t).update(n).digest();xf.create=(e,t)=>new vf(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Me=BigInt(0),Ie=BigInt(1),En=BigInt(2),b6=BigInt(3),_f=BigInt(4),Ef=BigInt(5),Af=BigInt(8);function Le(e,t){const n=e%t;return n>=Me?n:t+n}function Qe(e,t,n){let r=e;for(;t-- >Me;)r*=r,r%=n;return r}function Ao(e,t){if(e===Me)throw new Error("invert: expected non-zero number");if(t<=Me)throw new Error("invert: expected positive modulus, got "+t);let n=Le(e,t),r=t,s=Me,a=Ie;for(;n!==Me;){const o=r/n,c=r%n,u=s-a*o;r=n,n=c,s=a,a=u}if(r!==Ie)throw new Error("invert: does not exist");return Le(s,t)}function Sf(e,t){const n=(e.ORDER+Ie)/_f,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function g6(e,t){const n=(e.ORDER-Ef)/Af,r=e.mul(t,En),s=e.pow(r,n),a=e.mul(t,s),i=e.mul(e.mul(a,En),s),o=e.mul(a,e.sub(i,e.ONE));if(!e.eql(e.sqr(o),t))throw new Error("Cannot find square root");return o}function w6(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Ie,n=0;for(;t%En===Me;)t/=En,n++;let r=En;const s=So(e);for(;If(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Sf;let a=s.pow(r,t);const i=(t+Ie)/En;return function(c,u){if(c.is0(u))return u;if(If(c,u)!==1)throw new Error("Cannot find square root");let d=n,l=c.mul(c.ONE,a),f=c.pow(u,t),p=c.pow(u,i);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let h=1,m=c.sqr(f);for(;!c.eql(m,c.ONE);)if(h++,m=c.sqr(m),h===d)throw new Error("Cannot find square root");const g=Ie<<BigInt(d-h-1),y=c.pow(l,g);d=h,l=c.sqr(y),f=c.mul(f,l),p=c.mul(p,y)}return p}}function v6(e){return e%_f===b6?Sf:e%Af===Ef?g6:w6(e)}const x6=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _6(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=x6.reduce((r,s)=>(r[s]="function",r),t);return oa(e,n)}function E6(e,t,n){if(n<Me)throw new Error("invalid exponent, negatives unsupported");if(n===Me)return e.ONE;if(n===Ie)return t;let r=e.ONE,s=t;for(;n>Me;)n&Ie&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Ie;return r}function Tf(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,o,c)=>e.is0(o)?i:(r[c]=i,e.mul(i,o)),e.ONE),a=e.inv(s);return t.reduceRight((i,o,c)=>e.is0(o)?i:(r[c]=e.mul(i,r[c]),e.mul(i,o)),a),r}function If(e,t){const n=(e.ORDER-Ie)/En,r=e.pow(t,n),s=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!a&&!i)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function Cf(e,t){t!==void 0&&Er(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function So(e,t,n=!1,r={}){if(e<=Me)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:a}=Cf(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const o=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:ia(s),ZERO:Me,ONE:Ie,create:c=>Le(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Me<=c&&c<e},is0:c=>c===Me,isOdd:c=>(c&Ie)===Ie,neg:c=>Le(-c,e),eql:(c,u)=>c===u,sqr:c=>Le(c*c,e),add:(c,u)=>Le(c+u,e),sub:(c,u)=>Le(c-u,e),mul:(c,u)=>Le(c*u,e),pow:(c,u)=>E6(o,c,u),div:(c,u)=>Le(c*Ao(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Ao(c,e),sqrt:r.sqrt||(c=>(i||(i=v6(e)),i(o,c))),toBytes:c=>n?rl(c,a):rs(c,a),fromBytes:c=>{if(c.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+c.length);return n?nl(c):wn(c)},invertBatch:c=>Tf(o,c),cmov:(c,u,d)=>d?u:c});return Object.freeze(o)}function Rf(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Pf(e){const t=Rf(e);return t+Math.ceil(t/2)}function A6(e,t,n=!1){const r=e.length,s=Rf(t),a=Pf(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const i=n?nl(e):wn(e),o=Le(i,t-Ie)+Ie;return n?rl(o,s):rs(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nf=BigInt(0),To=BigInt(1);function Io(e,t){const n=t.negate();return e?n:t}function Of(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Co(e,t){Of(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,a=ia(e),i=BigInt(e);return{windows:n,windowSize:r,mask:a,maxNumber:s,shiftBy:i}}function kf(e,t,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:i}=n;let o=Number(e&s),c=e>>i;o>r&&(o-=a,c+=To);const u=t*r,d=u+Math.abs(o)-1,l=o===0,f=o<0,p=t%2!==0;return{nextN:c,offset:d,isZero:l,isNeg:f,isNegF:p,offsetF:u}}function S6(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function T6(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Ro=new WeakMap,Bf=new WeakMap;function Po(e){return Bf.get(e)||1}function I6(e,t){return{constTimeNegate:Io,hasPrecomputes(n){return Po(n)!==1},unsafeLadder(n,r,s=e.ZERO){let a=n;for(;r>Nf;)r&To&&(s=s.add(a)),a=a.double(),r>>=To;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=Co(r,t),i=[];let o=n,c=o;for(let u=0;u<s;u++){c=o,i.push(c);for(let d=1;d<a;d++)c=c.add(o),i.push(c);o=c.double()}return i},wNAF(n,r,s){let a=e.ZERO,i=e.BASE;const o=Co(n,t);for(let c=0;c<o.windows;c++){const{nextN:u,offset:d,isZero:l,isNeg:f,isNegF:p,offsetF:h}=kf(s,c,o);s=u,l?i=i.add(Io(p,r[h])):a=a.add(Io(f,r[d]))}return{p:a,f:i}},wNAFUnsafe(n,r,s,a=e.ZERO){const i=Co(n,t);for(let o=0;o<i.windows&&s!==Nf;o++){const{nextN:c,offset:u,isZero:d,isNeg:l}=kf(s,o,i);if(s=c,!d){const f=r[u];a=a.add(l?f.negate():f)}}return a},getPrecomputes(n,r,s){let a=Ro.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&Ro.set(r,s(a))),a},wNAFCached(n,r,s){const a=Po(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const i=Po(n);return i===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,a)},setWindowSize(n,r){Of(r,t),Bf.set(n,r),Ro.delete(n)}}}function C6(e,t,n,r){S6(n,e),T6(r,t);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=Bb(BigInt(s));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const u=ia(c),d=new Array(Number(u)+1).fill(i),l=Math.floor((t.BITS-1)/c)*c;let f=i;for(let p=l;p>=0;p-=c){d.fill(i);for(let m=0;m<a;m++){const g=r[m],y=Number(g>>BigInt(p)&u);d[y]=d[y].add(n[m])}let h=i;for(let m=d.length-1,g=i;m>0;m--)g=g.add(d[m]),h=h.add(g);if(f=f.add(h),p!==0)for(let m=0;m<c;m++)f=f.double()}return f}function $f(e){return _6(e.Fp),oa(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Cf(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zf(e){e.lowS!==void 0&&ts("lowS",e.lowS),e.prehash!==void 0&&ts("prehash",e.prehash)}function R6(e){const t=$f(e);oa(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class P6 extends Error{constructor(t=""){super(t)}}const Lt={Err:P6,_tlv:{encode:(e,t)=>{const{Err:n}=Lt;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=ra(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?ra(s.length/2|128):"";return ra(e)+a+s+t},decode(e,t){const{Err:n}=Lt;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],a=!!(s&128);let i=0;if(!a)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)i=i<<8|d;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const o=t.subarray(r,r+i);if(o.length!==i)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Lt;if(e<Dt)throw new t("integer: negative integers are not allowed");let n=ra(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Lt;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return wn(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Lt,s=Xe("signature",e),{v:a,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,a),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Lt,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),a=r+s;return t.encode(48,a)}};function No(e,t){return ns(rs(e,t))}const Dt=BigInt(0),we=BigInt(1);BigInt(2);const Oo=BigInt(3),N6=BigInt(4);function O6(e){const t=R6(e),{Fp:n}=t,r=So(t.n,t.nBitLength),s=t.toBytes||((w,b,_)=>{const E=b.toAffine();return aa(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),a=t.fromBytes||(w=>{const b=w.subarray(1),_=n.fromBytes(b.subarray(0,n.BYTES)),E=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:_,y:E}});function i(w){const{a:b,b:_}=t,E=n.sqr(w),A=n.mul(E,w);return n.add(n.add(A,n.mul(w,b)),_)}function o(w,b){const _=n.sqr(b),E=i(w);return n.eql(_,E)}if(!o(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Oo),N6),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function d(w){return Vi(w,we,t.n)}function l(w){const{allowedPrivateKeyLengths:b,nByteLength:_,wrapPrivateKey:E,n:A}=t;if(b&&typeof w!="bigint"){if(es(w)&&(w=ns(w)),typeof w!="string"||!b.includes(w.length))throw new Error("invalid private key");w=w.padStart(_*2,"0")}let S;try{S=typeof w=="bigint"?w:wn(Xe("private key",w,_))}catch{throw new Error("invalid private key, expected hex or "+_+" bytes, got "+typeof w)}return E&&(S=Le(S,A)),Yn("private key",S,we,A),S}function f(w){if(!(w instanceof m))throw new Error("ProjectivePoint expected")}const p=al((w,b)=>{const{px:_,py:E,pz:A}=w;if(n.eql(A,n.ONE))return{x:_,y:E};const S=w.is0();b==null&&(b=S?n.ONE:n.inv(A));const k=n.mul(_,b),L=n.mul(E,b),N=n.mul(A,b);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:k,y:L}}),h=al(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:b,y:_}=w.toAffine();if(!n.isValid(b)||!n.isValid(_))throw new Error("bad point: x or y not FE");if(!o(b,_))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(b,_,E){if(b==null||!n.isValid(b))throw new Error("x required");if(_==null||!n.isValid(_)||n.is0(_))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required");this.px=b,this.py=_,this.pz=E,Object.freeze(this)}static fromAffine(b){const{x:_,y:E}=b||{};if(!b||!n.isValid(_)||!n.isValid(E))throw new Error("invalid affine point");if(b instanceof m)throw new Error("projective point not allowed");const A=S=>n.eql(S,n.ZERO);return A(_)&&A(E)?m.ZERO:new m(_,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const _=Tf(n,b.map(E=>E.pz));return b.map((E,A)=>E.toAffine(_[A])).map(m.fromAffine)}static fromHex(b){const _=m.fromAffine(a(Xe("pointHex",b)));return _.assertValidity(),_}static fromPrivateKey(b){return m.BASE.multiply(l(b))}static msm(b,_){return C6(m,r,b,_)}_setWindowSize(b){v.setWindowSize(this,b)}assertValidity(){h(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){f(b);const{px:_,py:E,pz:A}=this,{px:S,py:k,pz:L}=b,N=n.eql(n.mul(_,L),n.mul(S,A)),$=n.eql(n.mul(E,L),n.mul(k,A));return N&&$}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:_}=t,E=n.mul(_,Oo),{px:A,py:S,pz:k}=this;let L=n.ZERO,N=n.ZERO,$=n.ZERO,B=n.mul(A,A),W=n.mul(S,S),I=n.mul(k,k),O=n.mul(A,S);return O=n.add(O,O),$=n.mul(A,k),$=n.add($,$),L=n.mul(b,$),N=n.mul(E,I),N=n.add(L,N),L=n.sub(W,N),N=n.add(W,N),N=n.mul(L,N),L=n.mul(O,L),$=n.mul(E,$),I=n.mul(b,I),O=n.sub(B,I),O=n.mul(b,O),O=n.add(O,$),$=n.add(B,B),B=n.add($,B),B=n.add(B,I),B=n.mul(B,O),N=n.add(N,B),I=n.mul(S,k),I=n.add(I,I),B=n.mul(I,O),L=n.sub(L,B),$=n.mul(I,W),$=n.add($,$),$=n.add($,$),new m(L,N,$)}add(b){f(b);const{px:_,py:E,pz:A}=this,{px:S,py:k,pz:L}=b;let N=n.ZERO,$=n.ZERO,B=n.ZERO;const W=t.a,I=n.mul(t.b,Oo);let O=n.mul(_,S),j=n.mul(E,k),C=n.mul(A,L),M=n.add(_,E),H=n.add(S,k);M=n.mul(M,H),H=n.add(O,j),M=n.sub(M,H),H=n.add(_,A);let Y=n.add(S,L);return H=n.mul(H,Y),Y=n.add(O,C),H=n.sub(H,Y),Y=n.add(E,A),N=n.add(k,L),Y=n.mul(Y,N),N=n.add(j,C),Y=n.sub(Y,N),B=n.mul(W,H),N=n.mul(I,C),B=n.add(N,B),N=n.sub(j,B),B=n.add(j,B),$=n.mul(N,B),j=n.add(O,O),j=n.add(j,O),C=n.mul(W,C),H=n.mul(I,H),j=n.add(j,C),C=n.sub(O,C),C=n.mul(W,C),H=n.add(H,C),O=n.mul(j,H),$=n.add($,O),O=n.mul(Y,H),N=n.mul(M,N),N=n.sub(N,O),O=n.mul(M,j),B=n.mul(Y,B),B=n.add(B,O),new m(N,$,B)}subtract(b){return this.add(b.negate())}is0(){return this.equals(m.ZERO)}wNAF(b){return v.wNAFCached(this,b,m.normalizeZ)}multiplyUnsafe(b){const{endo:_,n:E}=t;Yn("scalar",b,Dt,E);const A=m.ZERO;if(b===Dt)return A;if(this.is0()||b===we)return this;if(!_||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,b,m.normalizeZ);let{k1neg:S,k1:k,k2neg:L,k2:N}=_.splitScalar(b),$=A,B=A,W=this;for(;k>Dt||N>Dt;)k&we&&($=$.add(W)),N&we&&(B=B.add(W)),W=W.double(),k>>=we,N>>=we;return S&&($=$.negate()),L&&(B=B.negate()),B=new m(n.mul(B.px,_.beta),B.py,B.pz),$.add(B)}multiply(b){const{endo:_,n:E}=t;Yn("scalar",b,we,E);let A,S;if(_){const{k1neg:k,k1:L,k2neg:N,k2:$}=_.splitScalar(b);let{p:B,f:W}=this.wNAF(L),{p:I,f:O}=this.wNAF($);B=v.constTimeNegate(k,B),I=v.constTimeNegate(N,I),I=new m(n.mul(I.px,_.beta),I.py,I.pz),A=B.add(I),S=W.add(O)}else{const{p:k,f:L}=this.wNAF(b);A=k,S=L}return m.normalizeZ([A,S])[0]}multiplyAndAddUnsafe(b,_,E){const A=m.BASE,S=(L,N)=>N===Dt||N===we||!L.equals(A)?L.multiplyUnsafe(N):L.multiply(N),k=S(this,_).add(S(b,E));return k.is0()?void 0:k}toAffine(b){return p(this,b)}isTorsionFree(){const{h:b,isTorsionFree:_}=t;if(b===we)return!0;if(_)return _(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:_}=t;return b===we?this:_?_(m,this):this.multiplyUnsafe(t.h)}toRawBytes(b=!0){return ts("isCompressed",b),this.assertValidity(),s(m,this,b)}toHex(b=!0){return ts("isCompressed",b),ns(this.toRawBytes(b))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:y}=t,v=I6(m,g?Math.ceil(y/2):y);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:d}}function k6(e){const t=$f(e);return oa(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function B6(e){const t=k6(e),{Fp:n,n:r,nByteLength:s,nBitLength:a}=t,i=n.BYTES+1,o=2*n.BYTES+1;function c(I){return Le(I,r)}function u(I){return Ao(I,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:p}=O6({...t,toBytes(I,O,j){const C=O.toAffine(),M=n.toBytes(C.x),H=aa;return ts("isCompressed",j),j?H(Uint8Array.from([O.hasEvenY()?2:3]),M):H(Uint8Array.from([4]),M,n.toBytes(C.y))},fromBytes(I){const O=I.length,j=I[0],C=I.subarray(1);if(O===i&&(j===2||j===3)){const M=wn(C);if(!Vi(M,we,n.ORDER))throw new Error("Point is not on curve");const H=f(M);let Y;try{Y=n.sqrt(H)}catch(Ee){const ye=Ee instanceof Error?": "+Ee.message:"";throw new Error("Point is not on curve"+ye)}const ve=(Y&we)===we;return(j&1)===1!==ve&&(Y=n.neg(Y)),{x:M,y:Y}}else if(O===o&&j===4){const M=n.fromBytes(C.subarray(0,n.BYTES)),H=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:M,y:H}}else{const M=i,H=o;throw new Error("invalid Point, expected length of "+M+", or uncompressed "+H+", got "+O)}}});function h(I){const O=r>>we;return I>O}function m(I){return h(I)?c(-I):I}const g=(I,O,j)=>wn(I.slice(O,j));class y{constructor(O,j,C){Yn("r",O,we,r),Yn("s",j,we,r),this.r=O,this.s=j,C!=null&&(this.recovery=C),Object.freeze(this)}static fromCompact(O){const j=s;return O=Xe("compactSignature",O,j*2),new y(g(O,0,j),g(O,j,2*j))}static fromDER(O){const{r:j,s:C}=Lt.toSig(Xe("DER",O));return new y(j,C)}assertValidity(){}addRecoveryBit(O){return new y(this.r,this.s,O)}recoverPublicKey(O){const{r:j,s:C,recovery:M}=this,H=A(Xe("msgHash",O));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const Y=M===2||M===3?j+t.n:j;if(Y>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ve=M&1?"03":"02",Ne=d.fromHex(ve+No(Y,n.BYTES)),Ee=u(Y),ye=c(-H*Ee),Oe=c(C*Ee),Qt=d.BASE.multiplyAndAddUnsafe(Ne,ye,Oe);if(!Qt)throw new Error("point at infinify");return Qt.assertValidity(),Qt}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return sa(this.toDERHex())}toDERHex(){return Lt.hexFromSig(this)}toCompactRawBytes(){return sa(this.toCompactHex())}toCompactHex(){const O=s;return No(this.r,O)+No(this.s,O)}}const v={isValidPrivateKey(I){try{return l(I),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const I=Pf(t.n);return A6(t.randomBytes(I),t.n)},precompute(I=8,O=d.BASE){return O._setWindowSize(I),O.multiply(BigInt(3)),O}};function w(I,O=!0){return d.fromPrivateKey(I).toRawBytes(O)}function b(I){if(typeof I=="bigint")return!1;if(I instanceof d)return!0;const j=Xe("key",I).length,C=n.BYTES,M=C+1,H=2*C+1;if(!(t.allowedPrivateKeyLengths||s===M))return j===M||j===H}function _(I,O,j=!0){if(b(I)===!0)throw new Error("first arg must be private key");if(b(O)===!1)throw new Error("second arg must be public key");return d.fromHex(O).multiply(l(I)).toRawBytes(j)}const E=t.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const O=wn(I),j=I.length*8-a;return j>0?O>>BigInt(j):O},A=t.bits2int_modN||function(I){return c(E(I))},S=ia(a);function k(I){return Yn("num < 2^"+a,I,Dt,S),rs(I,s)}function L(I,O,j=N){if(["recovered","canonical"].some(Cn=>Cn in j))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:M}=t;let{lowS:H,prehash:Y,extraEntropy:ve}=j;H==null&&(H=!0),I=Xe("msgHash",I),zf(j),Y&&(I=Xe("prehashed msgHash",C(I)));const Ne=A(I),Ee=l(O),ye=[k(Ee),k(Ne)];if(ve!=null&&ve!==!1){const Cn=ve===!0?M(n.BYTES):ve;ye.push(Xe("extraEntropy",Cn))}const Oe=aa(...ye),Qt=Ne;function Zc(Cn){const yr=E(Cn);if(!p(yr))return;const Wc=u(yr),Cs=d.BASE.multiply(yr).toAffine(),Rn=c(Cs.x);if(Rn===Dt)return;const Rs=c(Wc*c(Qt+Rn*Ee));if(Rs===Dt)return;let Ps=(Cs.x===Rn?0:2)|Number(Cs.y&we),br=Rs;return H&&h(Rs)&&(br=m(Rs),Ps^=1),new y(Rn,br,Ps)}return{seed:Oe,k2sig:Zc}}const N={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};function B(I,O,j=N){const{seed:C,k2sig:M}=L(I,O,j),H=t;return $b(H.hash.outputLen,H.nByteLength,H.hmac)(C,M)}d.BASE._setWindowSize(8);function W(I,O,j,C=$){var Ps;const M=I;O=Xe("msgHash",O),j=Xe("publicKey",j);const{lowS:H,prehash:Y,format:ve}=C;if(zf(C),"strict"in C)throw new Error("options.strict was renamed to lowS");if(ve!==void 0&&ve!=="compact"&&ve!=="der")throw new Error("format must be compact or der");const Ne=typeof M=="string"||es(M),Ee=!Ne&&!ve&&typeof M=="object"&&M!==null&&typeof M.r=="bigint"&&typeof M.s=="bigint";if(!Ne&&!Ee)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ye,Oe;try{if(Ee&&(ye=new y(M.r,M.s)),Ne){try{ve!=="compact"&&(ye=y.fromDER(M))}catch(br){if(!(br instanceof Lt.Err))throw br}!ye&&ve!=="der"&&(ye=y.fromCompact(M))}Oe=d.fromHex(j)}catch{return!1}if(!ye||H&&ye.hasHighS())return!1;Y&&(O=t.hash(O));const{r:Qt,s:Zc}=ye,Cn=A(O),yr=u(Zc),Wc=c(Cn*yr),Cs=c(Qt*yr),Rn=(Ps=d.BASE.multiplyAndAddUnsafe(Oe,Wc,Cs))==null?void 0:Ps.toAffine();return Rn?c(Rn.x)===Qt:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:_,sign:B,verify:W,ProjectivePoint:d,Signature:y,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $6(e){return{hash:e,hmac:(t,...n)=>xf(e,t,Qm(...n)),randomBytes:ey}}function z6(e,t){const n=r=>B6({...e,...$6(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Lf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),M6=BigInt(0),L6=BigInt(1),ko=BigInt(2),Df=(e,t)=>(e+t/ko)/t;function D6(e){const t=Mf,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),i=BigInt(23),o=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,l=Qe(d,n,t)*d%t,f=Qe(l,n,t)*d%t,p=Qe(f,ko,t)*u%t,h=Qe(p,s,t)*p%t,m=Qe(h,a,t)*h%t,g=Qe(m,o,t)*m%t,y=Qe(g,c,t)*g%t,v=Qe(y,o,t)*m%t,w=Qe(v,n,t)*d%t,b=Qe(w,i,t)*h%t,_=Qe(b,r,t)*u%t,E=Qe(_,ko,t);if(!Bo.eql(Bo.sqr(E),e))throw new Error("Cannot find square root");return E}const Bo=So(Mf,void 0,void 0,{sqrt:D6}),xa=z6({a:M6,b:BigInt(7),Fp:Bo,n:Lf,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Lf,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-L6*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,i=BigInt("0x100000000000000000000000000000000"),o=Df(a*e,t),c=Df(-r*e,t);let u=Le(e-o*n-c*s,t),d=Le(-o*r-c*a,t);const l=u>i,f=d>i;if(l&&(u=t-u),f&&(d=t-d),u>i||d>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:f,k2:d}}}},Dd),F6=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:xa},Symbol.toStringTag,{value:"Module"}));function Ff(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new zo({signature:e});if(typeof e.s>"u")throw new zo({signature:e});if(n&&typeof e.yParity>"u")throw new zo({signature:e});if(e.r<0n||e.r>hf)throw new Z6({value:e.r});if(e.s<0n||e.s>hf)throw new W6({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Mo({value:e.yParity})}function U6(e){return Uf(it(e))}function Uf(e){if(e.length!==130&&e.length!==132)throw new q6({signature:e});const t=BigInt(bt(e,0,32)),n=BigInt(bt(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return $o(s)}catch{throw new Mo({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function j6(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return V6(e)}function V6(e){const t=typeof e=="string"?Uf(e):e instanceof Uint8Array?U6(e):typeof e.r=="string"?G6(e):e.v?H6(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Ff(t),t}function H6(e){return{r:e.r,s:e.s,yParity:$o(e.v)}}function G6(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=$o(n)),typeof r!="number")throw new Mo({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function $o(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new K6({value:e})}class q6 extends K{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Ge(i1(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class zo extends K{constructor({signature:t}){super(`Signature \`${dl(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Z6 extends K{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class W6 extends K{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Mo extends K{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class K6 extends K{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Y6(e,t={}){return typeof e.chainId=="string"?J6(e):{...e,...t.signature}}function J6(e){const{address:t,chainId:n,nonce:r}=e,s=j6(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const X6="0x8010801080108010801080108010801080108010801080108010801080108010",Q6=bf("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function jf(e){if(typeof e=="string"){if(bt(e,-32)!==X6)throw new nw(e)}else Ff(e.authorization)}function ew(e){jf(e);const t=ml(bt(e,-64,-32)),n=bt(e,-t-64,-64),r=bt(e,0,-t-64),[s,a,i]=f6(Q6,n);return{authorization:Y6({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:a}:{}}}function tw(e){try{return jf(e),!0}catch{return!1}}let nw=class extends K{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function rw(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function sw(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?je(e.nonce):void 0,storageProof:e.storageProof?rw(e.storageProof):void 0}}async function aw(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",i=n!==void 0?T(n):void 0,o=await e.request({method:"eth_getProof",params:[t,s,i||a]});return sw(o)}async function iw(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?T(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function Lo(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a,sender:i,nonce:o}){var f,p,h;const c=r||"latest",u=n!==void 0?T(n):void 0;let d=null;if(s?d=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?d=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,T(a)]},{dedupe:!0}):typeof a=="number"?d=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,T(a)]},{dedupe:!!u}):i&&typeof o=="number"&&(d=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,T(o)]},{dedupe:!0})),!d)throw new xd({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:a});return(((h=(p=(f=e.chain)==null?void 0:f.formatters)==null?void 0:p.transaction)==null?void 0:h.format)||na)(d,"getTransaction")}async function ow(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([U(e,os,"getBlockNumber")({}),t?U(e,Lo,"getTransaction")({hash:t}):void 0]),a=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return a?r-a+1n:0n}async function _a(e,{hash:t}){var s,a,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new _d({hash:t});return(((i=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:i.format)||to)(n,"getTransactionReceipt")}async function cw(e,t){var v;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:a,blockOverrides:i,blockTag:o,stateOverride:c}=t,u=t.contracts,{batchSize:d=t.batchSize??1024,deployless:l=t.deployless??!1}=typeof((v=e.batch)==null?void 0:v.multicall)=="object"?e.batch.multicall:{},f=(()=>{if(t.multicallAddress)return t.multicallAddress;if(l)return null;if(e.chain)return Xn({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let h=0,m=0;for(let w=0;w<u.length;w++){const{abi:b,address:_,args:E,functionName:A}=u[w];try{const S=Se({abi:b,args:E,functionName:A});m+=(S.length-2)/2,d>0&&m>d&&p[h].length>0&&(h++,m=(S.length-2)/2,p[h]=[]),p[h]=[...p[h],{allowFailure:!0,callData:S,target:_}]}catch(S){const k=yn(S,{abi:b,address:_,args:E,docsPath:"/docs/contract/multicall",functionName:A,sender:n});if(!s)throw k;p[h]=[...p[h],{allowFailure:!0,callData:"0x",target:_}]}}const g=await Promise.allSettled(p.map(w=>U(e,ot,"readContract")({...f===null?{code:Zi}:{address:f},abi:ua,account:n,args:[w],authorizationList:r,blockNumber:a,blockOverrides:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),y=[];for(let w=0;w<g.length;w++){const b=g[w];if(b.status==="rejected"){if(!s)throw b.reason;for(let E=0;E<p[w].length;E++)y.push({status:"failure",error:b.reason,result:void 0});continue}const _=b.value;for(let E=0;E<_.length;E++){const{returnData:A,success:S}=_[E],{callData:k}=p[w][E],{abi:L,address:N,functionName:$,args:B}=u[y.length];try{if(k==="0x")throw new xr;if(!S)throw new Js({data:A});const W=gn({abi:L,args:B,data:A,functionName:$});y.push(s?{result:W,status:"success"}:W)}catch(W){const I=yn(W,{abi:L,address:N,args:B,docsPath:"/docs/contract/multicall",functionName:$});if(!s)throw I;y.push({error:I,result:void 0,status:"failure"})}}}if(y.length!==u.length)throw new x("multicall results mismatch");return y}async function Do(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:i,validation:o}=t;try{const c=[];for(const f of s){const p=f.blockOverrides?vl(f.blockOverrides):void 0,h=f.calls.map(g=>{const y=g,v=y.account?oe(y.account):void 0,w=y.abi?Se(y):y.data,b={...y,account:v,data:y.dataSuffix?Ve([w||"0x",y.dataSuffix]):w,from:y.from??(v==null?void 0:v.address)};return Ot(b),Kt(b)}),m=f.stateOverrides?Ai(f.stateOverrides):void 0;c.push({blockOverrides:p,calls:h,stateOverrides:m})}const d=(typeof n=="bigint"?T(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:a,traceTransfers:i,validation:o},d]})).map((f,p)=>({...Ti(f),calls:f.calls.map((h,m)=>{var L,N;const{abi:g,args:y,functionName:v,to:w}=s[p].calls[m],b=((L=h.error)==null?void 0:L.data)??h.returnData,_=BigInt(h.gasUsed),E=(N=h.logs)==null?void 0:N.map($=>yt($)),A=h.status==="0x1"?"success":"failure",S=g&&A==="success"&&b!=="0x"?gn({abi:g,data:b,functionName:v}):null,k=(()=>{var B;if(A==="success")return;let $;if(((B=h.error)==null?void 0:B.data)==="0x"?$=new xr:h.error&&($=new Js(h.error)),!!$)return yn($,{abi:g??[],address:w??"0x",args:y,functionName:v??"<unknown>"})})();return{data:b,gasUsed:_,logs:E,status:A,...A==="success"?{result:S}:{error:k}}})}))}catch(c){const u=c,d=Qs(u,{});throw d instanceof Xr?u:d}}function Fo(e){let t=!0,n="",r=0,s="",a=!1;for(let i=0;i<e.length;i++){const o=e[i];if(["(",")",","].includes(o)&&(t=!0),o==="("&&r++,o===")"&&r--,!!t){if(r===0){if(o===" "&&["event","function","error",""].includes(s))s="";else if(s+=o,o===")"){a=!0;break}continue}if(o===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=o,n+=o}}if(!a)throw new K("Unable to normalize signature.");return s}function Uo(e,t){const n=typeof e,r=t.type;switch(r){case"address":return yo(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>Uo(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Uo(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Vf(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return Vf(s.components,a.components,n[r]);const i=[s.type,a.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?yo(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?yo(n[r],{strict:!1}):!1)return i}}function Hf(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Cu(e):e;return{...r,...n?{hash:nr(r)}:{}}}function Ea(e,t,n){const{args:r=[],prepare:s=!0}=n??{},a=o1(t,{strict:!1}),i=e.filter(u=>a?u.type==="function"||u.type==="error"?Gf(u)===bt(t,0,4):u.type==="event"?nr(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new Aa({name:t});if(i.length===1)return{...i[0],...s?{hash:nr(i[0])}:{}};let o;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:nr(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((l,f)=>{const p="inputs"in u&&u.inputs[f];return p?Uo(l,p):!1})){if(o&&"inputs"in o&&o.inputs){const l=Vf(u.inputs,o.inputs,r);if(l)throw new dw({abiItem:u,type:l[0]},{abiItem:o,type:l[1]})}o=u}}const c=(()=>{if(o)return o;const[u,...d]=i;return{...u,overloads:d}})();if(!c)throw new Aa({name:t});return{...c,...s?{hash:nr(c)}:{}}}function Gf(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Ea(n,r)}return e[0]})();return bt(nr(t),0,4)}function uw(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Ea(r,s)}return e[0]})(),n=typeof t=="string"?t:js(t);return Fo(n)}function nr(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Ea(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:df(Gi(uw(t)))}class dw extends K{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Fo(js(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Fo(js(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Aa extends K{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function lw(...e){var a;const[t,n]=(()=>{if(Array.isArray(e[0])){const[i,o]=e;return[pw(i),o]}return e})(),{bytecode:r,args:s}=n;return at(r,(a=t.inputs)!=null&&a.length&&(s!=null&&s.length)?xo(t.inputs,s):"0x")}function fw(e){return Hf(e)}function pw(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Aa({name:"constructor"});return t}function hw(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,d,l]=e;return[qf(u,d,{args:l}),l]}const[o,c]=e;return[o,c]})(),{overloads:r}=t,s=r?qf([t,...r],t.name,{args:n}):t,a=mw(s),i=n.length>0?xo(s.inputs,n):void 0;return i?at(a,i):a}function rr(e,t={}){return Hf(e,t)}function qf(e,t,n){const r=Ea(e,t,n);if(r.type!=="function")throw new Aa({name:t,type:"function"});return r}function mw(e){return Gf(e)}const yw="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",wt="0x0000000000000000000000000000000000000000",bw="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function gw(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:i,traceTransfers:o,validation:c}=t,u=t.account?oe(t.account):void 0;if(i&&!u)throw new x("`account` is required when `traceAssetChanges` is true");const d=u?lw(fw("constructor(bytes, bytes)"),{bytecode:Il,args:[bw,hw(rr("function getBalance(address)"),[u.address])]}):void 0,l=i?await Promise.all(t.calls.map(async C=>{if(!C.data&&!C.abi)return;const{accessList:M}=await Kl(e,{account:u.address,...C,data:C.abi?Se(C):C.data});return M.map(({address:H,storageKeys:Y})=>Y.length>0?H:null)})).then(C=>C.flat().filter(Boolean)):[],f=await Do(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:d}],stateOverrides:a},{calls:l.map((C,M)=>({abi:[rr("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:C,from:wt,nonce:M})),stateOverrides:[{address:wt,nonce:0}]}]:[],{calls:[...s,{}].map(C=>({...C,from:u==null?void 0:u.address})),stateOverrides:a},...i?[{calls:[{data:d}]},{calls:l.map((C,M)=>({abi:[rr("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:C,from:wt,nonce:M})),stateOverrides:[{address:wt,nonce:0}]},{calls:l.map((C,M)=>({to:C,abi:[rr("function decimals() returns (uint256)")],functionName:"decimals",from:wt,nonce:M})),stateOverrides:[{address:wt,nonce:0}]},{calls:l.map((C,M)=>({to:C,abi:[rr("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:wt,nonce:M})),stateOverrides:[{address:wt,nonce:0}]},{calls:l.map((C,M)=>({to:C,abi:[rr("function symbol() returns (string)")],functionName:"symbol",from:wt,nonce:M})),stateOverrides:[{address:wt,nonce:0}]}]:[]],traceTransfers:o,validation:c}),p=i?f[2]:f[0],[h,m,,g,y,v,w,b]=i?f:[],{calls:_,...E}=p,A=_.slice(0,-1)??[],S=(h==null?void 0:h.calls)??[],k=(m==null?void 0:m.calls)??[],L=[...S,...k].map(C=>C.status==="success"?re(C.data):null),N=(g==null?void 0:g.calls)??[],$=(y==null?void 0:y.calls)??[],B=[...N,...$].map(C=>C.status==="success"?re(C.data):null),W=((v==null?void 0:v.calls)??[]).map(C=>C.status==="success"?C.result:null),I=((b==null?void 0:b.calls)??[]).map(C=>C.status==="success"?C.result:null),O=((w==null?void 0:w.calls)??[]).map(C=>C.status==="success"?C.result:null),j=[];for(const[C,M]of B.entries()){const H=L[C];if(typeof M!="bigint"||typeof H!="bigint")continue;const Y=W[C-1],ve=I[C-1],Ne=O[C-1],Ee=C===0?{address:yw,decimals:18,symbol:"ETH"}:{address:l[C-1],decimals:Ne||Y?Number(Y??1):void 0,symbol:ve??void 0};j.some(ye=>ye.token.address===Ee.address)||j.push({token:Ee,value:{pre:H,post:M,diff:M-H}})}return{assetChanges:j,block:E,results:A}}const Zf="0x6492649264926492649264926492649264926492649264926492649264926492";function ww(e){if(bt(e,-32)!==Zf)throw new _w(e)}function vw(e){const{data:t,signature:n,to:r}=e;return at(xo(bf("address, bytes, bytes"),[r,t,n]),Zf)}function xw(e){try{return ww(e),!0}catch{return!1}}class _w extends K{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Wf({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new xa.Signature(re(e),re(t)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?i:Be(i)}async function Sa(e,t){var o,c,u,d,l,f;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((u=(c=(o=e.chain)==null?void 0:o.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:a=t.multicallAddress??((f=(l=(d=e.chain)==null?void 0:d.contracts)==null?void 0:l.multicall3)==null?void 0:f.address)}=t,i=(()=>{const p=t.signature;return Ke(p)?p:typeof p=="object"&&"r"in p&&"s"in p?Wf(p):pe(p)})();try{return tw(i)?await Ew(e,{...t,multicallAddress:a,signature:i}):await Aw(e,{...t,verifierAddress:s,signature:i})}catch(p){try{if(Kn(Un(n),await Rd({hash:r,signature:i})))return!0}catch{}if(p instanceof An)return!1;throw p}}async function Ew(e,t){var g;const{address:n,blockNumber:r,blockTag:s,hash:a,multicallAddress:i}=t,{authorization:o,data:c,signature:u,to:d}=ew(t.signature);if(await lo(e,{address:n,blockNumber:r,blockTag:s})===Je(["0xef0100",o.address]))return await Sw(e,{address:n,blockNumber:r,blockTag:s,hash:a,signature:u});const f={address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:T(o.r,{size:32}),s:T(o.s,{size:32}),yParity:o.yParity};if(!await gg({address:n,authorization:f}))throw new An;const h=await U(e,ot,"readContract")({...i?{address:i}:{code:Zi},authorizationList:[f],abi:ua,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:d??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Se({abi:Sl,functionName:"isValidSignature",args:[a,u]})}]]}),m=(g=h[h.length-1])==null?void 0:g.returnData;if(m!=null&&m.startsWith("0x1626ba7e"))return!0;throw new An}async function Aw(e,t){const{address:n,factory:r,factoryData:s,hash:a,signature:i,verifierAddress:o,...c}=t,u=await(async()=>!r&&!s||xw(i)?i:vw({data:s,signature:i,to:r}))(),d=o?{to:o,data:Se({abi:Tl,functionName:"isValidSig",args:[n,a,u]}),...c}:{data:da({abi:Tl,args:[n,a,u],bytecode:h1}),...c},{data:l}=await U(e,is,"call")(d).catch(f=>{throw f instanceof Ad?new An:f});if(Bm(l??"0x0"))return!0;throw new An}async function Sw(e,t){const{address:n,blockNumber:r,blockTag:s,hash:a,signature:i}=t;if((await U(e,ot,"readContract")({address:n,abi:Sl,args:[a,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Sd?new An:c})).startsWith("0x1626ba7e"))return!0;throw new An}class An extends Error{}async function Tw(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...i}){const o=ho(n);return Sa(e,{address:t,factory:r,factoryData:s,hash:o,signature:a,...i})}async function Iw(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:i,primaryType:o,types:c,domain:u,...d}=t,l=rf({message:i,primaryType:o,types:c,domain:u});return Sa(e,{address:n,factory:r,factoryData:s,hash:l,signature:a,...d})}function Kf(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:i=e.pollingInterval}){const o=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return o?(()=>{const l=le(["watchBlockNumber",e.uid,t,n,i]);return Mt(l,{onBlockNumber:r,onError:s},f=>Qn(async()=>{var p;try{const h=await U(e,os,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&n)for(let m=c+1n;m<h;m++)f.onBlockNumber(m,c),c=m}(c===void 0||h>c)&&(f.onBlockNumber(h,c),c=h)}catch(h){(p=f.onError)==null||p.call(f,h)}},{emitOnBegin:t,interval:i}))})():(()=>{const l=le(["watchBlockNumber",e.uid,t,n]);return Mt(l,{onBlockNumber:r,onError:s},f=>{let p=!0,h=()=>p=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:g}=await m.subscribe({params:["newHeads"],onData(y){var w;if(!p)return;const v=re((w=y.result)==null?void 0:w.number);f.onBlockNumber(v,c),c=v},onError(y){var v;(v=f.onError)==null||v.call(f,y)}});h=g,p||h()}catch(m){s==null||s(m)}})(),()=>h()})})()}async function Yf(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:i=6,retryDelay:o=({count:_})=>~~(1<<_)*200,timeout:c=18e4}=t,u=le(["waitForTransactionReceipt",e.uid,s]),d=(()=>{var _;return t.pollingInterval?t.pollingInterval:(_=e.chain)!=null&&_.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let l,f,p,h=!1,m,g;const{promise:y,resolve:v,reject:w}=Yi(),b=c?setTimeout(()=>{g==null||g(),m==null||m(),w(new Yy({hash:s}))},c):void 0;return m=Mt(u,{onReplaced:a,resolve:v,reject:w},async _=>{if(p=await U(e,_a,"getTransactionReceipt")({hash:s}).catch(()=>{}),p&&r<=1){clearTimeout(b),_.resolve(p),m==null||m();return}g=U(e,Kf,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(E){const A=k=>{clearTimeout(b),g==null||g(),k(),m==null||m()};let S=E;if(!h)try{if(p){if(r>1&&(!p.blockNumber||S-p.blockNumber+1n<r))return;A(()=>_.resolve(p));return}if(n&&!l&&(h=!0,await ma(async()=>{l=await U(e,Lo,"getTransaction")({hash:s}),l.blockNumber&&(S=l.blockNumber)},{delay:o,retryCount:i}),h=!1),p=await U(e,_a,"getTransactionReceipt")({hash:s}),r>1&&(!p.blockNumber||S-p.blockNumber+1n<r))return;A(()=>_.resolve(p))}catch(k){if(k instanceof xd||k instanceof _d){if(!l){h=!1;return}try{f=l,h=!0;const L=await ma(()=>U(e,mt,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:B})=>B instanceof Bd});h=!1;const N=L.transactions.find(({from:B,nonce:W})=>B===f.from&&W===f.nonce);if(!N||(p=await U(e,_a,"getTransactionReceipt")({hash:N.hash}),r>1&&(!p.blockNumber||S-p.blockNumber+1n<r)))return;let $="replaced";N.to===f.to&&N.value===f.value&&N.input===f.input?$="repriced":N.from===N.to&&N.value===0n&&($="cancelled"),A(()=>{var B;(B=_.onReplaced)==null||B.call(_,{reason:$,replacedTransaction:f,transaction:N,transactionReceipt:p}),_.resolve(p)})}catch(L){A(()=>_.reject(L))}}else A(()=>_.reject(k))}}})}),y}function Cw(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:i,poll:o,pollingInterval:c=e.pollingInterval}){const u=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),d=i??!1;let l;return u?(()=>{const h=le(["watchBlocks",e.uid,t,n,r,d,c]);return Mt(h,{onBlock:s,onError:a},m=>Qn(async()=>{var g;try{const y=await U(e,mt,"getBlock")({blockTag:t,includeTransactions:d});if(y.number!==null&&(l==null?void 0:l.number)!=null){if(y.number===l.number)return;if(y.number-l.number>1&&n)for(let v=(l==null?void 0:l.number)+1n;v<y.number;v++){const w=await U(e,mt,"getBlock")({blockNumber:v,includeTransactions:d});m.onBlock(w,l),l=w}}((l==null?void 0:l.number)==null||t==="pending"&&(y==null?void 0:y.number)==null||y.number!==null&&y.number>l.number)&&(m.onBlock(y,l),l=y)}catch(y){(g=m.onError)==null||g.call(m,y)}},{emitOnBegin:r,interval:c}))})():(()=>{let h=!0,m=!0,g=()=>h=!1;return(async()=>{try{r&&U(e,mt,"getBlock")({blockTag:t,includeTransactions:d}).then(w=>{h&&m&&(s(w,void 0),m=!1)}).catch(a);const y=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:v}=await y.subscribe({params:["newHeads"],async onData(w){var _;if(!h)return;const b=await U(e,mt,"getBlock")({blockNumber:(_=w.result)==null?void 0:_.number,includeTransactions:d}).catch(()=>{});h&&(s(b,l),m=!1,l=b)},onError(w){a==null||a(w)}});g=v,h||g()}catch(y){a==null||a(y)}})(),()=>g()})()}function Rw(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:i,onError:o,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:l}){const f=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),p=l??!1;return f?(()=>{const g=le(["watchEvent",t,n,r,e.uid,s,d,i]);return Mt(g,{onLogs:c,onError:o},y=>{let v;i!==void 0&&(v=i-1n);let w,b=!1;const _=Qn(async()=>{var E;if(!b){try{w=await U(e,Yl,"createEventFilter")({address:t,args:n,event:s,events:a,strict:p,fromBlock:i})}catch{}b=!0;return}try{let A;if(w)A=await U(e,la,"getFilterChanges")({filter:w});else{const S=await U(e,os,"getBlockNumber")({});v&&v!==S?A=await U(e,Mi,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:v+1n,toBlock:S}):A=[],v=S}if(A.length===0)return;if(r)y.onLogs(A);else for(const S of A)y.onLogs([S])}catch(A){w&&A instanceof Wt&&(b=!1),(E=y.onError)==null||E.call(y,A)}},{emitOnBegin:!0,interval:d});return async()=>{w&&await U(e,fa,"uninstallFilter")({filter:w}),_()}})})():(()=>{let g=!0,y=()=>g=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),w=a??(s?[s]:void 0);let b=[];w&&(b=[w.flatMap(A=>Cr({abi:[A],eventName:A.name,args:n}))],s&&(b=b[0]));const{unsubscribe:_}=await v.subscribe({params:["logs",{address:t,topics:b}],onData(E){var S;if(!g)return;const A=E.result;try{const{eventName:k,args:L}=$i({abi:w??[],data:A.data,topics:A.topics,strict:p}),N=yt(A,{args:L,eventName:k});c([N])}catch(k){let L,N;if(k instanceof _r||k instanceof qs){if(l)return;L=k.abiItem.name,N=(S=k.abiItem.inputs)==null?void 0:S.some(B=>!("name"in B&&B.name))}const $=yt(A,{args:N?[]:{},eventName:L});c([$])}},onError(E){o==null||o(E)}});y=_,g||y()}catch(v){o==null||o(v)}})(),()=>y()})()}function Pw(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=le(["watchPendingTransactions",e.uid,t,a]);return Mt(u,{onTransactions:r,onError:n},d=>{let l;const f=Qn(async()=>{var p;try{if(!l)try{l=await U(e,Jl,"createPendingTransactionFilter")({});return}catch(m){throw f(),m}const h=await U(e,la,"getFilterChanges")({filter:l});if(h.length===0)return;if(t)d.onTransactions(h);else for(const m of h)d.onTransactions([m])}catch(h){(p=d.onError)==null||p.call(d,h)}},{emitOnBegin:!0,interval:a});return async()=>{l&&await U(e,fa,"uninstallFilter")({filter:l}),f()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const p=f.result;r([p])},onError(f){n==null||n(f)}});d=l,u||d()}catch(l){n==null||n(l)}})(),()=>d()})()}function Nw(e){var l,f,p;const{scheme:t,statement:n,...r}=((l=e.match(Ow))==null?void 0:l.groups)??{},{chainId:s,expirationTime:a,issuedAt:i,notBefore:o,requestId:c,...u}=((f=e.match(kw))==null?void 0:f.groups)??{},d=(p=e.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...i?{issuedAt:new Date(i)}:{},...o?{notBefore:new Date(o)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Ow=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,kw=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Bw(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!ie(r.address,{strict:!1})||t&&!Kn(r.address,t))return!1}catch{return!1}return!0}async function $w(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:i,signature:o,time:c=new Date,...u}=t,d=Nw(s);if(!d.address||!Bw({address:n,domain:r,message:d,nonce:a,scheme:i,time:c}))return!1;const f=ho(s);return Sa(e,{address:d.address,hash:f,signature:o,...u})}async function jo(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var o,c,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,T(r)]:[t]},{retryCount:0}),i=(((u=(c=(o=e.chain)==null?void 0:o.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||to)(s);if(i.status==="reverted"&&n)throw new Ed({receipt:i});return i}function Ta(e){return{call:t=>is(e,t),createAccessList:t=>Kl(e,t),createBlockFilter:()=>X1(e),createContractEventFilter:t=>ld(e,t),createEventFilter:t=>Yl(e,t),createPendingTransactionFilter:()=>Jl(e),estimateContractGas:t=>Pb(e,t),estimateGas:t=>Bi(e,t),getBalance:t=>Q1(e,t),getBlobBaseFee:()=>eg(e),getBlock:t=>mt(e,t),getBlockNumber:t=>os(e,t),getBlockTransactionCount:t=>tg(e,t),getBytecode:t=>lo(e,t),getChainId:()=>kt(e),getCode:t=>lo(e,t),getContractEvents:t=>Xd(e,t),getEip712Domain:t=>rg(e,t),getEnsAddress:t=>z1(e,t),getEnsAvatar:t=>K1(e,t),getEnsName:t=>Y1(e,t),getEnsResolver:t=>J1(e,t),getEnsText:t=>Wl(e,t),getFeeHistory:t=>ig(e,t),estimateFeesPerGas:t=>bb(e,t),getFilterChanges:t=>la(e,t),getFilterLogs:t=>og(e,t),getGasPrice:()=>Ii(e),getLogs:t=>Mi(e,t),getProof:t=>aw(e,t),estimateMaxPriorityFeePerGas:t=>yb(e,t),getStorageAt:t=>iw(e,t),getTransaction:t=>Lo(e,t),getTransactionConfirmations:t=>ow(e,t),getTransactionCount:t=>Ri(e,t),getTransactionReceipt:t=>_a(e,t),multicall:t=>cw(e,t),prepareTransactionRequest:t=>Wn(e,t),readContract:t=>ot(e,t),sendRawTransaction:t=>ha(e,t),sendRawTransactionSync:t=>jo(e,t),simulate:t=>Do(e,t),simulateBlocks:t=>Do(e,t),simulateCalls:t=>gw(e,t),simulateContract:t=>x1(e,t),verifyHash:t=>Sa(e,t),verifyMessage:t=>Tw(e,t),verifySiweMessage:t=>$w(e,t),verifyTypedData:t=>Iw(e,t),uninstallFilter:t=>fa(e,t),waitForTransactionReceipt:t=>Yf(e,t),watchBlocks:t=>Cw(e,t),watchBlockNumber:t=>Kf(e,t),watchContractEvent:t=>C1(e,t),watchEvent:t=>Rw(e,t),watchPendingTransactions:t=>Pw(e,t)}}function zw(e){const{key:t="public",name:n="Public Client"}=e;return Ul({...e,key:t,name:n,type:"publicClient"}).extend(Ta)}async function Mw(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:T(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:i?Object.values(i).map(({url:o})=>o):void 0}]},{dedupe:!0,retryCount:0})}function Lw(e,t){const{abi:n,args:r,bytecode:s,...a}=t,i=da({abi:n,args:r,bytecode:s});return us(e,{...a,...a.authorizationList?{to:null}:{},data:i})}async function Dw(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Tr(r))}async function Fw(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?oe(n):void 0,a=r?[s==null?void 0:s.address,[T(r)]]:[s==null?void 0:s.address],i=await e.request({method:"wallet_getCapabilities",params:a}),o={};for(const[c,u]of Object.entries(i)){o[Number(c)]={};for(let[d,l]of Object.entries(u))d==="addSubAccount"&&(d="unstable_addSubAccount"),o[Number(c)][d]=l}return typeof r=="number"?o[r]:o}async function Uw(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Jf(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new gt({docsPath:"/docs/eip7702/prepareAuthorization"});const a=oe(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:oe(t.executor)})(),o={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof o.chainId>"u"&&(o.chainId=((c=e.chain)==null?void 0:c.id)??await U(e,kt,"getChainId")({})),typeof o.nonce>"u"&&(o.nonce=await U(e,Ri,"getTransactionCount")({address:a.address,blockTag:"pending"}),(i==="self"||i!=null&&i.address&&Kn(i.address,a.address))&&(o.nonce+=1)),o}async function jw(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Un(n))}async function Vw(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function Hw(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await Ml(e,t);return await Dl(e,{...t,id:s.id,timeout:r})}const Vo=new Sr(128);async function Xf(e,t){var _,E,A,S;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:i,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,pollingInterval:h,throwOnReceiptRevert:m,type:g,value:y,...v}=t,w=t.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new gt({docsPath:"/docs/actions/wallet/sendTransactionSync"});const b=n?oe(n):null;try{Ot(t);const k=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await Xs({authorization:a[0]}).catch(()=>{throw new x("`to` is required. Could not infer from `authorizationList`.")})})();if((b==null?void 0:b.type)==="json-rpc"||b===null){let L;r!==null&&(L=await U(e,kt,"getChainId")({}),cs({currentChainId:L,chain:r}));const N=(A=(E=(_=e.chain)==null?void 0:_.formatters)==null?void 0:E.transactionRequest)==null?void 0:A.format,B=(N||Kt)({...Qr(v,{format:N}),accessList:s,account:b,authorizationList:a,blobs:i,chainId:L,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,to:k,type:g,value:y},"sendTransaction"),W=Vo.get(e.uid),I=W?"wallet_sendTransaction":"eth_sendTransaction",O=await(async()=>{try{return await e.request({method:I,params:[B]},{retryCount:0})}catch(C){if(W===!1)throw C;const M=C;if(M.name==="InvalidInputRpcError"||M.name==="InvalidParamsRpcError"||M.name==="MethodNotFoundRpcError"||M.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[B]},{retryCount:0}).then(H=>(Vo.set(e.uid,!0),H)).catch(H=>{const Y=H;throw Y.name==="MethodNotFoundRpcError"||Y.name==="MethodNotSupportedRpcError"?(Vo.set(e.uid,!1),M):Y});throw M}})(),j=await U(e,Yf,"waitForTransactionReceipt")({checkReplacement:!1,hash:O,pollingInterval:h,timeout:w});if(m&&j.status==="reverted")throw new Ed({receipt:j});return j}if((b==null?void 0:b.type)==="local"){const L=await U(e,Wn,"prepareTransactionRequest")({account:b,accessList:s,authorizationList:a,blobs:i,chain:r,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,nonceManager:b.nonceManager,parameters:[...ki,"sidecars"],type:g,value:y,...v,to:k}),N=(S=r==null?void 0:r.serializers)==null?void 0:S.transaction,$=await b.signTransaction(L,{serializer:N});return await U(e,jo,"sendRawTransactionSync")({serializedTransaction:$,throwOnReceiptRevert:m})}throw(b==null?void 0:b.type)==="smart"?new _n({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new _n({docsPath:"/docs/actions/wallet/sendTransactionSync",type:b==null?void 0:b.type})}catch(k){throw k instanceof _n?k:pa(k,{...t,account:b,chain:t.chain||void 0})}}async function Gw(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function qw(e,t){const{account:n=e.account}=t;if(!n)throw new gt({docsPath:"/docs/eip7702/signAuthorization"});const r=oe(n);if(!r.signAuthorization)throw new _n({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await Jf(e,t);return r.signAuthorization(s)}async function Zw(e,{account:t=e.account,message:n}){if(!t)throw new gt({docsPath:"/docs/actions/wallet/signMessage"});const r=oe(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Mn(n):n.raw instanceof Uint8Array?Q(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Qf(e,t){var u,d,l,f;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new gt({docsPath:"/docs/actions/wallet/signTransaction"});const a=oe(n);Ot({account:a,...t});const i=await U(e,kt,"getChainId")({});r!==null&&cs({currentChainId:i,chain:r});const o=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((d=o==null?void 0:o.transactionRequest)==null?void 0:d.format)||Kt;return a.signTransaction?a.signTransaction({...s,chainId:i},{serializer:(f=(l=e.chain)==null?void 0:l.serializers)==null?void 0:f.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:a},"signTransaction"),chainId:T(i),from:a.address}]},{retryCount:0})}async function e0(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new gt({docsPath:"/docs/actions/wallet/signTypedData"});const i=oe(n),o={EIP712Domain:nf({domain:r}),...t.types};if(tf({domain:r,message:s,primaryType:a,types:o}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:a,types:o});const c=zg({domain:r,message:s,primaryType:a,types:o});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function Ww(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:T(t)}]},{retryCount:0})}async function Kw(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function Yw(e,t){return er.internal(e,Xf,"sendTransactionSync",t)}function Jw(e){return{addChain:t=>Mw(e,t),deployContract:t=>Lw(e,t),getAddresses:()=>Dw(e),getCallsStatus:t=>Ll(e,t),getCapabilities:t=>Fw(e,t),getChainId:()=>kt(e),getPermissions:()=>Uw(e),prepareAuthorization:t=>Jf(e,t),prepareTransactionRequest:t=>Wn(e,t),requestAddresses:()=>jw(e),requestPermissions:t=>Vw(e,t),sendCalls:t=>Ml(e,t),sendCallsSync:t=>Hw(e,t),sendRawTransaction:t=>ha(e,t),sendRawTransactionSync:t=>jo(e,t),sendTransaction:t=>us(e,t),sendTransactionSync:t=>Xf(e,t),showCallsStatus:t=>Gw(e,t),signAuthorization:t=>qw(e,t),signMessage:t=>Zw(e,t),signTransaction:t=>Qf(e,t),signTypedData:t=>e0(e,t),switchChain:t=>Ww(e,t),waitForCallsStatus:t=>Dl(e,t),watchAsset:t=>Kw(e,t),writeContract:t=>er(e,t),writeContractSync:t=>Yw(e,t)}}function t0(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Ul({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(Jw)}function n0({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:i,type:o},c){const u=Fl();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:a,timeout:i,type:o},request:vg(r,{methods:t,retryCount:s,retryDelay:a,uid:u}),value:c}}function Xw(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:a}=t;return({retryCount:i})=>n0({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:a,type:"custom"})}class Qw extends x{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function r0(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:a="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:d,raw:l}=t;return({chain:f,retryCount:p,timeout:h})=>{const{batchSize:m=1e3,wait:g=0}=typeof n=="object"?n:{},y=t.retryCount??p,v=h??t.timeout??1e4,w=f==null?void 0:f.rpcUrls.default.http[0];if(!w)throw new Qw;const b=Pg(w,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:v});return n0({key:a,methods:i,name:o,async request({method:_,params:E}){const A={method:_,params:E},{schedule:S}=Pl({id:w,wait:g,shouldSplitBatch($){return $.length>m},fn:$=>b.request({body:$}),sort:($,B)=>$.id-B.id}),k=async $=>n?S($):[await b.request({body:$})],[{error:L,result:N}]=await k(A);if(l)return{error:L,result:N};if(L)throw new mi({body:A,error:L,url:w});return N},retryCount:y,retryDelay:d,timeout:v,type:"http"},{fetchOptions:s,url:w})}}const Ho=50000n,s0=fb*32n,a0={block:Md({format(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>{var a;if(typeof r=="string")return r;const s=(a=a0.transaction)==null?void 0:a.format(r);return s.typeHex==="0x71"?s.type="eip712":s.typeHex==="0xff"&&(s.type="priority"),s});return{l1BatchNumber:e.l1BatchNumber?re(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?re(e.l1BatchTimestamp):null,transactions:t}}}),transaction:zd({format(e){const t={};return e.type==="0x71"?t.type="eip712":e.type==="0xff"&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?re(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?re(e.l1BatchTxIndex):null}}}),transactionReceipt:Bl({format(e){return{l1BatchNumber:e.l1BatchNumber?re(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?re(e.l1BatchTxIndex):null,logs:e.logs.map(t=>({...yt(t),l1BatchNumber:t.l1BatchNumber?re(t.l1BatchNumber):null,transactionLogIndex:je(t.transactionLogIndex),logType:t.logType})),l2ToL1Logs:e.l2ToL1Logs.map(t=>({blockNumber:re(t.blockHash),blockHash:t.blockHash,l1BatchNumber:t.l1BatchNumber?re(t.l1BatchNumber):null,transactionIndex:re(t.transactionIndex),shardId:re(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:re(t.logIndex)}))}}}),transactionRequest:ub({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:Q(e.gasPerPubdata)}:{gasPerPubdata:Q(Ho)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(Be(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(t=>Array.from(Be(t)))}:{},...e.customSignature?{customSignature:Array.from(Be(e.customSignature))}:{}},type:"0x71"}:{}}})};class i0 extends x{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function hs(e){return!!(e.type==="eip712"||"customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&typeof e.gasPerPubdata=="bigint"||"factoryDeps"in e&&e.factoryDeps)}function o0(e){const{chainId:t,to:n,from:r,paymaster:s,paymasterInput:a}=e;if(!hs(e))throw new i0;if(!t||t<=0)throw new as({chainId:t});if(n&&!ie(n))throw new he({address:n});if(r&&!ie(r))throw new he({address:r});if(s&&!ie(s))throw new he({address:s});if(s&&!a)throw new x("`paymasterInput` must be provided when `paymaster` is defined");if(!s&&a)throw new x("`paymaster` must be provided when `paymasterInput` is defined")}function e5(e,t){return hs(e)?n5(e):po(e,t)}const t5={transaction:e5};function n5(e){const{chainId:t,gas:n,nonce:r,to:s,from:a,value:i,maxFeePerGas:o,maxPriorityFeePerGas:c,customSignature:u,factoryDeps:d,paymaster:l,paymasterInput:f,gasPerPubdata:p,data:h}=e;o0(e);const m=[r?Q(r):"0x",c?Q(c):"0x",o?Q(o):"0x",n?Q(n):"0x",s??"0x",i?Q(i):"0x",h??"0x",Q(t),Q(""),Q(""),Q(t),a??"0x",Q(p||Ho),d??[],u??"0x",l&&f?[l,f]:[]];return Je(["0x71",Nt(m)])}class r5 extends x{constructor({givenLength:t,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${t}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class s5 extends x{constructor({givenLengthInWords:t}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${t}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class a5 extends x{constructor({givenLength:t}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${t}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function Go(e){const t=It(e);if(t.length%32!==0)throw new a5({givenLength:t.length});if(t.length>s0)throw new r5({givenLength:t.length,maxBytecodeSize:s0});const n=Fd(t),r=It(n),s=t.length/32;if(s%2===0)throw new s5({givenLengthInWords:s});const a=It(s),i=cn(a,{size:2}),o=new Uint8Array([1,0]);return r.set(o,0),r.set(i,2),r}const i5=e=>{o0(e);const t=o5(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}};function o5(e){const{gas:t,nonce:n,to:r,from:s,value:a,maxFeePerGas:i,maxPriorityFeePerGas:o,factoryDeps:c,paymaster:u,paymasterInput:d,gasPerPubdata:l,data:f}=e;return{txType:113n,from:BigInt(s),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:l??Ho,maxFeePerGas:i??0n,maxPriorityFeePerGas:o??0n,paymaster:u?BigInt(u):0n,nonce:n?BigInt(n):0n,value:a??0n,data:f??"0x",factoryDeps:(c==null?void 0:c.map(p=>Q(Go(p))))??[],paymasterInput:d||"0x"}}const c0={blockTime:1e3,formatters:a0,serializers:t5,custom:{getEip712Domain:i5}},c5=xe({...c0,blockTime:200,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),u5=xe({...c0,blockTime:200,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),d5={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},l5={block:Md({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=na(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?re(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:zd({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?re(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:Bl({format(e){return{l1GasPrice:e.l1GasPrice?re(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?re(e.l1GasUsed):null,l1Fee:e.l1Fee?re(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function f5(e,t){return m5(e)?h5(e):po(e,t)}const p5={transaction:f5};function h5(e){y5(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:a,mint:i,to:o,value:c}=e,u=[t,r,o??"0x",i?Q(i):"0x",c?Q(c):"0x",s?Q(s):"0x",a?"0x1":"0x",n??"0x"];return Je(["0x7e",Nt(u)])}function m5(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function y5(e){const{from:t,to:n}=e;if(t&&!ie(t))throw new he({address:t});if(n&&!ie(n))throw new he({address:n})}const Ia={blockTime:2e3,contracts:d5,formatters:l5,serializers:p5},b5=xe({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),g5=xe({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),ms=1,qo=xe({...Ia,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Ia.contracts,disputeGameFactory:{[ms]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[ms]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[ms]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[ms]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:ms});({...qo});const ys=11155111,Zo=xe({...Ia,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...Ia.contracts,disputeGameFactory:{[ys]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[ys]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[ys]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[ys]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:ys});({...Zo});const w5=xe({id:41923,name:"EDU Chain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud"]}},blockExplorers:{default:{name:"EDU Chain Explorer",url:"https://educhain.blockscout.com/"}},testnet:!1}),v5=xe({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),x5=xe({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:24347592}},testnet:!0}),_5=xe({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://quicknode1.peaq.xyz","https://quicknode2.peaq.xyz","https://quicknode3.peaq.xyz"],webSocket:["wss://quicknode1.peaq.xyz","wss://quicknode2.peaq.xyz","wss://quicknode3.peaq.xyz"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),E5=xe({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),A5=xe({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api-amoy.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),S5=xe({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),T5=xe({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:98697651}},testnet:!0}),I5=xe({id:1514,name:"Story",nativeCurrency:{decimals:18,name:"IP Token",symbol:"IP"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:340998},ensRegistry:{address:"0x5dc881dda4e4a8d312be3544ad13118d1a04cb17",blockCreated:648924},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:649114}},rpcUrls:{default:{http:["https://mainnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story explorer",url:"https://storyscan.io",apiUrl:"https://storyscan.io/api/v2"}},ensTlds:[".ip"],testnet:!1});/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function C5(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function u0(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function Wo(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function d0(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function Ko(e){if(!Array.isArray(e))throw new Error("array expected")}function l0(e,t){if(!u0(!0,t))throw new Error(`${e}: array of strings expected`)}function R5(e,t){if(!u0(!1,t))throw new Error(`${e}: array of numbers expected`)}function P5(...e){const t=a=>a,n=(a,i)=>o=>a(i(o)),r=e.map(a=>a.encode).reduceRight(n,t),s=e.map(a=>a.decode).reduce(n,t);return{encode:r,decode:s}}function N5(e){const t=typeof e=="string"?e.split(""):e,n=t.length;l0("alphabet",t);const r=new Map(t.map((s,a)=>[s,a]));return{encode:s=>(Ko(s),s.map(a=>{if(!Number.isSafeInteger(a)||a<0||a>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${a}". Allowed: ${e}`);return t[a]})),decode:s=>(Ko(s),s.map(a=>{Wo("alphabet.decode",a);const i=r.get(a);if(i===void 0)throw new Error(`Unknown letter: "${a}". Allowed: ${e}`);return i}))}}function O5(e=""){return Wo("join",e),{encode:t=>(l0("join.decode",t),t.join(e)),decode:t=>(Wo("join.decode",t),t.split(e))}}function f0(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(Ko(e),!e.length)return[];let r=0;const s=[],a=Array.from(e,o=>{if(d0(o),o<0||o>=t)throw new Error(`invalid integer: ${o}`);return o}),i=a.length;for(;;){let o=0,c=!0;for(let u=r;u<i;u++){const d=a[u],l=t*o,f=l+d;if(!Number.isSafeInteger(f)||l/t!==o||f-d!==l)throw new Error("convertRadix: carry overflow");const p=f/n;o=f%n;const h=Math.floor(p);if(a[u]=h,!Number.isSafeInteger(h)||h*n+o!==f)throw new Error("convertRadix: carry overflow");if(c)h?c=!1:r=u;else continue}if(s.push(o),c)break}for(let o=0;o<e.length-1&&e[o]===0;o++)s.push(0);return s.reverse()}function k5(e){d0(e);const t=2**8;return{encode:n=>{if(!C5(n))throw new Error("radix.encode input should be Uint8Array");return f0(Array.from(n),t,e)},decode:n=>(R5("radix.decode",n),Uint8Array.from(f0(n,e,t)))}}const B5=(e=>P5(k5(58),N5(e),O5("")))("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function $5(e){if(typeof e=="string"){if(!ie(e,{strict:!1}))throw new he({address:e});return{address:e,type:"json-rpc"}}if(!ie(e.address,{strict:!1}))throw new he({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}let Yo=!1;async function bs({hash:e,privateKey:t,to:n="object"}){const{r,s,recovery:a}=xa.sign(e.slice(2),t.slice(2),{lowS:!0,extraEntropy:Ke(Yo,{strict:!1})?Be(Yo):Yo}),i={r:T(r,{size:32}),s:T(s,{size:32}),v:a?28n:27n,yParity:a};return n==="bytes"||n==="hex"?Wf({...i,to:n}):i}async function z5(e){const{chainId:t,nonce:n,privateKey:r,to:s="object"}=e,a=e.contractAddress??e.address,i=await bs({hash:Od({address:a,chainId:t,nonce:n}),privateKey:r,to:s});return s==="object"?{address:a,chainId:t,nonce:n,...i}:i}async function M5({message:e,privateKey:t}){return await bs({hash:ho(e),privateKey:t,to:"hex"})}async function L5(e){const{privateKey:t,transaction:n,serializer:r=po}=e,s=n.type==="eip4844"?{...n,sidecars:!1}:n,a=await bs({hash:ge(await r(s)),privateKey:t});return await r(n,a)}async function D5(e){const{privateKey:t,...n}=e;return await bs({hash:rf(n),privateKey:t,to:"hex"})}function F5(e,t={}){const{nonceManager:n}=t,r=Q(xa.getPublicKey(e.slice(2),!1)),s=Id(r);return{...$5({address:s,nonceManager:n,async sign({hash:i}){return bs({hash:i,privateKey:e,to:"hex"})},async signAuthorization(i){return z5({...i,privateKey:e})},async signMessage({message:i}){return M5({message:i,privateKey:e})},async signTransaction(i,{serializer:o}={}){return L5({privateKey:e,transaction:i,serializer:o})},async signTypedData(i){return D5({...i,privateKey:e})}}),publicKey:r,source:"privateKey"}}const U5="0x0000000000000000000000000000000000008006",j5="0x0000000000000000000000000000000000010000",p0=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],name:"AccountNonceOrderingUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"aaVersion",type:"uint8"}],name:"AccountVersionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployerAddress",type:"address"},{indexed:!0,internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddress",type:"address"}],name:"ContractDeployed",type:"event"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"create2Account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"extendedAccountVersion",outputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_keccak256BytecodeHash",type:"bytes32"}],name:"forceDeployKeccak256",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment",name:"_deployment",type:"tuple"},{internalType:"address",name:"_sender",type:"address"}],name:"forceDeployOnAddress",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment[]",name:"_deployments",type:"tuple[]"}],name:"forceDeployOnAddresses",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getAccountInfo",outputs:[{components:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"supportedAAVersion",type:"uint8"},{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],internalType:"struct IContractDeployer.AccountInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"uint256",name:"_senderNonce",type:"uint256"}],name:"getNewAddressCreate",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"getNewAddressCreate2",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_version",type:"uint8"}],name:"updateAccountVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"_nonceOrdering",type:"uint8"}],name:"updateNonceOrdering",outputs:[],stateMutability:"nonpayable",type:"function"}],h0=1,Jo="/docs/contract/encodeDeployData";function V5(e){const{abi:t,args:n,bytecode:r,deploymentType:s,salt:a}=e;if(!n||n.length===0){const{functionName:d,argsContractDeployer:l}=m0(s,a??uf,Q(Go(r)),"0x");return Se({abi:p0,functionName:d,args:l})}const i=t.find(d=>"type"in d&&d.type==="constructor");if(!i)throw new Ou({docsPath:Jo});if(!("inputs"in i))throw new Gs({docsPath:Jo});if(!i.inputs||i.inputs.length===0)throw new Gs({docsPath:Jo});const o=Rt(i.inputs,n),{functionName:c,argsContractDeployer:u}=m0(s,a??uf,Q(Go(r)),o);return Se({abi:p0,functionName:c,args:u})}function m0(e,t,n,r){const s=[t,n,r];return{create:{functionName:"create",argsContractDeployer:s},create2:{functionName:"create2",argsContractDeployer:s},createAccount:{functionName:"createAccount",argsContractDeployer:[...s,h0]},create2Account:{functionName:"create2Account",argsContractDeployer:[...s,h0]}}[e||"create"]}function y0(e){if(!hs(e))throw new i0;Ot(e)}async function H5(e,t){var u,d,l;const{account:n=e.account,chain:r=e.chain,...s}=t,a=n?oe(n):e.account;if(!a)throw new gt({docsPath:"/docs/actions/wallet/signTransaction"});if(y0({account:a,chain:r,...t}),!((u=r==null?void 0:r.custom)!=null&&u.getEip712Domain))throw new x("`getEip712Domain` not found on chain.");if(!((d=r==null?void 0:r.serializers)!=null&&d.transaction))throw new x("transaction serializer not found on chain.");const i=await U(e,kt,"getChainId")({});r!==null&&cs({currentChainId:i,chain:r});const o=r==null?void 0:r.custom.getEip712Domain({...s,chainId:i,from:a.address,type:"eip712"}),c=await e0(e,{...o,account:a});return(l=r==null?void 0:r.serializers)==null?void 0:l.transaction({chainId:i,...s,customSignature:c,type:"eip712"},{r:"0x0",s:"0x0",v:0n})}async function b0(e,t){return hs(t)?H5(e,t):await Qf(e,t)}async function g0(e,t){const{account:n=e.account,chain:r=e.chain}=t,s=n?oe(n):e.account;if(!s)throw new gt({docsPath:"/docs/actions/wallet/sendTransaction"});try{y0(t);const a=await Wn(e,{...t,nonceManager:s.nonceManager,parameters:["gas","nonce","fees"]});let i;r!==null&&(i=await U(e,kt,"getChainId")({}),cs({currentChainId:i,chain:r}));const o=await b0(e,{...a,chainId:i});return await U(e,ha,"sendRawTransaction")({serializedTransaction:o})}catch(a){throw pa(a,{...t,account:s,chain:r})}}function G5(e,t){const{abi:n,args:r,bytecode:s,deploymentType:a,salt:i,...o}=t,c=V5({abi:n,args:r,bytecode:s,deploymentType:a,salt:i});return o.factoryDeps=o.factoryDeps||[],o.factoryDeps.includes(s)||o.factoryDeps.push(s),g0(e,{...o,data:c,to:a==="create2"||a==="create2Account"?j5:U5})}async function w0(e,t){return hs(t)?g0(e,t):us(e,t)}function q5(){return e=>({sendTransaction:t=>w0(e,t),signTransaction:t=>b0(e,t),deployContract:t=>G5(e,t),writeContract:t=>er(Object.assign(e,{sendTransaction:n=>w0(e,n)}),t)})}var Z5=10,W5=-32700,K5=-32603,Y5=-32602,J5=-32601,X5=-32600,Q5=-32015,e2=-32014,t2=-32012,n2=-32010,r2=-32009,s2=-32007,a2=-32006,i2=-32004,v0=-32002,o2=-32001,c2=28e5,u2=2800001,d2=2800003,l2=2800006,f2=2800007,x0=2800008,p2=2800009,h2=323e4,m2=3230002,y2=361e4,b2=3610001,g2=3610003,w2=3610005,v2=3610006,x2=3610007,_2=3611e3,E2=3704e3,A2=3704001,S2=3704004,T2=4615e3,I2=4615026,C2=4615045,R2=5508e3,P2=5663e3,_0=5663001,N2=5663004,O2=5663015,k2=5663016,B2=5663017,E0=5663018,A0=5663019,$2=705e4,z2=7050030,M2=7050031,L2=7050035,D2=8078e3,F2=8078001,U2=8078002,j2=8078004,V2=8078005,H2=8078006,G2=8078007,q2=8078008,Z2=8078011,Ca=8078012,Xo=8078013,W2=8078014,K2=8078017,Y2=8078018,J2=8078022,S0=81e5,X2=8100002,Q2=8100003,ev=819e4,tv=8190001,nv=8190002,Qo=8190003,rv=8190004,sv=99e5,av=9900001,iv=9900004;function T0(e){return Array.isArray(e)?"%5B"+e.map(T0).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function ov([e,t]){return`${e}=${T0(t)}`}function cv(e){const t=Object.entries(e).map(ov).join("&");return btoa(t)}function uv(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${cv(t)}'`),`${n}\``}}function ec(e,t){return e instanceof Error&&e.name==="SolanaError"?t!==void 0?e.context.__code===t:!0:!1}var D=class extends Error{constructor(...[t,n]){let r,s;if(n){const{cause:i,...o}=n;i&&(s={cause:i}),Object.keys(o).length>0&&(r=o)}const a=uv(t,r);super(a,s);Kc(this,"cause",this.cause);Kc(this,"context");this.context={__code:t,...r},this.name="SolanaError"}};function Ra(...e){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...e)}function I0({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},s){let a,i;typeof r=="string"?a=r:(a=Object.keys(r)[0],i=r[a]);const o=n.indexOf(a),c=e+o,u=t(c,a,i),d=new D(c,u);return Ra(d,s),d}var dv=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function C0(e,t){const n=Number(e);return I0({errorCodeBaseOffset:4615001,getErrorContext(r,s,a){return r===T2?{errorName:s,index:n,...a!==void 0?{instructionErrorContext:a}:null}:r===I2?{code:Number(a),index:n}:r===C2?{encodedData:a,index:n}:{index:n}},orderedErrorNames:dv,rpcEnumError:t},C0)}var lv=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function R0(e){return typeof e=="object"&&"InstructionError"in e?C0(...e.InstructionError):I0({errorCodeBaseOffset:7050001,getErrorContext(t,n,r){if(t===$2)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(t===z2)return{index:Number(r)};if(t===M2||t===L2)return{accountIndex:Number(r.account_index)}},orderedErrorNames:lv,rpcEnumError:e},R0)}function tc(e){let t;if(fv(e)){const{code:n,data:r,message:s}=e,a=Number(n);if(a===v0){const{err:i,...o}=r,c=i?{cause:R0(i)}:null;t=new D(v0,{...o,...c})}else{let i;switch(a){case K5:case Y5:case X5:case J5:case W5:case t2:case o2:case i2:case e2:case n2:case r2:case s2:case a2:case Q5:i={__serverMessage:s};break;default:typeof r=="object"&&!Array.isArray(r)&&(i=r)}t=new D(a,i)}}else{const n=typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string"?e.message:"Malformed JSON-RPC error with no message attribute";t=new D(Z5,{error:e,message:n})}return Ra(t,tc),t}function fv(e){return typeof e=="object"&&e!==null&&"code"in e&&"message"in e&&(typeof e.code=="number"||typeof e.code=="bigint")&&typeof e.message=="string"}var pv=(e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n},hv=(e,t)=>pv(e.length<=t?e:e.slice(0,t),t);function Sn(e,t,n){const r=n===0&&e.length===t.length?e:e.slice(n,n+t.length);return r.length!==t.length?!1:t.every((s,a)=>s===r[a])}function sr(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function _e(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(sr(t,e));return e.write(t,n,0),n}})}function de(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function ue(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function mv(e){if(!ue(e))throw new D(U2)}function yv(e){return!ue(e)}function bv(e,t){if(ue(e)!==ue(t))throw new D(j2);if(ue(e)&&ue(t)&&e.fixedSize!==t.fixedSize)throw new D(V2,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!ue(e)&&!ue(t)&&e.maxSize!==t.maxSize)throw new D(H2,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function gv(e,t,n=0){if(t.length-n<=0)throw new D(D2,{codecDescription:e})}function nc(e,t,n,r=0){const s=n.length-r;if(s<t)throw new D(F2,{bytesLength:s,codecDescription:e,expected:t})}function Pa(e,t,n){if(t<0||t>n)throw new D(W2,{bytesLength:n,codecDescription:e,offset:t})}function wv(e,t){const n=(i,o,c)=>{const u=e.encode(i);return c=t.write(u.length,o,c),o.set(u,c),c+u.length};if(ue(t)&&ue(e))return _e({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=ue(t)?t.fixedSize:t.maxSize??null,s=ue(e)?e.fixedSize:e.maxSize??null,a=r!==null&&s!==null?r+s:null;return _e({...e,...a!==null?{maxSize:a}:{},getSizeFromValue:i=>{const o=sr(i,e);return sr(o,t)+o},write:n})}function ne(e,t){const n=(i,o)=>{const[c,u]=t.read(i,o),d=Number(c);return o=u,(o>0||i.length>d)&&(i=i.slice(o,o+d)),nc("addDecoderSizePrefix",d,i),[e.decode(i),o+d]};if(ue(t)&&ue(e))return de({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=ue(t)?t.fixedSize:t.maxSize??null,s=ue(e)?e.fixedSize:e.maxSize??null,a=r!==null&&s!==null?r+s:null;return de({...e,...a!==null?{maxSize:a}:{},read:n})}function rc(e,t){return _e({fixedSize:t,write:(n,r,s)=>{const a=e.encode(n),i=a.length>t?a.slice(0,t):a;return r.set(i,s),s+t}})}function ar(e,t){return de({fixedSize:t,read:(n,r)=>{nc("fixCodecSize",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),ue(e)&&(n=hv(n,e.fixedSize));const[s]=e.read(n,0);return[s,r+t]}})}function vv(e,t){return _e({...e,write:(n,r,s)=>{const a=u=>P0(u,r.length),i=t.preOffset?t.preOffset({bytes:r,preOffset:s,wrapBytes:a}):s;Pa("offsetEncoder",i,r.length);const o=e.write(n,r,i),c=t.postOffset?t.postOffset({bytes:r,newPreOffset:i,postOffset:o,preOffset:s,wrapBytes:a}):o;return Pa("offsetEncoder",c,r.length),c}})}function xv(e,t){return de({...e,read:(n,r)=>{const s=u=>P0(u,n.length),a=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:s}):r;Pa("offsetDecoder",a,n.length);const[i,o]=e.read(n,a),c=t.postOffset?t.postOffset({bytes:n,newPreOffset:a,postOffset:o,preOffset:r,wrapBytes:s}):o;return Pa("offsetDecoder",c,n.length),[i,c]}})}function P0(e,t){return t===0?0:(e%t+t)%t}function _v(e,t){if(ue(e)){const n=t(e.fixedSize);if(n<0)throw new D(Xo,{bytesLength:n,codecDescription:"resizeEncoder"});return _e({...e,fixedSize:n})}return _e({...e,getSizeFromValue:n=>{const r=t(e.getSizeFromValue(n));if(r<0)throw new D(Xo,{bytesLength:r,codecDescription:"resizeEncoder"});return r}})}function Ev(e,t){if(ue(e)){const n=t(e.fixedSize);if(n<0)throw new D(Xo,{bytesLength:n,codecDescription:"resizeDecoder"});return de({...e,fixedSize:n})}return e}function Av(e,t){return vv(_v(e,n=>n+t),{preOffset:({preOffset:n})=>n+t})}function Sv(e,t){return xv(Ev(e,n=>n+t),{postOffset:({postOffset:n})=>n+t})}function Tn(e,t){return _e({...yv(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,s)=>e.write(t(n),r,s)})}function et(e,t){return de({...e,read:(n,r)=>{const[s,a]=e.read(n,r);return[t(s,n,r),a]}})}function Tv(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new D(Ca,{alphabet:e,base:e.length,value:n})}var Iv=e=>_e({getSizeFromValue:t=>{const[n,r]=N0(t,e[0]);if(!r)return t.length;const s=O0(r,e);return n.length+Math.ceil(s.toString(16).length/2)},write(t,n,r){if(Tv(e,t),t==="")return r;const[s,a]=N0(t,e[0]);if(!a)return n.set(new Uint8Array(s.length).fill(0),r),r+s.length;let i=O0(a,e);const o=[];for(;i>0n;)o.unshift(Number(i%256n)),i/=256n;const c=[...Array(s.length).fill(0),...o];return n.set(c,r),r+c.length}}),Cv=e=>de({read(t,n){const r=n===0?t:t.slice(n);if(r.length===0)return["",0];let s=r.findIndex(c=>c!==0);s=s===-1?r.length:s;const a=e[0].repeat(s);if(s===r.length)return[a,t.length];const i=r.slice(s).reduce((c,u)=>c*256n+BigInt(u),0n),o=Rv(i,e);return[a+o,t.length]}});function N0(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function O0(e,t){const n=BigInt(t.length);let r=0n;for(const s of e)r*=n,r+=BigInt(t.indexOf(s));return r}function Rv(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}var k0="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Pv=()=>Iv(k0),Nv=()=>Cv(k0),B0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$0=()=>_e({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new D(Ca,{alphabet:B0,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split("").map(s=>s.charCodeAt(0));return t.set(r,n),r.length+n}catch{throw new D(Ca,{alphabet:B0,base:64,value:e})}}}),Ov=()=>de({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}}),kv=e=>e.replace(/\u0000/g,""),Bv=globalThis.TextDecoder,gs=()=>{let e;return de({read(t,n){const r=(e||(e=new Bv)).decode(t.slice(n));return[kv(r),t.length]}})};function $v(e,t){try{return"exists"in e&&!e.exists?e:Object.freeze({...e,data:t.decode(e.data)})}catch{throw new D(m2,{address:e.address})}}function zv(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=$0().encode(t.data[0]);return Object.freeze({...Mv(t),address:e,data:n,exists:!0})}function Mv(e){return Object.freeze({executable:e.executable,lamports:e.lamports,programAddress:e.owner,space:e.space})}async function Lv(e,t,n={}){const{abortSignal:r,...s}=n,a=await e.getAccountInfo(t,{...s,encoding:"base64"}).send({abortSignal:r});return zv(t,a.value)}function Dv(e){if(!e.exists)throw new D(h2,{address:e.address})}function Fv(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.getRandomValues!="function")throw new D(_2)}function Na(){if(!globalThis.isSecureContext)throw new D(y2)}function Uv(){var e;if(Na(),typeof globalThis.crypto>"u"||typeof((e=globalThis.crypto.subtle)==null?void 0:e.digest)!="function")throw new D(b2)}function z0(){var e;if(Na(),typeof globalThis.crypto>"u"||typeof((e=globalThis.crypto.subtle)==null?void 0:e.exportKey)!="function")throw new D(g2)}function jv(){var e;if(Na(),typeof globalThis.crypto>"u"||typeof((e=globalThis.crypto.subtle)==null?void 0:e.sign)!="function")throw new D(w2)}function Vv(){var e;if(Na(),typeof globalThis.crypto>"u"||typeof((e=globalThis.crypto.subtle)==null?void 0:e.verify)!="function")throw new D(v2)}var sc,ac;function ic(){return sc||(sc=Pv()),sc}function Hv(){return ac||(ac=Nv()),ac}function Gv(e){if(e.length<32||e.length>44)return!1;const t=ic();try{return t.encode(e).byteLength===32}catch{return!1}}function qv(e){if(e.length<32||e.length>44)throw new D(u2,{actualLength:e.length});const r=ic().encode(e).byteLength;if(r!==32)throw new D(c2,{actualLength:r})}function Zv(e){return qv(e),e}function ir(){return Tn(rc(ic(),32),e=>Zv(e))}function ee(){return ar(Hv(),32)}function Wv(){return bv(ir(),ee())}function oc(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var Kv=37095705934669439343138083508754565189542113879843219016388785533085940283555n,Ce=57896044618658097711785492504343953926634992332820282019728792003956564819949n,M0=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function tt(e){const t=e%Ce;return t>=0n?t:Ce+t}function vt(e,t){let n=e;for(;t-- >0n;)n*=n,n%=Ce;return n}function Yv(e){const n=e*e%Ce*e%Ce,r=vt(n,2n)*n%Ce,s=vt(r,1n)*e%Ce,a=vt(s,5n)*s%Ce,i=vt(a,10n)*a%Ce,o=vt(i,20n)*i%Ce,c=vt(o,40n)*o%Ce,u=vt(c,80n)*c%Ce,d=vt(u,80n)*c%Ce,l=vt(d,10n)*a%Ce;return vt(l,2n)*e%Ce}function Jv(e,t){const n=tt(t*t*t),r=tt(n*n*t),s=Yv(e*r);let a=tt(e*n*s);const i=tt(t*a*a),o=a,c=tt(a*M0),u=i===e,d=i===tt(-e),l=i===tt(-e*M0);return u&&(a=o),(d||l)&&(a=c),(tt(a)&1n)===1n&&(a=tt(-a)),!u&&!d?null:a}function Xv(e,t){const n=tt(e*e),r=tt(n-1n),s=tt(Kv*n+1n),a=Jv(r,s);if(a===null)return!1;const i=(t&128)!==0;return!(a===0n&&i)}function Qv(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function ex(e){const n=`0x${e.reduce((r,s,a)=>`${Qv(a===31?s&-129:s)}${r}`,"")}`;return BigInt(n)}function tx(e){if(e.byteLength!==32)return!1;const t=ex(e);return Xv(t,e[31])}var L0=32,D0=16,nx=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function rx({programAddress:e,seeds:t}){if(Uv(),t.length>D0)throw new D(l2,{actual:t.length,maxSeeds:D0});let n;const r=t.reduce((c,u,d)=>{const l=typeof u=="string"?(n||(n=new TextEncoder)).encode(u):u;if(l.byteLength>L0)throw new D(f2,{actual:l.byteLength,index:d,maxSeedLength:L0});return c.push(...l),c},[]),s=Wv(),a=s.encode(e),i=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...a,...nx])),o=new Uint8Array(i);if(tx(o))throw new D(x0);return s.decode(o)}async function sx({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await rx({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(r){if(ec(r,x0))n--;else throw r}throw new D(p2)}async function F0(e){if(z0(),e.type!=="public"||e.algorithm.name!=="Ed25519")throw new D(d2);const t=await crypto.subtle.exportKey("raw",e);return ee().decode(new Uint8Array(t))}function U0(e,t,n,r){if(r<t||r>n)throw new D(Z2,{codecDescription:e,max:n,min:t,value:r})}function j0(e){return(e==null?void 0:e.endian)!==1}function cc(e){return _e({fixedSize:e.size,write(t,n,r){e.range&&U0(e.name,e.range[0],e.range[1],t);const s=new ArrayBuffer(e.size);return e.set(new DataView(s),t,j0(e.config)),n.set(new Uint8Array(s),r),r+e.size}})}function or(e){return de({fixedSize:e.size,read(t,n=0){gv(e.name,t,n),nc(e.name,e.size,t,n);const r=new DataView(ax(t,n,e.size));return[e.get(r,j0(e.config)),n+e.size]}})}function ax(e,t,n){const r=e.byteOffset+(t??0),s=n??e.byteLength;return e.buffer.slice(r,r+s)}var V0=(e={})=>or({config:e,get:(t,n)=>t.getFloat64(0,n),name:"f64",size:8}),H0=(e={})=>or({config:e,get:(t,n)=>t.getInt16(0,n),name:"i16",size:2}),In=()=>_e({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,n)=>{U0("shortU16",0,65535,e);const r=[0];for(let s=0;;s+=1){const a=Number(e)>>s*7;if(a===0)break;const i=127&a;r[s]=i,s>0&&(r[s-1]|=128)}return t.set(r,n),n+r.length}}),Xt=()=>de({maxSize:3,read:(e,t)=>{let n=0,r=0;for(;++r;){const s=r-1,a=e[t+s],i=127&a;if(n|=i<<s*7,!(a&128))break}return[n,t+r]}}),se=(e={})=>or({config:e,get:(t,n)=>t.getUint16(0,n),name:"u16",size:2}),G0=(e={})=>cc({config:e,name:"u32",range:[0,+"0xffffffff"],set:(t,n,r)=>t.setUint32(0,Number(n),r),size:4}),Ft=(e={})=>or({config:e,get:(t,n)=>t.getUint32(0,n),name:"u32",size:4}),q0=(e={})=>cc({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),Re=(e={})=>or({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),De=()=>cc({name:"u8",range:[0,+"0xff"],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),xt=()=>or({get:e=>e.getUint8(0),name:"u8",size:1});function ix(e,t,n){if(t!==n)throw new D(G2,{actual:n,codecDescription:e,expected:t})}function ox(e){return e.reduce((t,n)=>t===null||n===null?null:Math.max(t,n),0)}function cr(e){return e.reduce((t,n)=>t===null||n===null?null:t+n,0)}function ws(e){return ue(e)?e.fixedSize:null}function ur(e){return ue(e)?e.fixedSize:e.maxSize??null}function dr(e,t={}){const n=t.size??G0(),r=Oa(n,ws(e)),s=Oa(n,ur(e))??void 0;return _e({...r!==null?{fixedSize:r}:{getSizeFromValue:a=>(typeof n=="object"?sr(a.length,n):0)+[...a].reduce((o,c)=>o+sr(c,e),0),maxSize:s},write:(a,i,o)=>(typeof n=="number"&&ix("array",n,a.length),typeof n=="object"&&(o=n.write(a.length,i,o)),a.forEach(c=>{o=e.write(c,i,o)}),o)})}function Ut(e,t={}){const n=t.size??Ft(),r=ws(e),s=Oa(n,r),a=Oa(n,ur(e))??void 0;return de({...s!==null?{fixedSize:s}:{maxSize:a},read:(i,o)=>{const c=[];if(typeof n=="object"&&i.slice(o).length===0)return[c,o];if(n==="remainder"){for(;o<i.length;){const[l,f]=e.read(i,o);o=f,c.push(l)}return[c,o]}const[u,d]=typeof n=="number"?[n,o]:n.read(i,o);o=d;for(let l=0;l<u;l+=1){const[f,p]=e.read(i,o);o=p,c.push(f)}return[c,o]}})}function Oa(e,t){return typeof e!="number"?null:e===0?0:t===null?null:t*e}function ct(e={}){return et(e.size??xt(),t=>Number(t)===1)}function uc(){return _e({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function vs(){return de({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}var cx=()=>de({read(e,t){return[e.slice(t).reduce((r,s)=>r+s.toString(16).padStart(2,"0"),""),e.length]}});function Z0(e){return de({fixedSize:e.length,read:(t,n)=>{const r=cx();if(!Sn(t,e,n))throw new D(Y2,{constant:e,data:t,hexConstant:r.decode(e),hexData:r.decode(t),offset:n});return[void 0,n+e.length]}})}function lr(e){const t=cr(e.map(ws)),n=cr(e.map(ur))??void 0;return de({...t===null?{maxSize:n}:{fixedSize:t},read:(r,s)=>{const a=[];return e.forEach(i=>{const[o,c]=i.read(r,s);a.push(o),s=c}),[a,s]}})}function W0(e,t){const n=dx(e),r=(a,i)=>{const o=t(a,i);return ux(e,o),e[o].read(a,i)};if(n!==null)return de({fixedSize:n,read:r});const s=lx(e);return de({...s!==null?{maxSize:s}:{},read:r})}function ux(e,t){if(typeof e[t]>"u")throw new D(K2,{maxRange:e.length-1,minRange:0,variant:t})}function dx(e){if(e.length===0)return 0;if(!ue(e[0]))return null;const t=e[0].fixedSize;return e.every(r=>ue(r)&&r.fixedSize===t)?t:null}function lx(e){return ox(e.map(t=>ur(t)))}function fx(e,t={}){const n=t.discriminator??"__kind",r=t.size??xt();return W0(e.map(([s,a])=>et(lr([r,a]),([,i])=>({[n]:s,...i}))),(s,a)=>Number(r.read(s,a)[0]))}function px(e){const t=[...new Set(Object.values(e).filter(i=>typeof i=="number"))].sort(),n=Object.fromEntries(Object.entries(e).slice(t.length)),r=Object.keys(n),s=Object.values(n),a=[...new Set([...r,...s.filter(i=>typeof i=="string")])];return{enumKeys:r,enumRecord:n,enumValues:s,numericalValues:t,stringValues:a}}function hx({discriminator:e,enumKeys:t,enumValues:n,useValuesAsDiscriminators:r}){return r?mx(n,s=>s===e):e>=0&&e<t.length?e:-1}function mx(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return n;return-1}function yx(e){if(e.length===0)return"";let t=[e[0],e[0]];const n=[];for(let r=1;r<e.length;r++){const s=e[r];t[1]+1===s?t[1]=s:(n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),t=[s,s])}return n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),n.join(", ")}function bx(e,t={}){const n=t.size??xt(),r=t.useValuesAsDiscriminators??!1,{enumKeys:s,enumValues:a,numericalValues:i}=px(e);if(r&&a.some(o=>typeof o=="string"))throw new D(J2,{stringValues:a.filter(o=>typeof o=="string")});return et(n,o=>{const c=Number(o),u=hx({discriminator:c,enumKeys:s,enumValues:a,useValuesAsDiscriminators:r});if(u<0){const d=r?i:[...Array(s.length).keys()];throw new D(q2,{discriminator:c,formattedValidDiscriminators:yx(d),validDiscriminators:d})}return a[u]})}function gx(e,t){return et(lr([...t,e]),n=>n[n.length-1])}function wx(e,t,n={}){return et(Ut(lr([e,t]),n),r=>new Map(r))}function fr(){return de({fixedSize:0,read:(e,t)=>[void 0,t]})}function jt(e){const t=e.map(([,s])=>s),n=cr(t.map(ws)),r=cr(t.map(ur))??void 0;return _e({...n===null?{getSizeFromValue:s=>e.map(([a,i])=>sr(s[a],i)).reduce((a,i)=>a+i,0),maxSize:r}:{fixedSize:n},write:(s,a,i)=>(e.forEach(([o,c])=>{i=c.write(s[o],a,i)}),i)})}function te(e){const t=e.map(([,s])=>s),n=cr(t.map(ws)),r=cr(t.map(ur))??void 0;return de({...n===null?{maxSize:r}:{fixedSize:n},read:(s,a)=>{const i={};return e.forEach(([o,c])=>{const[u,d]=c.read(s,a);a=d,i[o]=u}),[i,a]}})}var vx=e=>({__option:"Some",value:e}),xx=()=>({__option:"None"});function Pe(e,t={}){const n=t.prefix===null?et(fr(),()=>!1):ct({size:t.prefix??xt()}),r=t.noneValue==="zeroes"?(mv(e),ar(fr(),e.fixedSize)):t.noneValue?Z0(t.noneValue):fr();return W0([et(lr([n,r]),()=>xx()),et(lr([n,e]),([,s])=>vx(s))],(s,a)=>{if(t.prefix===null&&!t.noneValue)return+(a<s.length);if(t.prefix===null&&t.noneValue!=null){const i=t.noneValue==="zeroes"?new Uint8Array(r.fixedSize).fill(0):t.noneValue;return Sn(s,i,a)?0:1}return Number(n.read(s,a)[0])})}function Vt(e,...t){return t.reduce((n,r)=>r(n),e)}var ut=(e=>(e[e.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",e[e.READONLY_SIGNER=2]="READONLY_SIGNER",e[e.WRITABLE=1]="WRITABLE",e[e.READONLY=0]="READONLY",e))(ut||{}),_x=2,Ex=1;function pr(e){return e>=2}function xs(e){return(e&Ex)!==0}function K0(e,t){return e|t}function Ax(e){return e|_x}var ka=Object.freeze({name:"Ed25519"});function Sx(e){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...e])}async function dc(e,t=!1){const n=e.byteLength;if(n!==32)throw new D(A2,{actualLength:n});const r=Sx(e);return await crypto.subtle.importKey("pkcs8",r,ka,t,["sign"])}async function Tx(e,t=!1){if(z0(),e.extractable===!1)throw new D(x2,{key:e});const n=await crypto.subtle.exportKey("jwk",e);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:t,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",t,["verify"])}async function lc(e,t){jv();const n=await crypto.subtle.sign(ka,e,t);return new Uint8Array(n)}async function Ix(e,t,n){return Vv(),await crypto.subtle.verify(ka,e,t,n)}async function Cx(e,t=!1){if(Fv(),e.byteLength!==64)throw new D(E2,{byteLength:e.byteLength});const[n,r]=await Promise.all([crypto.subtle.importKey("raw",e.slice(32),ka,!0,["verify"]),dc(e.slice(0,32),t)]),s=new Uint8Array(32);crypto.getRandomValues(s);const a=await lc(r,s);if(!await Ix(n,a,s))throw new D(S2);return{privateKey:r,publicKey:n}}async function Rx(e,t=!1){const n=dc(e,t),[r,s]=await Promise.all([(t?n:dc(e,!0)).then(async a=>await Tx(a,!0)),n]);return{privateKey:s,publicKey:r}}function Y0(e){return JSON.parse(Px(e),(t,n)=>Bx(n)?kx(n):n)}function Px(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){let s=!1;if(e[r]==="\\"&&(t.push(e[r++]),s=!s),e[r]==='"'){t.push(e[r]),s||(n=!n);continue}if(!n){const a=Nx(e,r);if(a!=null&&a.length){r+=a.length-1,a.match(/\.|[eE]-/)?t.push(a):t.push(Ox(a));continue}}t.push(e[r])}return t.join("")}function Nx(e,t){var s;const n=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!((s=e[t])!=null&&s.match(/[-\d]/)))return null;const r=e.slice(t).match(n);return r?r[0]:null}function Ox(e){return`{"$n":"${e}"}`}function kx({$n:e}){if(e.match(/[eE]/)){const[t,n]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(n)}return BigInt(e)}function Bx(e){return!!e&&typeof e=="object"&&"$n"in e&&typeof e.$n=="string"}var J0=0n;function $x(){const e=J0;return J0++,e.toString()}function fc(e){return{id:$x(),jsonrpc:"2.0",method:e.methodName,params:e.params}}function X0(e,t){return Mx(JSON.stringify(e,(n,r)=>typeof r=="bigint"?zx(r):r,t))}function zx(e){return{$n:`${e}`}}function Mx(e){return e.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function Lx(e){return Dx(e)}function Dx(e){return new Proxy(e.api,{defineProperty(){return!1},deleteProperty(){return!1},get(t,n,r){if(n!=="then")return function(...s){const a=n.toString(),i=Reflect.get(t,a,r);if(!i)throw new D(Q2,{method:a,params:s});const o=i(...s);return Fx(e,o)}}})}function Fx({transport:e},t){return{async send(n){return await t.execute({signal:n==null?void 0:n.abortSignal,transport:e})}}}function Ux(e){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...t){const[n,r]=t,s=r.toString();return function(...a){const i=Object.freeze({methodName:s,params:a}),o=e!=null&&e.requestTransformer?e==null?void 0:e.requestTransformer(i):i;return Object.freeze({execute:async({signal:c,transport:u})=>{const d=fc(o),l=await u({payload:d,signal:c});return e!=null&&e.responseTransformer?e.responseTransformer(l,o):l}})}}})}function Q0(e){return e==null||typeof e!="object"||Array.isArray(e)?!1:"jsonrpc"in e&&e.jsonrpc==="2.0"&&"method"in e&&typeof e.method=="string"&&"params"in e}function jx(e){return typeof e=="bigint"?Number(e):e}var P={};function ep(e){return function t(n,r){if(Array.isArray(n))return n.map((s,a)=>{const i={...r,keyPath:[...r.keyPath,a]};return t(s,i)});if(typeof n=="object"&&n!==null){const s={};for(const a in n){if(!Object.prototype.hasOwnProperty.call(n,a))continue;const i={...r,keyPath:[...r.keyPath,a]};s[a]=t(n[a],i)}return s}else return e.reduce((s,a)=>a(s,r),n)}}function tp(e,t){return n=>{const r=ep(e);return Object.freeze({...n,params:r(n.params,t)})}}function Vx(e,t){return n=>ep(e)(n,t)}function Hx(){return tp([jx],{keyPath:[]})}function Gx({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:n,overrideCommitment:r}){const s=t[n];if(s===void 0||s&&typeof s=="object"&&!Array.isArray(s)){if(s&&e in s){if(!s[e]||s[e]==="finalized"){const a=[...t],{[e]:i,...o}=s;return Object.keys(o).length>0?a[n]=o:n===a.length-1?a.length--:a[n]=void 0,a}}else if(r!=="finalized"){const a=[...t];return a[n]={...s,[e]:r},a}}return t}function qx({defaultCommitment:e,optionsObjectPositionByMethod:t}){return n=>{const{params:r,methodName:s}=n;if(!Array.isArray(r))return n;const a=t[s];return a==null?n:Object.freeze({methodName:s,params:Gx({commitmentPropertyName:s==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:a,overrideCommitment:e,params:r})})}}function Zx(e){return(t,{keyPath:n})=>(typeof t=="bigint"&&e&&(t>Number.MAX_SAFE_INTEGER||t<-Number.MAX_SAFE_INTEGER)&&e(n,t),t)}function Wx(e){return t=>tp([Zx((...r)=>e(t,...r))],{keyPath:[]})(t)}var Kx={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function np(e){const t=e==null?void 0:e.onIntegerOverflow;return n=>Vt(n,t?Wx(t):r=>r,Hx(),qx({defaultCommitment:e==null?void 0:e.defaultCommitment,optionsObjectPositionByMethod:Kx}))}function Yx(e){return function(n,{keyPath:r}){return typeof n=="number"&&Number.isInteger(n)||typeof n=="bigint"?Jx(r,e)?Number(n):BigInt(n):n}}function Jx(e,t){return t.some(n=>{if(n.length!==e.length)return!1;for(let r=e.length-1;r>=0;r--){const s=e[r],a=n[r];if(a!==s&&(a!==P||typeof s!="number"))return!1}return!0})}function rp(e){return Vx([Yx(e)],{keyPath:[]})}function Xx(){return e=>e.result}function Qx(){return e=>{const t=e;if("error"in t)throw tc(t.error);return t}}function e_(e){return(t,n)=>{const r=n.methodName,s=e!=null&&e.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return Vt(t,a=>Qx()(a,n),a=>Xx()(a,n),a=>rp(s??[])(a,n))}}function t_(e){return(t,n)=>{const r=n.methodName,s=e!=null&&e.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return Vt(t,a=>rp(s??[])(a,n))}}var pc=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",P,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",P,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",P,"state","preUpdateAverageRate"],["data","parsed","info","extensions",P,"state","currentRate"]],hr=[...pc,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",P,"confirmationCount"]],hc=[["index"],["instructions",P,"accounts",P],["instructions",P,"programIdIndex"],["instructions",P,"stackHeight"]],sp=[["addressTableLookups",P,"writableIndexes",P],["addressTableLookups",P,"readonlyIndexes",P],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",P,"accounts",P],["instructions",P,"programIdIndex"],["instructions",P,"stackHeight"]];function n_(e){return Ux({requestTransformer:np(e),responseTransformer:e_({allowedNumericKeyPaths:r_()})})}var mc;function r_(){return mc||(mc={getAccountInfo:hr.map(e=>["value",...e]),getBlock:[["transactions",P,"meta","preTokenBalances",P,"accountIndex"],["transactions",P,"meta","preTokenBalances",P,"uiTokenAmount","decimals"],["transactions",P,"meta","postTokenBalances",P,"accountIndex"],["transactions",P,"meta","postTokenBalances",P,"uiTokenAmount","decimals"],["transactions",P,"meta","rewards",P,"commission"],...hc.map(e=>["transactions",P,"meta","innerInstructions",P,...e]),...sp.map(e=>["transactions",P,"transaction","message",...e]),["rewards",P,"commission"]],getClusterNodes:[[P,"featureSet"],[P,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[P,"commission"]],getMultipleAccounts:hr.map(e=>["value",P,...e]),getProgramAccounts:hr.flatMap(e=>[["value",P,"account",...e],[P,"account",...e]]),getRecentPerformanceSamples:[[P,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:pc.map(e=>["value",P,"account",...e]),getTokenAccountsByOwner:pc.map(e=>["value",P,"account",...e]),getTokenLargestAccounts:[["value",P,"decimals"],["value",P,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",P,"accountIndex"],["meta","preTokenBalances",P,"uiTokenAmount","decimals"],["meta","postTokenBalances",P,"accountIndex"],["meta","postTokenBalances",P,"uiTokenAmount","decimals"],["meta","rewards",P,"commission"],...hc.map(e=>["meta","innerInstructions",P,...e]),...sp.map(e=>["transaction","message",...e])],getVersion:[["feature-set"]],getVoteAccounts:[["current",P,"commission"],["delinquent",P,"commission"]],simulateTransaction:[...hr.map(e=>["value","accounts",P,...e]),...hc.map(e=>["value","innerInstructions",P,...e])]}),mc}function s_(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function a_(e){const{fromJson:t,headers:n,toJson:r,url:s}=e;let a;const i=n&&s_(n);return async function({payload:c,signal:u}){const d=r?r(c):JSON.stringify(c),l={...a,body:d,headers:{...i,accept:"application/json","content-length":d.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:u},f=await fetch(s,l);if(!f.ok)throw new D(X2,{headers:f.headers,message:f.statusText,statusCode:f.status});return t?t(await f.text(),c):await f.json()}}var i_=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function ap(e){return Q0(e)&&i_.includes(e.method)}function o_(e){return a_({...e,fromJson:(t,n)=>ap(n)?Y0(t):JSON.parse(t),toJson:t=>ap(t)?X0(t):JSON.stringify(t)})}var c_=Object.prototype.toString,u_=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t};function _s(e,t){let n,r,s,a,i,o,c;if(e===!0)return"true";if(e===!1)return"false";switch(typeof e){case"object":if(e===null)return null;if("toJSON"in e&&typeof e.toJSON=="function")return _s(e.toJSON(),t);if(c=c_.call(e),c==="[object Array]"){for(s="[",r=e.length-1,n=0;n<r;n++)s+=_s(e[n],!0)+",";return r>-1&&(s+=_s(e[n],!0)),s+"]"}else if(c==="[object Object]"){for(a=u_(e).sort(),r=a.length,s="",n=0;n<r;)i=a[n],o=_s(e[i],!1),o!==void 0&&(s&&(s+=","),s+=JSON.stringify(i)+":"+o),n++;return"{"+s+"}"}else return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"bigint":return`${e.toString()}n`;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}function ip(e){const t=_s(e,!1);if(t!==void 0)return""+t}function op(e,t,n){let r="";if(typeof t[0]=="number"){const i=t[0]+1,o=i%10,c=i%100;o==1&&c!=11?r=i+"st":o==2&&c!=12?r=i+"nd":o==3&&c!=13?r=i+"rd":r=i+"th"}else r=`\`${t[0].toString()}\``;const s=t.length>1?t.slice(1).map(i=>typeof i=="number"?`[${i}]`:i).join("."):void 0,a=new D(S0,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:s?` at path \`${s}\``:"",value:n,...s!==void 0?{path:s}:void 0});return Ra(a,op),a}var d_={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw op(e.methodName,t,n)}},l_=globalThis.AbortController,cp;function up(){return{}}function f_(e,t){let n;return async function(s){const{payload:a,signal:i}=s,o=t(a);if(o===void 0)return await e(s);if(n||(queueMicrotask(()=>{n=void 0}),n={}),n[o]==null){const u=new l_,d=(async()=>{try{return await e({...s,signal:u.signal})}catch(l){if(l===(cp||(cp=up())))return;throw l}})();n[o]={abortController:u,numConsumers:0,responsePromise:d}}const c=n[o];if(c.numConsumers++,i){const u=c.responsePromise;return await new Promise((d,l)=>{const f=p=>{i.removeEventListener("abort",f),c.numConsumers-=1,queueMicrotask(()=>{c.numConsumers===0&&c.abortController.abort(cp||(cp=up()))}),l(p.target.reason)};i.addEventListener("abort",f),u.then(d).catch(l).finally(()=>{i.removeEventListener("abort",f)})})}else return await c.responsePromise}}function p_(e){return Q0(e)?ip([e.method,e.params]):void 0}function h_(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function m_(e){return Vt(o_({...e,headers:{...e.headers?h_(e.headers):void 0,"solana-client":"js/2.3.0"}}),t=>f_(t,p_))}function dp(e,t){return y_(m_({url:e,...t}))}function y_(e){return Lx({api:n_(d_),transport:e})}var b_=globalThis.AbortController,g_=globalThis.EventTarget,lp;function fp(){return Symbol(void 0)}var yc=Symbol();function w_({abortSignal:e,dataChannelName:t,dataPublisher:n,errorChannelName:r}){const s=new Map;function a(u){for(const[d,l]of s.entries())l.__hasPolled?(s.delete(d),l.onError(u)):l.publishQueue.push({__type:1,err:u})}const i=new b_;e.addEventListener("abort",()=>{i.abort(),a(lp||(lp=fp()))});const o={signal:i.signal};let c=yc;return n.on(r,u=>{c===yc&&(c=u,i.abort(),a(u))},o),n.on(t,u=>{s.forEach((d,l)=>{if(d.__hasPolled){const{onData:f}=d;s.set(l,{__hasPolled:!1,publishQueue:[]}),f(u)}else d.publishQueue.push({__type:0,data:u})})},o),{async*[Symbol.asyncIterator](){if(e.aborted)return;if(c!==yc)throw c;const u=Symbol();s.set(u,{__hasPolled:!1,publishQueue:[]});try{for(;;){const d=s.get(u);if(!d)throw new D(sv);if(d.__hasPolled)throw new D(av);const l=d.publishQueue;try{if(l.length){d.publishQueue=[];for(const f of l)if(f.__type===0)yield f.data;else throw f.err}else yield await new Promise((f,p)=>{s.set(u,{__hasPolled:!0,onData:f,onError:p})})}catch(f){if(f===(lp||(lp=fp())))return;throw f}}}finally{s.delete(u)}}}}function pp(e){return{on(t,n,r){function s(a){if(a instanceof CustomEvent){const i=a.detail;n(i)}else n()}return e.addEventListener(t,s,r),()=>{e.removeEventListener(t,s)}}}}function v_(e,t,n){let r;const s=new g_,a=pp(s);return{...a,on(i,o,c){r||(r={dispose:e.on(t,p=>{const h=n(p);if(!h)return;const[m,g]=h;s.dispatchEvent(new CustomEvent(m,{detail:g}))}),numSubscribers:0}),r.numSubscribers++;const u=a.on(i,o,c);let d=!0;function l(){d&&(d=!1,c==null||c.signal.removeEventListener("abort",l),r.numSubscribers--,r.numSubscribers===0&&(r.dispose(),r=void 0),u())}return c==null||c.signal.addEventListener("abort",l),l}}}function hp(e){return e!==null&&(typeof e=="object"||typeof e=="function")}function x_(e){const t=new Set,n={deferreds:t,settled:!1};return Promise.resolve(e).then(r=>{for(const{resolve:s}of t)s(r);t.clear(),n.settled=!0},r=>{for(const{reject:s}of t)s(r);t.clear(),n.settled=!0}),n}var bc=new WeakMap;async function __(e){let t;return await new Promise((r,s)=>{t={reject:s,resolve:r};for(const a of e){if(!hp(a)){Promise.resolve(a).then(r,s);continue}let i=bc.get(a);i===void 0?(i=x_(a),i.deferreds.add(t),bc.set(a,i)):i.settled?Promise.resolve(a).then(r,s):i.deferreds.add(t)}}).finally(()=>{for(const r of e)hp(r)&&bc.get(r).deferreds.delete(t)})}function E_(e){return new Proxy(e.api,{defineProperty(){return!1},deleteProperty(){return!1},get(t,n,r){if(n!=="then")return function(...s){const a=n.toString(),i=Reflect.get(t,a,r);if(!i)throw new D(ev,{notificationName:a});const o=i(...s);return A_(e.transport,o)}}})}function A_(e,t){return{async subscribe({abortSignal:n}){const r=await e({signal:n,...t});return w_({abortSignal:n,dataChannelName:"notification",dataPublisher:r,errorChannelName:"error"})}}}function S_(e){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...t){const[n,r]=t,s=r.toString();return function(...a){const i={methodName:s,params:a},o=e.requestTransformer?e.requestTransformer(i):i;return{execute(c){return e.planExecutor({...c,request:o})},request:o}}}})}function T_(e,t){return Object.freeze({...e,on(n,r,s){return n!=="message"?e.on(n,r,s):e.on("message",a=>r(t(a)),s)}})}function I_(e,t){return Object.freeze({...e,send:n=>e.send(t(n))})}var C_=globalThis.AbortController,gc=new WeakMap;function R_(e,t){return mp(-1,e,t)}function P_(e,t){mp(1,e,t)}function N_(e){let t=gc.get(e);return t||gc.set(e,t={}),t}function mp(e,t,n){if(n===void 0)return;const r=N_(t);!r[n]&&e>0&&(r[n]=0);const s=e+r[n];return s<=0?delete r[n]:r[n]=s,s}var yp=new WeakMap;function O_(e,t,n){let r=yp.get(e);r||yp.set(e,r=new WeakMap);const s=n??e;let a=r.get(s);return a||r.set(s,a=v_(e,"message",i=>{const o=i;if(!("method"in o))return;const c=n?n(o.params.result,t):o.params.result;return[`notification:${o.params.subscription}`,c]})),a}async function k_({channel:e,responseTransformer:t,signal:n,subscribeRequest:r,unsubscribeMethodName:s}){let a;e.on("error",()=>{a=void 0,gc.delete(e)},{signal:n});const i=new Promise((l,f)=>{function p(){if(R_(e,a)===0){const h=fc({methodName:s,params:[a]});a=void 0,e.send(h).catch(()=>{})}f(this.reason)}n.aborted?p.call(n):n.addEventListener("abort",p)}),o=fc(r);await e.send(o);const c=new Promise((l,f)=>{const p=new C_;n.addEventListener("abort",p.abort.bind(p));const h={signal:p.signal};e.on("error",m=>{p.abort(),f(m)},h),e.on("message",m=>{m&&typeof m=="object"&&"id"in m&&m.id===o.id&&(p.abort(),"error"in m?f(tc(m.error)):l(m.result))},h)});if(a=await __([i,c]),a==null)throw new D(tv);P_(e,a);const u=O_(e,r,t),d=`notification:${a}`;return{on(l,f,p){switch(l){case"notification":return u.on(d,f,p);case"error":return e.on("error",f,p);default:throw new D(iv,{channelName:l,supportedChannelNames:["notification","error"]})}}}}function B_(e){const t=np(e),n=t_({allowedNumericKeyPaths:z_()});return S_({planExecutor({request:r,...s}){return k_({...s,responseTransformer:n,subscribeRequest:{...r,methodName:r.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:r.methodName.replace(/Notifications$/,"Unsubscribe")})},requestTransformer:t})}function $_(e){return B_(e)}var wc;function z_(){return wc||(wc={accountNotifications:hr.map(e=>["value",...e]),blockNotifications:[["value","block","transactions",P,"meta","preTokenBalances",P,"accountIndex"],["value","block","transactions",P,"meta","preTokenBalances",P,"uiTokenAmount","decimals"],["value","block","transactions",P,"meta","postTokenBalances",P,"accountIndex"],["value","block","transactions",P,"meta","postTokenBalances",P,"uiTokenAmount","decimals"],["value","block","transactions",P,"meta","rewards",P,"commission"],["value","block","transactions",P,"meta","innerInstructions",P,"index"],["value","block","transactions",P,"meta","innerInstructions",P,"instructions",P,"programIdIndex"],["value","block","transactions",P,"meta","innerInstructions",P,"instructions",P,"accounts",P],["value","block","transactions",P,"transaction","message","addressTableLookups",P,"writableIndexes",P],["value","block","transactions",P,"transaction","message","addressTableLookups",P,"readonlyIndexes",P],["value","block","transactions",P,"transaction","message","instructions",P,"programIdIndex"],["value","block","transactions",P,"transaction","message","instructions",P,"accounts",P],["value","block","transactions",P,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",P,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",P,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",P,"commission"]],programNotifications:hr.flatMap(e=>[["value",P,"account",...e],[P,"account",...e]])}),wc}var M_=globalThis.EventTarget,Es=globalThis.WebSocket,bp=1e3;function L_({sendBufferHighWatermark:e,signal:t,url:n}){if(t.aborted)return Promise.reject(t.reason);let r,s=!1;const a=new Set;function i(){a.forEach(y=>{y()}),a.clear()}function o(){i(),s||m(t.reason),h.readyState!==Es.CLOSED&&h.readyState!==Es.CLOSING&&h.close(bp)}function c(y){i(),r==null||r.onCancel(),t.removeEventListener("abort",o),h.removeEventListener("close",c),h.removeEventListener("error",u),h.removeEventListener("message",d),h.removeEventListener("open",p),!t.aborted&&!(y.wasClean&&y.code===bp)&&l.dispatchEvent(new CustomEvent("error",{detail:new D(Qo,{cause:y})}))}function u(y){if(!t.aborted&&!s){const v=new D(rv,{errorEvent:y});m(v),l.dispatchEvent(new CustomEvent("error",{detail:v}))}}function d(y){t.aborted||l.dispatchEvent(new CustomEvent("message",{detail:y.data}))}const l=new M_,f=pp(l);function p(){s=!0,g({...f,async send(y){if(h.readyState!==Es.OPEN)throw new D(Qo);if(!r&&h.bufferedAmount>e){let v;const w=new Promise((b,_)=>{const E=setInterval(()=>{(h.readyState!==Es.OPEN||!(h.bufferedAmount>e))&&(clearInterval(E),r=void 0,b())},16);v=()=>{r=void 0,clearInterval(E),_(new D(nv))}});r={onCancel:v,promise:w}}if(r){if(ArrayBuffer.isView(y)&&!(y instanceof DataView)){const v=y.constructor;y=new v(y)}await r.promise}h.send(y)}})}const h=new Es(n);t.addEventListener("abort",o),h.addEventListener("close",c),h.addEventListener("error",u),h.addEventListener("message",d),h.addEventListener("open",p);let m,g;return new Promise((y,v)=>{m=v,g=y})}function gp(e,t,n){let r="";if(typeof t[0]=="number"){const i=t[0]+1,o=i%10,c=i%100;o==1&&c!=11?r=i+"st":o==2&&c!=12?r=i+"nd":o==3&&c!=13?r=i+"rd":r=i+"th"}else r=`\`${t[0].toString()}\``;const s=t.length>1?t.slice(1).map(i=>typeof i=="number"?`[${i}]`:i).join("."):void 0,a=new D(S0,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:s?` at path \`${s}\``:"",value:n,...s!==void 0?{path:s}:void 0});return Ra(a,gp),a}var D_={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw gp(e.methodName,t,n)}},vc=globalThis.AbortController,F_={jsonrpc:"2.0",method:"ping"};function U_({abortSignal:e,channel:t,intervalMs:n}){let r;function s(){t.send(F_).catch(o=>{ec(o,Qo)&&i.abort()})}function a(){clearInterval(r),r=setInterval(s,n)}const i=new vc;return i.signal.addEventListener("abort",()=>{clearInterval(r)}),e.addEventListener("abort",()=>{i.abort()}),t.on("error",()=>{i.abort()},{signal:i.signal}),t.on("message",a,{signal:i.signal}),globalThis.navigator.onLine&&a(),globalThis.addEventListener("offline",function(){clearInterval(r)},{signal:i.signal}),globalThis.addEventListener("online",function(){s(),a()},{signal:i.signal}),{...t,send(...o){return i.signal.aborted||a(),t.send(...o)}}}function j_(){return{entries:[],freeChannelIndex:-1}}function V_(e,{maxSubscriptionsPerChannel:t,minChannels:n}){const r=j_();function s(){if(r.entries.length<n){r.freeChannelIndex=-1;return}let a;for(let i=0;i<r.entries.length;i++){const o=(r.freeChannelIndex+i+2)%r.entries.length,c=r.entries[o];c.subscriptionCount<t&&(!a||a.subscriptionCount>=c.subscriptionCount)&&(a={poolIndex:o,subscriptionCount:c.subscriptionCount})}r.freeChannelIndex=(a==null?void 0:a.poolIndex)??-1}return function({abortSignal:i}){let o;function c(){const u=r.entries.findIndex(d=>d===o);r.entries.splice(u,1),o.dispose(),s()}if(r.freeChannelIndex===-1){const u=new vc,d=e({abortSignal:u.signal});d.then(l=>{l.on("error",c,{signal:u.signal})}).catch(c),o={channel:d,dispose(){u.abort()},subscriptionCount:0},r.entries.push(o)}else o=r.entries[r.freeChannelIndex];return o.subscriptionCount++,i.addEventListener("abort",function(){o.subscriptionCount--,o.subscriptionCount===0?c():r.freeChannelIndex!==-1&&(r.freeChannelIndex--,s())}),s(),o.channel}}function H_(e){return Vt(e,t=>T_(t,Y0),t=>I_(t,X0))}function G_(e){return q_({...e,jsonSerializer:H_})}function q_(e){if(/^wss?:/i.test(e.url)===!1){const s=e.url.match(/^([^:]+):/);throw new DOMException(s?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${s[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${e.url}' is invalid.`)}const{intervalMs:t,...n}=e;return V_(({abortSignal:s})=>L_({...n,sendBufferHighWatermark:e.sendBufferHighWatermark??131072,signal:s}).then(e.jsonSerializer).then(a=>U_({abortSignal:s,channel:a,intervalMs:t??5e3})),{maxSubscriptionsPerChannel:e.maxSubscriptionsPerChannel??100,minChannels:e.minChannels??1})}function Z_(e){const t=new Map;return function(r){const{request:s,signal:a}=r,i=ip([s.methodName,s.params]);let o=t.get(i);if(!o){const c=new vc,u=e({...r,signal:c.signal});u.then(d=>{d.on("error",()=>{t.delete(i),c.abort()},{signal:c.signal})}).catch(()=>{}),t.set(i,o={abortController:c,dataPublisherPromise:u,numSubscribers:0})}return o.numSubscribers++,a.addEventListener("abort",()=>{o.numSubscribers--,o.numSubscribers===0&&queueMicrotask(()=>{o.numSubscribers===0&&(t.delete(i),o.abortController.abort())})},{signal:o.abortController.signal}),o.dataPublisherPromise}}function W_({createChannel:e}){return Vt(K_(e),t=>Z_(t))}function K_(e){return async({execute:t,signal:n})=>{const r=await e({abortSignal:n});return await t({channel:r,signal:n})}}function Y_(e,t){const n=W_({createChannel:G_({...t,url:e})});return J_(n)}function wp(e,t){return Y_(e,t)}function J_(e){return E_({api:$_(D_),transport:e})}function X_(e){return Gv(e)}function CA(e){return e}function RA(e){return e}function Q_(e){return"lifetimeConstraint"in e&&typeof e.lifetimeConstraint.blockhash=="string"&&typeof e.lifetimeConstraint.lastValidBlockHeight=="bigint"&&X_(e.lifetimeConstraint.blockhash)}function vp(e,t){return"lifetimeConstraint"in t&&t.lifetimeConstraint&&"blockhash"in t.lifetimeConstraint&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight?t:Object.freeze({...t,lifetimeConstraint:Object.freeze(e)})}function e8(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new D(Ca,{alphabet:e,base:e.length,value:n})}var t8=e=>_e({getSizeFromValue:t=>{const[n,r]=xp(t,e[0]);if(!r)return t.length;const s=_p(r,e);return n.length+Math.ceil(s.toString(16).length/2)},write(t,n,r){if(e8(e,t),t==="")return r;const[s,a]=xp(t,e[0]);if(!a)return n.set(new Uint8Array(s.length).fill(0),r),r+s.length;let i=_p(a,e);const o=[];for(;i>0n;)o.unshift(Number(i%256n)),i/=256n;const c=[...Array(s.length).fill(0),...o];return n.set(c,r),r+c.length}}),n8=e=>de({read(t,n){const r=n===0?t:t.slice(n);if(r.length===0)return["",0];let s=r.findIndex(c=>c!==0);s=s===-1?r.length:s;const a=e[0].repeat(s);if(s===r.length)return[a,t.length];const i=r.slice(s).reduce((c,u)=>c*256n+BigInt(u),0n),o=r8(i,e);return[a+o,t.length]}});function xp(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function _p(e,t){const n=BigInt(t.length);let r=0n;for(const s of e)r*=n,r+=BigInt(t.indexOf(s));return r}function r8(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}var Ep="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",s8=()=>t8(Ep),a8=()=>n8(Ep),xc;function i8(){if(!xc){const e=dr(De(),{size:In()});xc=jt([["lookupTableAddress",ir()],["writableIndexes",e],["readonlyIndexes",e]])}return xc}var _c;function o8(){if(!_c){const e=Ut(xt(),{size:Xt()});_c=et(te([["lookupTableAddress",ee()],["writableIndexes",e],["readonlyIndexes",e]]),t=>"readableIndices"in t?{...t,readonlyIndexes:t.readableIndices,writableIndexes:t.writableIndices}:t)}return _c}var Ec;function Ac(){return Ec||(Ec=De()),Ec}var Sc;function Tc(){return Sc||(Sc=xt()),Sc}function c8(){return jt([["numSignerAccounts",Ac()],["numReadonlySignerAccounts",Ac()],["numReadonlyNonSignerAccounts",Ac()]])}function u8(){return te([["numSignerAccounts",Tc()],["numReadonlySignerAccounts",Tc()],["numReadonlyNonSignerAccounts",Tc()]])}var Ic;function d8(){return Ic||(Ic=Tn(jt([["programAddressIndex",De()],["accountIndices",dr(De(),{size:In()})],["data",wv(uc(),In())]]),e=>e.accountIndices!==void 0&&e.data!==void 0?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)})),Ic}var Cc;function l8(){return Cc||(Cc=et(te([["programAddressIndex",xt()],["accountIndices",Ut(xt(),{size:Xt()})],["data",ne(vs(),Xt())]]),e=>{if(e.accountIndices.length&&e.data.byteLength)return e;const{accountIndices:t,data:n,...r}=e;return{...r,...t.length?{accountIndices:t}:null,...n.byteLength?{data:n}:null}})),Cc}var Rc=128;function f8(){return _e({getSizeFromValue:e=>e==="legacy"?0:1,maxSize:1,write:(e,t,n)=>{if(e==="legacy")return n;if(e<0||e>127)throw new D(N2,{actualVersion:e});return t.set([e|Rc],n),n+1}})}function Ap(){return de({maxSize:1,read:(e,t)=>{const n=e[t];return n&Rc?[n^Rc,t+1]:["legacy",t]}})}function Sp(){return jt(Ip())}function Tp(){return Tn(jt([...Ip(),["addressTableLookups",h8()]]),e=>e.version==="legacy"?e:{...e,addressTableLookups:e.addressTableLookups??[]})}function Ip(){return[["version",f8()],["header",c8()],["staticAccounts",dr(ir(),{size:In()})],["lifetimeToken",rc(s8(),32)],["instructions",dr(d8(),{size:In()})]]}function p8(){return[["version",Ap()],["header",u8()],["staticAccounts",Ut(ee(),{size:Xt()})],["lifetimeToken",ar(a8(),32)],["instructions",Ut(l8(),{size:Xt()})],["addressTableLookups",m8()]]}function h8(){return dr(i8(),{size:In()})}function m8(){return Ut(o8(),{size:Xt()})}function y8(){return _e({getSizeFromValue:e=>e.version==="legacy"?Sp().getSizeFromValue(e):Tp().getSizeFromValue(e),write:(e,t,n)=>e.version==="legacy"?Sp().write(e,t,n):Tp().write(e,t,n)})}function b8(){return et(te(p8()),({addressTableLookups:e,...t})=>t.version==="legacy"||!(e!=null&&e.length)?t:{...t,addressTableLookups:e})}function Cp(e,t,n){e[t]=n(e[t]??{role:ut.READONLY})}var me=Symbol("AddressMapTypeProperty");function g8(e,t){const n={[e]:{[me]:0,role:ut.WRITABLE_SIGNER}},r=new Set;for(const s of t){Cp(n,s.programAddress,i=>{if(r.add(s.programAddress),me in i){if(xs(i.role))switch(i[me]){case 0:throw new D(P2,{programAddress:s.programAddress});default:throw new D(_0,{programAddress:s.programAddress})}if(i[me]===2)return i}return{[me]:2,role:ut.READONLY}});let a;if(s.accounts)for(const i of s.accounts)Cp(n,i.address,o=>{const{address:c,...u}=i;if(me in o)switch(o[me]){case 0:return o;case 1:{const d=K0(o.role,u.role);if("lookupTableAddress"in u){if(o.lookupTableAddress!==u.lookupTableAddress&&(a||(a=oc()))(u.lookupTableAddress,o.lookupTableAddress)<0)return{[me]:1,...u,role:d}}else if(pr(u.role))return{[me]:2,role:d};return o.role!==d?{...o,role:d}:o}case 2:{const d=K0(o.role,u.role);if(r.has(i.address)){if(xs(u.role))throw new D(_0,{programAddress:i.address});return o.role!==d?{...o,role:d}:o}else return"lookupTableAddress"in u&&!pr(o.role)?{...u,[me]:1,role:d}:o.role!==d?{...o,role:d}:o}}return"lookupTableAddress"in u?{...u,[me]:1}:{...u,[me]:2}})}return n}function w8(e){let t;return Object.entries(e).sort(([r,s],[a,i])=>{if(s[me]!==i[me]){if(s[me]===0)return-1;if(i[me]===0)return 1;if(s[me]===2)return-1;if(i[me]===2)return 1}const o=pr(s.role);if(o!==pr(i.role))return o?-1:1;const c=xs(s.role);return c!==xs(i.role)?c?-1:1:(t||(t=oc()),s[me]===1&&i[me]===1&&s.lookupTableAddress!==i.lookupTableAddress?t(s.lookupTableAddress,i.lookupTableAddress):t(r,a))}).map(([r,s])=>({address:r,...s}))}function v8(e){var n;const t={};for(const r of e){if(!("lookupTableAddress"in r))continue;const s=t[n=r.lookupTableAddress]||(t[n]={readableIndices:[],readonlyIndexes:[],writableIndexes:[],writableIndices:[]});r.role===ut.WRITABLE?(s.writableIndexes.push(r.addressIndex),s.writableIndices.push(r.addressIndex)):(s.readableIndices.push(r.addressIndex),s.readonlyIndexes.push(r.addressIndex))}return Object.keys(t).sort(oc()).map(r=>({lookupTableAddress:r,...t[r]}))}function x8(e){let t=0,n=0,r=0;for(const s of e){if("lookupTableAddress"in s)break;const a=xs(s.role);pr(s.role)?(r++,a||n++):a||t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:n,numSignerAccounts:r}}function _8(e){const t={};for(const[n,r]of e.entries())t[r.address]=n;return t}function E8(e,t){const n=_8(t);return e.map(({accounts:r,data:s,programAddress:a})=>({programAddressIndex:n[a],...r?{accountIndices:r.map(({address:i})=>n[i])}:null,...s?{data:s}:null}))}function A8(e){return"nonce"in e?e.nonce:e.blockhash}function S8(e){const t=e.findIndex(r=>"lookupTableAddress"in r);return(t===-1?e:e.slice(0,t)).map(({address:r})=>r)}function T8(e){const t=g8(e.feePayer.address,e.instructions),n=w8(t);return{...e.version!=="legacy"?{addressTableLookups:v8(n)}:null,header:x8(n),instructions:E8(e.instructions,n),lifetimeToken:A8(e.lifetimeConstraint),staticAccounts:S8(n),version:e.version}}function I8(e){return Object.freeze({instructions:Object.freeze([]),version:e.version})}var C8="SysvarRecentB1ockHashes11111111111111111111",R8="11111111111111111111111111111111";function P8(e){var t;return e.programAddress===R8&&e.data!=null&&N8(e.data)&&((t=e.accounts)==null?void 0:t.length)===3&&e.accounts[0].address!=null&&e.accounts[0].role===ut.WRITABLE&&e.accounts[1].address===C8&&e.accounts[1].role===ut.READONLY&&e.accounts[2].address!=null&&pr(e.accounts[2].role)}function N8(e){return e.byteLength===4&&e[0]===4&&e[1]===0&&e[2]===0&&e[3]===0}function O8(e){return"lifetimeConstraint"in e&&typeof e.lifetimeConstraint.nonce=="string"&&e.instructions[0]!=null&&P8(e.instructions[0])}function k8(e,t){var r;if("feePayer"in t&&e===((r=t.feePayer)==null?void 0:r.address)&&B8(t.feePayer))return t;const n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n}function B8(e){return!!e&&"address"in e&&typeof e.address=="string"&&Object.keys(e).length===1}function Rp(e,t){return Pp([e],t)}function Pp(e,t){return Object.freeze({...t,instructions:Object.freeze([...t.instructions,...e])})}function $8(e,t){return z8([e],t)}function z8(e,t){return Object.freeze({...t,instructions:Object.freeze([...e,...t.instructions])})}var M8=O8;function L8(e){const t=Object.values(e);if(t.length===0)throw new D(k2);return t.map(n=>n||new Uint8Array(64).fill(0))}function D8(){return Tn(dr(rc(uc(),64),{size:In()}),L8)}function F8(){return jt([["signatures",D8()],["messageBytes",uc()]])}function U8(){return et(te([["signatures",Ut(ar(vs(),64),{size:Xt()})],["messageBytes",vs()]]),j8)}function j8(e){const{messageBytes:t,signatures:n}=e,r=lr([Ap(),Sv(xt(),2),Ut(ee(),{size:Xt()})]),[s,a,i]=r.decode(t),o=i.slice(0,a);if(o.length!==n.length)throw new D(B2,{numRequiredSignatures:a,signaturesLength:n.length,signerAddresses:o});const c={};return o.forEach((u,d)=>{const l=n[d];l.every(f=>f===0)?c[u]=null:c[u]=l}),{messageBytes:t,signatures:Object.freeze(c)}}function Np(e){const t=T8(e),n=y8().encode(t),r=t.staticAccounts.slice(0,t.header.numSignerAccounts),s={};for(const i of r)s[i]=null;let a;return Q_(e)?a={blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:a={nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address},Object.freeze({lifetimeConstraint:a,messageBytes:n,signatures:Object.freeze(s)})}function V8(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])}async function H8(e,t){let n,r;if(await Promise.all(e.map(async s=>{const a=await F0(s.publicKey),i=t.signatures[a];if(i===void 0){r||(r=new Set),r.add(a);return}if(r)return;const o=await lc(s.privateKey,t.messageBytes);i!==null&&V8(o,i)||(n||(n={}),n[a]=o)})),r&&r.size>0){const s=Object.keys(t.signatures);throw new D(O2,{expectedAddresses:s,unexpectedAddresses:[...r]})}return n?Object.freeze({...t,signatures:Object.freeze({...t.signatures,...n})}):t}function Pc(e){const t=F8().encode(e);return Ov().decode(t)}function Nc(e){const t={};return e.forEach(n=>{if(!t[n.address])t[n.address]=n;else if(t[n.address]!==n)throw new D(R2,{address:n.address})}),Object.values(t)}function As(e){return"modifyAndSignTransactions"in e&&typeof e.modifyAndSignTransactions=="function"}function mr(e){return"signTransactions"in e&&typeof e.signTransactions=="function"}function Op(e){return"signAndSendTransactions"in e&&typeof e.signAndSendTransactions=="function"}function Ba(e){return mr(e)||As(e)||Op(e)}function G8(e){return Nc((e.accounts??[]).flatMap(t=>"signer"in t?t.signer:[]))}function q8(e){return Nc([...e.feePayer&&Ba(e.feePayer)?[e.feePayer]:[],...e.instructions.flatMap(G8)])}async function kp(e){const t=await F0(e.publicKey);return Object.freeze({address:t,keyPair:e,signMessages:r=>Promise.all(r.map(async s=>Object.freeze({[t]:await lc(e.privateKey,s.content)}))),signTransactions:r=>Promise.all(r.map(async s=>{const a=await H8([e],s);return Object.freeze({[t]:a.signatures[t]})}))})}async function Z8(e,t){return await kp(await Cx(e,t))}async function W8(e,t){return await kp(await Rx(e,t))}async function K8(e,t){const{partialSigners:n,modifyingSigners:r}=Y8(Nc(q8(e).filter(Ba)),{identifySendingSigner:!1});return await Q8(e,r,n,t)}function Y8(e,t={}){const r=t.identifySendingSigner??!0?J8(e):null,s=e.filter(o=>o!==r&&(As(o)||mr(o))),a=X8(s),i=s.filter(mr).filter(o=>!a.includes(o));return Object.freeze({modifyingSigners:a,partialSigners:i,sendingSigner:r})}function J8(e){const t=e.filter(Op);if(t.length===0)return null;const n=t.filter(r=>!As(r)&&!mr(r));return n.length>0?n[0]:t[0]}function X8(e){const t=e.filter(As);if(t.length===0)return[];const n=t.filter(r=>!mr(r));return n.length>0?n:[t[0]]}async function Q8(e,t=[],n=[],r){const s=Np(e),a=await t.reduce(async(o,c)=>{const[u]=await c.modifyAndSignTransactions([await o],r);return Object.freeze(u)},Promise.resolve(s)),i=await Promise.all(n.map(async o=>{const[c]=await o.signTransactions([a],r);return c}));return Object.freeze({...a,signatures:Object.freeze(i.reduce((o,c)=>({...o,...c}),a.signatures??{}))})}var Bp="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",$p=(e=>(e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen",e))($p||{});function eE(){return bx($p)}function tE(){return ar(vs(),36)}function Ss(){return ar(vs(),64)}function nE(){return fx([["Uninitialized",fr()],["TransferFeeConfig",ne(te([["transferFeeConfigAuthority",ee()],["withdrawWithheldAuthority",ee()],["withheldAmount",Re()],["olderTransferFee",zp()],["newerTransferFee",zp()]]),se())],["TransferFeeAmount",ne(te([["withheldAmount",Re()]]),se())],["MintCloseAuthority",ne(te([["closeAuthority",ee()]]),se())],["ConfidentialTransferMint",ne(te([["authority",Pe(ee(),{prefix:null,noneValue:"zeroes"})],["autoApproveNewAccounts",ct()],["auditorElgamalPubkey",Pe(ee(),{prefix:null,noneValue:"zeroes"})]]),se())],["ConfidentialTransferAccount",ne(te([["approved",ct()],["elgamalPubkey",ee()],["pendingBalanceLow",Ss()],["pendingBalanceHigh",Ss()],["availableBalance",Ss()],["decryptableAvailableBalance",tE()],["allowConfidentialCredits",ct()],["allowNonConfidentialCredits",ct()],["pendingBalanceCreditCounter",Re()],["maximumPendingBalanceCreditCounter",Re()],["expectedPendingBalanceCreditCounter",Re()],["actualPendingBalanceCreditCounter",Re()]]),se())],["DefaultAccountState",ne(te([["state",eE()]]),se())],["ImmutableOwner",ne(te([]),se())],["MemoTransfer",ne(te([["requireIncomingTransferMemos",ct()]]),se())],["NonTransferable",ne(te([]),se())],["InterestBearingConfig",ne(te([["rateAuthority",ee()],["initializationTimestamp",Re()],["preUpdateAverageRate",H0()],["lastUpdateTimestamp",Re()],["currentRate",H0()]]),se())],["CpiGuard",ne(te([["lockCpi",ct()]]),se())],["PermanentDelegate",ne(te([["delegate",ee()]]),se())],["NonTransferableAccount",ne(te([]),se())],["TransferHook",ne(te([["authority",ee()],["programId",ee()]]),se())],["TransferHookAccount",ne(te([["transferring",ct()]]),se())],["ConfidentialTransferFee",ne(te([["authority",Pe(ee(),{prefix:null,noneValue:"zeroes"})],["elgamalPubkey",ee()],["harvestToMintEnabled",ct()],["withheldAmount",Ss()]]),se())],["ConfidentialTransferFeeAmount",ne(te([["withheldAmount",Ss()]]),se())],["MetadataPointer",ne(te([["authority",Pe(ee(),{prefix:null,noneValue:"zeroes"})],["metadataAddress",Pe(ee(),{prefix:null,noneValue:"zeroes"})]]),se())],["TokenMetadata",ne(te([["updateAuthority",Pe(ee(),{prefix:null,noneValue:"zeroes"})],["mint",ee()],["name",ne(gs(),Ft())],["symbol",ne(gs(),Ft())],["uri",ne(gs(),Ft())],["additionalMetadata",wx(ne(gs(),Ft()),ne(gs(),Ft()))]]),se())],["GroupPointer",ne(te([["authority",Pe(ee(),{prefix:null,noneValue:"zeroes"})],["groupAddress",Pe(ee(),{prefix:null,noneValue:"zeroes"})]]),se())],["TokenGroup",ne(te([["updateAuthority",Pe(ee(),{prefix:null,noneValue:"zeroes"})],["mint",ee()],["size",Re()],["maxSize",Re()]]),se())],["GroupMemberPointer",ne(te([["authority",Pe(ee(),{prefix:null,noneValue:"zeroes"})],["memberAddress",Pe(ee(),{prefix:null,noneValue:"zeroes"})]]),se())],["TokenGroupMember",ne(te([["mint",ee()],["group",ee()],["memberNumber",Re()]]),se())],["ConfidentialMintBurn",fr()],["ScaledUiAmountConfig",ne(te([["authority",ee()],["multiplier",V0()],["newMultiplierEffectiveTimestamp",Re()],["newMultiplier",V0()]]),se())],["PausableConfig",ne(te([["authority",Pe(ee(),{prefix:null,noneValue:"zeroes"})],["paused",ct()]]),se())],["PausableAccount",fr()]],{size:se()})}function zp(){return te([["epoch",Re()],["maximumFee",Re()],["transferFeeBasisPoints",se()]])}function rE(){return te([["mintAuthority",Pe(ee(),{prefix:Ft(),noneValue:"zeroes"})],["supply",Re()],["decimals",xt()],["isInitialized",ct()],["freezeAuthority",Pe(ee(),{prefix:Ft(),noneValue:"zeroes"})],["extensions",Pe(gx(Ut(nE(),{size:"remainder"}),[Z0(Av(De(),83).encode(1))]),{prefix:null})]])}function sE(e){return $v(e,rE())}async function aE(e,t,n){const r=await iE(e,t,n);return Dv(r),r}async function iE(e,t,n){const r=await Lv(e,t,n);return sE(r)}var Oc="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb";function oE(e){if(!e)throw new Error("Expected a Address.");return typeof e=="object"&&"address"in e?e.address:Array.isArray(e)?e[0]:e}function cE(e,t){return n=>{if(!n.value)return Object.freeze({address:e,role:ut.READONLY});const r=n.isWritable?ut.WRITABLE:ut.READONLY;return Object.freeze({address:oE(n.value),role:Mp(n.value)?Ax(r):r,...Mp(n.value)?{signer:n.value}:{}})}}function Mp(e){return!!e&&typeof e=="object"&&"address"in e&&Ba(e)}async function Lp(e,t={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=t;return await sx({programAddress:n,seeds:[ir().encode(e.owner),ir().encode(e.tokenProgram),ir().encode(e.mint)]})}var uE=12;function dE(){return Tn(jt([["discriminator",De()],["amount",q0()],["decimals",De()]]),e=>({...e,discriminator:uE}))}function lE(e,t){const n=(t==null?void 0:t.programAddress)??Oc,s={source:{value:e.source??null,isWritable:!0},mint:{value:e.mint??null,isWritable:!1},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},a={...e},i=(a.multiSigners??[]).map(u=>({address:u.address,role:ut.READONLY_SIGNER,signer:u})),o=cE(n);return{accounts:[o(s.source),o(s.mint),o(s.destination),o(s.authority),...i],programAddress:n,data:dE().encode(a)}}pu([ae().transform(e=>e.replace(/[^0-9.-]+/g,"")),We()]).pipe(Rh.number().min(1e-4).max(999999999));var $a=pt(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","solana-devnet","solana","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"]),kc=["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"],Bc=new Map([["abstract",2741],["abstract-testnet",11124],["base-sepolia",84532],["base",8453],["avalanche-fuji",43113],["avalanche",43114],["iotex",4689],["sei",1329],["sei-testnet",1328],["polygon",137],["polygon-amoy",80002],["peaq",3338],["story",1514],["educhain",41923],["skale-base-sepolia",324705682]]),za=["solana-devnet","solana"],Dp=new Map([["solana-devnet",103],["solana",101]]);Object.fromEntries([...kc,...za].map(e=>[Bc.get(e),e]));var fE={id:324705682,name:"SKALE Base Sepolia",nativeCurrency:{name:"Credits",symbol:"CREDITS",decimals:18},rpcUrls:{default:{http:["https://base-sepolia-testnet.skalenodes.com/v1/jubilant-horrible-ancha"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia-testnet-explorer.skalenodes.com",apiUrl:"https://base-sepolia-testnet-explorer.skalenodes.com/api"}}};function $c(e){const t=Lc(e);return zw({chain:t,transport:r0()}).extend(Ta)}function pE(){return $c("base-sepolia")}function hE(){return $c("avalanche-fuji")}function zc(e,t){const n=Lc(e),r=t0({chain:n,transport:r0(),account:F5(t)});return Fp(n)?r.extend(Ta).extend(q5()):r.extend(Ta)}function mE(e){return zc("base-sepolia",e)}function yE(e){return zc("avalanche-fuji",e)}function Ma(e){return typeof e=="object"&&e!==null&&"chain"in e&&"transport"in e}function Mc(e){const t=e;return typeof e=="object"&&e!==null&&typeof t.address=="string"&&typeof t.type=="string"&&typeof t.sign=="function"&&typeof t.signMessage=="function"&&typeof t.signTypedData=="function"&&typeof t.signTransaction=="function"}function Lc(e){if(!e)throw new Error("NETWORK environment variable is not set");switch(e){case"abstract":return c5;case"abstract-testnet":return u5;case"base":return qo;case"base-sepolia":return Zo;case"avalanche":return b5;case"avalanche-fuji":return g5;case"sei":return S5;case"sei-testnet":return T5;case"polygon":return E5;case"polygon-amoy":return A5;case"peaq":return _5;case"story":return I5;case"educhain":return w5;case"iotex":return v5;case"iotex-testnet":return x5;case"skale-base-sepolia":return fE;default:throw new Error(`Unsupported network: ${e}`)}}var bE=new Set([2741,11124]);function Fp(e){return bE.has(e.id)}var gE="https://api.devnet.solana.com",wE="https://api.mainnet-beta.solana.com",vE="wss://api.devnet.solana.com",xE="wss://api.mainnet-beta.solana.com";function Up(e){return dp(e||gE)}function jp(e){return dp(e||wE)}function La(e,t){if(e==="solana-devnet")return Up(t);if(e==="solana")return jp(t);throw new Error("Invalid network")}function _E(e,t){if(e==="solana-devnet")return wp(t?Vp(t):vE);if(e==="solana")return wp(t?Vp(t):xE);throw new Error("Invalid network")}function Vp(e){return e.startsWith("http")?e.replace("http","ws"):e}function EE(e){if(!za.find(t=>t===e))throw new Error(`Unsupported SVM network: ${e}`);return La(e)}async function AE(e){const t=B5.decode(e);if(t.length===64)return await Z8(t);if(t.length===32)return await W8(t);throw new Error(`Unexpected key length: ${t.length}. Expected 32 or 64 bytes.`)}function Hp(e){return typeof e=="object"&&e!==null&&Ba(e)}function SE(e){return Ma(e)||Mc(e)}function TE(e){return Hp(e)}function Gp(e){return"evm"in e&&"svm"in e}var IE={};Ht(IE,{authorizationPrimaryType:()=>CE,authorizationTypes:()=>qp,config:()=>Xc,createClientAvalancheFuji:()=>hE,createClientSepolia:()=>pE,createConnectedClient:()=>$c,createSigner:()=>zc,createSignerAvalancheFuji:()=>yE,createSignerSepolia:()=>mE,getChainFromNetwork:()=>Lc,isAccount:()=>Mc,isSignerWallet:()=>Ma,isZkStackChain:()=>Fp,usdcABI:()=>Qp});var qp={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]},CE="TransferWithAuthorization",RE={};Ht(RE,{SvmAddressRegex:()=>Dc});var Dc=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/,PE=/^[A-Za-z0-9+/]*={0,2}$/;function Zp(e){return typeof globalThis<"u"&&typeof globalThis.btoa=="function"?globalThis.btoa(e):Buffer.from(e).toString("base64")}var NE=18,Fc=/^0x[0-9a-fA-F]{40}$/,Uc=/^0x[a-fA-F0-9]{40}|[A-Za-z0-9][A-Za-z0-9-]{0,34}[A-Za-z0-9]$/,OE=/^0x[0-9a-fA-F]{64}$/,kE=/^0x[0-9a-fA-F]+$/,jc=["exact"],Ts=[1],Vc=["insufficient_funds","invalid_exact_evm_payload_authorization_valid_after","invalid_exact_evm_payload_authorization_valid_before","invalid_exact_evm_payload_authorization_value","invalid_exact_evm_payload_signature","invalid_exact_evm_payload_recipient_mismatch","invalid_exact_svm_payload_transaction","invalid_exact_svm_payload_transaction_amount_mismatch","invalid_exact_svm_payload_transaction_create_ata_instruction","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset","invalid_exact_svm_payload_transaction_instructions","invalid_exact_svm_payload_transaction_instructions_length","invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high","invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked","invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked","invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts","invalid_exact_svm_payload_transaction_fee_payer_transferring_funds","invalid_exact_svm_payload_transaction_not_a_transfer_instruction","invalid_exact_svm_payload_transaction_receiver_ata_not_found","invalid_exact_svm_payload_transaction_sender_ata_not_found","invalid_exact_svm_payload_transaction_simulation_failed","invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata","invalid_network","invalid_payload","invalid_payment_requirements","invalid_scheme","invalid_payment","payment_expired","unsupported_scheme","invalid_x402_version","invalid_transaction_state","invalid_x402_version","settle_exact_svm_block_height_exceeded","settle_exact_svm_transaction_confirmation_timed_out","unsupported_scheme","unexpected_settle_error","unexpected_verify_error"],Da=e=>Number.isInteger(Number(e))&&Number(e)>=0,BE=e=>t=>t.length<=e,Hc=ae().regex(Fc).or(ae().regex(Dc)),$E=ae().regex(Uc).or(ae().regex(Dc)),Is=be({scheme:pt(jc),network:$a,maxAmountRequired:ae().refine(Da),resource:ae().url(),description:ae(),mimeType:ae(),outputSchema:on(kn()).optional(),payTo:Hc,maxTimeoutSeconds:We().int(),asset:$E,extra:on(kn()).optional()}),zE=be({from:ae().regex(Fc),to:ae().regex(Fc),value:ae().refine(Da).refine(BE(NE)),validAfter:ae().refine(Da),validBefore:ae().refine(Da),nonce:ae().regex(OE)}),ME=be({signature:ae().regex(kE),authorization:zE}),LE=be({transaction:ae().regex(PE)}),Wp=be({x402Version:We().refine(e=>Ts.includes(e)),scheme:pt(jc),network:$a,payload:pu([ME,LE])});be({x402Version:We().refine(e=>Ts.includes(e)),error:pt(Vc).optional(),accepts:Us(Is).optional(),payer:ae().regex(Uc).optional()});var DE=pt(["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"]),FE=be({type:Ch("http"),method:DE,queryParams:on(ae(),ae()).optional(),bodyType:pt(["json","form-data","multipart-form-data","text","binary"]).optional(),bodyFields:on(ae(),kn()).optional(),headerFields:on(ae(),kn()).optional()});Ih("type",[FE]);var UE=be({resource:ae(),type:pt(["http"]),x402Version:We().refine(e=>Ts.includes(e)),accepts:Us(Is),lastUpdated:Th(),metadata:on(kn()).optional()});be({paymentPayload:Wp,paymentRequirements:Is}),be({paymentPayload:Wp,paymentRequirements:Is}),be({isValid:fu(),invalidReason:pt(Vc).optional(),payer:Hc.optional()}),be({success:fu(),errorReason:pt(Vc).optional(),payer:Hc.optional(),transaction:ae().regex(Uc),network:$a}),be({type:ae().optional(),limit:We().optional(),offset:We().optional()}),be({x402Version:We().refine(e=>Ts.includes(e)),items:Us(UE),pagination:be({limit:We(),offset:We(),total:We()})});var jE=be({x402Version:We().refine(e=>Ts.includes(e)),scheme:pt(jc),network:$a,extra:on(kn()).optional()});be({kinds:Us(jE)});function Kp(e){if(Bc.has(e))return Bc.get(e);if(Dp.has(e))return Dp.get(e);throw new Error(`Unsupported network: ${e}`)}var VE={};Ht(VE,{createDevnetRpcClient:()=>Up,createMainnetRpcClient:()=>jp,createSignerFromBase58:()=>AE,createSvmConnectedClient:()=>EE,decodeTransactionFromPayload:()=>HE,getRpcClient:()=>La,getRpcSubscriptions:()=>_E,getTokenPayerFromTransaction:()=>GE,isSignerWallet:()=>Hp,signAndSimulateTransaction:()=>qE,signTransactionWithSigner:()=>Yp});function HE(e){try{const n=$0().encode(e.transaction);return U8().decode(n)}catch(t){throw console.error("error",t),new Error("invalid_exact_svm_payload_transaction")}}function GE(e){const t=b8().decode(e.messageBytes),n=t.staticAccounts??[],r=t.instructions??[];for(const s of r){const a=s.programAddressIndex,i=n[a].toString();if(i===Bp.toString()||i===Oc.toString()){const o=s.accountIndices??[];if(o.length>=4){const c=o[3],u=n[c].toString();if(u)return u}}}return""}async function qE(e,t,n){const r=await Yp(e,t),s=Pc(r),a={sigVerify:!0,replaceRecentBlockhash:!1,commitment:"confirmed",encoding:"base64",accounts:void 0,innerInstructions:void 0,minContextSlot:void 0};return await n.simulateTransaction(s,a).send()}async function Yp(e,t){if(As(e)){const[n]=await e.modifyAndSignTransactions([t]);if(!n)throw new Error("transaction_signer_failed_to_return_transaction");return n}if(mr(e)){const[n]=await e.signTransactions([t]);if(!n)throw new Error("transaction_signer_failed_to_return_signatures");return ZE(t,n)}throw new Error("transaction_signer_must_support_offline_signing")}function ZE(e,t){return Object.freeze({...e,signatures:Object.freeze({...e.signatures,...t})})}be({paymentHeader:ae(),paymentRequirements:Is});var Gc="ComputeBudget111111111111111111111111111111";function WE(e){const t="data"in e?e.data:e;if(Sn(t,De().encode(0),0))return 0;if(Sn(t,De().encode(1),0))return 1;if(Sn(t,De().encode(2),0))return 2;if(Sn(t,De().encode(3),0))return 3;if(Sn(t,De().encode(4),0))return 4;throw new Error("The provided instruction could not be identified as a computeBudget instruction.")}var KE=2;function YE(){return Tn(jt([["discriminator",De()],["units",G0()]]),e=>({...e,discriminator:KE}))}function qc(e,t){const n=Gc,r={...e};return{programAddress:n,data:YE().encode(r)}}var JE=3;function XE(){return Tn(jt([["discriminator",De()],["microLamports",q0()]]),e=>({...e,discriminator:JE}))}function QE(e,t){const n=Gc,r={...e};return{programAddress:n,data:XE().encode(r)}}var eA=14e5;function tA(e){const t=nA(e);if(t<0)return null;const n=Ft().decode(e.instructions[t].data,1);return{index:t,units:n}}function nA(e){return e.instructions.findIndex(rA)}function rA(e){return e.programAddress===Gc&&WE(e.data)===2}function sA(e,t){const n=u=>e,r=tA(t);if(!r)return Rp(qc({units:n()}),t);const{index:s,units:a}=r,i=n();if(i===a)return t;const o=qc({units:i}),c=[...t.instructions];return c.splice(s,1,o),Object.freeze({...t,instructions:c})}var aA={blockhash:"11111111111111111111111111111111",lastValidBlockHeight:0n};function iA(e){return"lifetimeConstraint"in e?e:oA(e)}function oA(e){return vp(aA,e)}async function cA({transactionMessage:e,...t}){const n=!M8(e),r=Vt(e,iA,s=>sA(eA,s),Np);return await uA({transaction:r,replaceRecentBlockhash:n,...t})}async function uA({abortSignal:e,rpc:t,transaction:n,...r}){const s=Pc(n);try{const{value:{err:a,unitsConsumed:i}}=await t.simulateTransaction(s,{...r,encoding:"base64",sigVerify:!1}).send({abortSignal:e});if(i==null)throw new D(E0);const o=i>4294967295n?4294967295:Number(i);if(a)throw new D(A0,{cause:a,unitsConsumed:o});return o}catch(a){throw ec(a,A0)?a:new D(E0,{cause:a})}}function dA({rpc:e}){return async function(n,r){return await cA({...r,rpc:e,transactionMessage:n})}}function lA(e,t){return Rp(QE({microLamports:e}),t)}function Jp(e){let t;if(kc.includes(e.network)){const n=e.payload;return t={...e,payload:{...n,authorization:Object.fromEntries(Object.entries(n.authorization).map(([r,s])=>[r,typeof s=="bigint"?s.toString():s]))}},Zp(JSON.stringify(t))}if(za.includes(e.network))return t={...e,payload:e.payload},Zp(JSON.stringify(t));throw new Error("Invalid network")}async function fA(e,{from:t,to:n,value:r,validAfter:s,validBefore:a,nonce:i},{asset:o,network:c,extra:u}){const d=Kp(c),l=u==null?void 0:u.name,f=u==null?void 0:u.version,p={types:qp,domain:{name:l,version:f,chainId:d,verifyingContract:Un(o)},primaryType:"TransferWithAuthorization",message:{from:Un(t),to:Un(n),value:r,validAfter:s,validBefore:a,nonce:i}};if(Ma(e))return{signature:await e.signTypedData(p)};if(Mc(e)&&e.signTypedData)return{signature:await e.signTypedData(p)};throw new Error("Invalid wallet client provided does not support signTypedData")}function pA(){const e=typeof globalThis.crypto<"u"&&typeof globalThis.crypto.getRandomValues=="function"?globalThis.crypto:Fe("crypto").webcrypto;return Q(e.getRandomValues(new Uint8Array(32)))}function hA(e,t,n){const r=pA(),s=BigInt(Math.floor(Date.now()/1e3)-600).toString(),a=BigInt(Math.floor(Date.now()/1e3+n.maxTimeoutSeconds)).toString();return{x402Version:t,scheme:n.scheme,network:n.network,payload:{signature:void 0,authorization:{from:e,to:n.payTo,value:n.maxAmountRequired,validAfter:s.toString(),validBefore:a.toString(),nonce:r}}}}async function mA(e,t,n){const{signature:r}=await fA(e,n.payload.authorization,t);return{...n,payload:{...n.payload,signature:r}}}async function yA(e,t,n){const r=Ma(e)?e.account.address:e.address,s=hA(r,t,n);return mA(e,n,s)}async function bA(e,t,n){const r=await yA(e,t,n);return Jp(r)}async function gA(e,t,n,r){const s=await wA(e,t,n,r);return Jp(s)}async function wA(e,t,n,r){const s=await vA(e,n,r),a=await K8(s),i=Pc(a);return{scheme:n.scheme,network:n.network,x402Version:t,payload:{transaction:i}}}async function vA(e,t,n){var l,f;const r=La(t.network,(l=n==null?void 0:n.svmConfig)==null?void 0:l.rpcUrl),s=await xA(e,t,n),a=(f=t.extra)==null?void 0:f.feePayer,i=Vt(I8({version:0}),p=>lA(1,p),p=>k8(a,p),p=>Pp(s,p)),c=await dA({rpc:r})(i),{value:u}=await r.getLatestBlockhash().send();return Vt(i,p=>$8(qc({units:c}),p),p=>vp(u,p))}async function xA(e,t,n){var f;const{asset:r,maxAmountRequired:s,payTo:a}=t,i=La(t.network,(f=n==null?void 0:n.svmConfig)==null?void 0:f.rpcUrl),o=await aE(i,r),c=o.programAddress;if(c.toString()!==Bp.toString()&&c.toString()!==Oc.toString())throw new Error("Asset was not created by a known token program");const[u]=await Lp({mint:r,owner:e.address,tokenProgram:c}),[d]=await Lp({mint:r,owner:a,tokenProgram:c});return[lE({source:u,mint:r,destination:d,authority:e,amount:BigInt(s),decimals:o.data.decimals},{programAddress:c})]}async function _A(e,t,n,r){if(n.scheme==="exact"){if(kc.includes(n.network)){const s=Gp(e)?e.evm:e;if(!SE(s))throw new Error("Invalid evm wallet client provided");return await bA(s,t,n)}if(za.includes(n.network)){const s=Gp(e)?e.svm:e;if(!TE(s))throw new Error("Invalid svm wallet client provided");return await gA(s,t,n,r)}throw new Error("Unsupported network")}throw new Error("Unsupported scheme")}function EA(e,t,n){const r=e.filter(a=>{const i=a.scheme===n,o=!t||(Array.isArray(t)?t.includes(a.network):t==a.network);return i&&o}),s=r.filter(a=>{var i;return a.asset===((i=eh(Kp(a.network)))==null?void 0:i.usdcAddress)});return s.length>0?s[0]:r.length>0?r[0]:e[0]}const qe={log:(...e)=>{},error:(...e)=>{console.error(...e)},warn:(...e)=>{},info:(...e)=>{}};class Xp{constructor(t={}){this.config={walletAddress:t.walletAddress||"",apiEndpoint:t.apiEndpoint||"",creatorName:t.creatorName||"this creator",message:t.message||"Thanks for the coffee!",color:t.color||"#5F7FFF",position:t.position||"Right",xMargin:t.xMargin||"18",yMargin:t.yMargin||"18",presetAmounts:t.presetAmounts||[1,3,5],theme:t.theme||"light",network:t.network||"base-sepolia",logoUrl:t.logoUrl||null,minAmount:t.minAmount||.01,maxAmount:t.maxAmount||1e6,...t},this.state={modalOpen:!1,connected:!1,loading:!1,error:null,selectedAmount:null,customAmount:"",userAddress:null,currentChainId:null,message:""},this.elements={},this.walletClient=null,this.validateConfig(),this.initializeNetworkConfig()}validateConfig(){if(!this.config.walletAddress)throw new Error("CryptoMeACoffee: walletAddress is required");if(!this.config.apiEndpoint)throw new Error("CryptoMeACoffee: apiEndpoint is required")}initializeNetworkConfig(){if(this.networks={"base-sepolia":{chain:Zo,id:84532,name:"Base Sepolia"},base:{chain:qo,id:8453,name:"Base"}},this.targetNetwork=this.networks[this.config.network],!this.targetNetwork)throw new Error(`Unsupported network: ${this.config.network}`)}isWalletAvailable(){var t;return typeof window>"u"?!1:!!(typeof window.ethereum<"u"||typeof window.coinbaseWalletExtension<"u"||(t=window.ethereum)!=null&&t.providers&&window.ethereum.providers.length>0)}getEthereumProvider(){var t;return window.ethereum&&!window.ethereum.providers?window.ethereum:(t=window.ethereum)!=null&&t.providers?window.ethereum.providers.find(r=>r.isCoinbaseWallet||r.isMetaMask)||window.ethereum.providers[0]:window.coinbaseWalletExtension?window.coinbaseWalletExtension:window.ethereum}async connectWallet(){if(!this.isWalletAvailable())throw new Error("No Web3 wallet detected. Please install MetaMask or Coinbase Wallet.");try{const t=this.getEthereumProvider(),n=await t.request({method:"eth_requestAccounts"});if(!n||n.length===0)throw new Error("No accounts found");this.state.userAddress=n[0],this.state.connected=!0;const r=await t.request({method:"eth_chainId"});return this.state.currentChainId=parseInt(r,16),this.walletClient=t0({account:this.state.userAddress,chain:this.targetNetwork.chain,transport:Xw(t)}),qe.log(" Viem wallet client created:",this.walletClient),this.state.currentChainId!==this.targetNetwork.id&&await this.switchNetwork(),this.state.userAddress}catch(t){throw t.code===4001?new Error("Wallet connection rejected by user"):t}}async switchNetwork(){if(!this.isWalletAvailable())throw new Error("No wallet available");const t=this.getEthereumProvider(),n=`0x${this.targetNetwork.id.toString(16)}`;try{await t.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),this.state.currentChainId=this.targetNetwork.id}catch(r){if(r.code===4902)try{await t.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:this.targetNetwork.name,rpcUrls:this.targetNetwork.chain.rpcUrls.default.http,nativeCurrency:this.targetNetwork.chain.nativeCurrency,blockExplorerUrls:[this.targetNetwork.chain.blockExplorers.default.url]}]}),this.state.currentChainId=this.targetNetwork.id}catch{throw new Error("Failed to add network to wallet")}else throw r.code===4001?new Error("Network switch rejected by user"):r}}async processPayment(){try{qe.log(" Step 1: Requesting payment details from server...");const t=this.state.selectedAmount||parseFloat(this.state.customAmount);if(!t||t<=0)throw new Error("Please enter a valid amount");const n=await fetch(this.config.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t,message:this.state.message})});if(n.status!==402)throw new Error(`Expected 402 response, got ${n.status}`);const r=await n.json();if(qe.log(" Payment details received:",r),!r.accepts||r.accepts.length===0)throw new Error("No payment options available");const s=EA(r.accepts,this.config.network,"exact");qe.log(" Selected payment requirements:",s),qe.log(" Step 2: Creating payment header using x402 client...");const a=await _A(this.walletClient,r.x402Version,s);qe.log(" Payment header created:",a.substring(0,100)+"..."),qe.log(" Step 3: Submitting payment to server...");const i=await fetch(this.config.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json","X-PAYMENT":a},body:JSON.stringify({amount:t,message:this.state.message})});if(!i.ok){const c=await i.json().catch(()=>({})),u=c.error||c.message||`Payment failed (${i.status})`;throw new Error(u)}const o=await i.json();qe.log(" Payment successful:",o),this.showSuccess()}catch(t){throw qe.error(" Payment error:",t),t}}openModal(){this.state.modalOpen=!0;const t=this.elements.container.querySelector(".cmac-modal-overlay");t&&(t.style.display="flex",setTimeout(()=>t.classList.add("show"),10))}closeModal(){this.state.modalOpen=!1;const t=this.elements.container.querySelector(".cmac-modal-overlay");t&&(t.classList.remove("show"),setTimeout(()=>t.style.display="none",200)),this.resetForm()}resetForm(){this.state.selectedAmount=null,this.state.customAmount="",this.state.message="";const t=this.elements.container.querySelector(".cmac-custom-amount"),n=this.elements.container.querySelector(".cmac-message-input");t&&(t.value=""),n&&(n.value="",this.updateCharCounter()),this.elements.container.querySelectorAll(".cmac-preset-btn").forEach(r=>{r.classList.remove("selected")})}handlePresetAmount(t){this.state.selectedAmount=t,this.state.customAmount="";const n=this.elements.container.querySelector(".cmac-custom-amount");n&&(n.value=t),this.elements.container.querySelectorAll(".cmac-preset-btn").forEach(r=>{parseFloat(r.dataset.amount)===t?r.classList.add("selected"):r.classList.remove("selected")})}handleCustomAmountInput(t){this.state.customAmount=t,t&&(this.state.selectedAmount=null,this.elements.container.querySelectorAll(".cmac-preset-btn").forEach(n=>{n.classList.remove("selected")}))}handleMessageInput(t){t.length<=500&&(this.state.message=t,this.updateCharCounter())}updateCharCounter(){const t=this.elements.container.querySelector(".cmac-char-count");t&&(t.textContent=`${this.state.message.length}/500`)}async handleSupport(){try{this.setLoading(!0);const t=this.state.selectedAmount||parseFloat(this.state.customAmount);if(!t||t<this.config.minAmount||t>this.config.maxAmount){this.showError(`Please enter an amount between $${this.config.minAmount} and $${this.config.maxAmount}`);return}this.state.connected||await this.connectWallet(),this.state.currentChainId!==this.targetNetwork.id&&await this.switchNetwork(),await this.processPayment()}catch(t){qe.error("Support error:",t),this.showError(t.message||"Failed to process donation")}finally{this.setLoading(!1)}}render(t="body"){let n;if(t==="body")n=document.createElement("div"),n.id="cryptomeacoffee-widget-container",document.body.appendChild(n);else if(n=document.getElementById(t),!n)throw new Error(`Container #${t} not found`);n.innerHTML=this.getWidgetHTML(),n.className=`cryptomeacoffee-widget theme-${this.config.theme}`,this.elements.container=n,this.attachEventListeners()}getWidgetHTML(){const t=this.config.position.toLowerCase(),n=this.config.xMargin+"px",r=this.config.yMargin+"px",s=t==="left"?`left: ${n}; bottom: ${r};`:`right: ${n}; bottom: ${r};`,a=this.config.logoUrl?`<img src="${this.config.logoUrl}" alt="Support" style="width: 73%; height: 73%; object-fit: contain;" />`:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M2 21h19v-3H2v3zM20 8H4V5h16v3zm0 6c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z" fill="white"/>
        </svg>`;return`
      <!-- Floating Button -->
      <div class="cmac-floating-widget" style="${s}">
        <button class="cmac-float-button" style="background-color: ${this.config.color||"#000000"};">
          ${a}
        </button>
      </div>

      <!-- Modal Overlay -->
      <div class="cmac-modal-overlay" style="display: none;">
        <div class="cmac-modal">
          <!-- Close button -->
          <button class="cmac-modal-close">&times;</button>

          <!-- Header -->
          <div class="cmac-modal-header">
            <h2>Support ${this.config.creatorName}</h2>
            <p style="font-size: 15px; color: var(--cmac-text-secondary); margin-top: 0.5rem; font-weight: 500;">Buy them a coffee with USDC</p>
          </div>

          <!-- Amount Section -->
          <div class="cmac-amount-section">
            <div class="cmac-amount-input-wrapper">
              <span class="cmac-currency-symbol">$</span>
              <input
                type="number"
                class="cmac-custom-amount"
                placeholder="5"
                min="${this.config.minAmount}"
                max="${this.config.maxAmount}"
                step="0.01"
              />
            </div>
            <div class="cmac-preset-amounts">
              ${this.config.presetAmounts.map(i=>`
                <button class="cmac-preset-btn" data-amount="${i}">
                  $${i}
                </button>
              `).join("")}
            </div>
          </div>

          <!-- Message Section -->
          <div class="cmac-message-section">
            <textarea
              class="cmac-message-input"
              placeholder="Leave a message (optional)"
              maxlength="500"
              rows="3"
            ></textarea>
            <div class="cmac-char-count">0/500</div>
          </div>

          <!-- Status Message -->
          <div class="cmac-status-message" style="display: none;"></div>

          <!-- Support Button -->
          <button class="cmac-support-button">
            Support with USDC
          </button>

          <!-- Branding Footer -->
          <div class="cmac-branding">
            <a href="https://cryptomeacoffee.com" target="_blank" rel="noopener">
               Powered by CryptoMeACoffee
            </a>
          </div>
        </div>
      </div>
    `}attachEventListeners(){const t=this.elements.container,n=t.querySelector(".cmac-float-button");n==null||n.addEventListener("click",()=>this.openModal());const r=t.querySelector(".cmac-modal-close");r==null||r.addEventListener("click",()=>this.closeModal());const s=t.querySelector(".cmac-modal-overlay");s==null||s.addEventListener("click",u=>{u.target===s&&this.closeModal()}),document.addEventListener("keydown",u=>{u.key==="Escape"&&this.state.modalOpen&&this.closeModal()});const a=t.querySelectorAll(".cmac-preset-btn");qe.log(" Found preset buttons:",a.length),a.forEach(u=>{qe.log(" Attaching listener to button:",u.dataset.amount),u.addEventListener("click",()=>{qe.log(" Button clicked!",u.dataset.amount);const d=parseFloat(u.dataset.amount);this.handlePresetAmount(d)})});const i=t.querySelector(".cmac-custom-amount");i==null||i.addEventListener("input",u=>{this.handleCustomAmountInput(u.target.value)});const o=t.querySelector(".cmac-message-input");o==null||o.addEventListener("input",u=>{this.handleMessageInput(u.target.value)});const c=t.querySelector(".cmac-support-button");c==null||c.addEventListener("click",()=>this.handleSupport())}formatAddress(t){return t?`${t.slice(0,6)}...${t.slice(-4)}`:""}setLoading(t){this.state.loading=t;const n=this.elements.container.querySelector(".cmac-support-button");t?(n.disabled=!0,n.innerHTML='<span class="cmac-spinner"></span> Processing...'):(n.disabled=!1,n.innerHTML="Support")}showError(t){this.state.error=t;const n=this.elements.container.querySelector(".cmac-status-message");n&&(n.style.display="block",n.className="cmac-status-message cmac-status-error",n.textContent=" "+t,setTimeout(()=>{n.style.display="none"},5e3))}showSuccess(){const t=this.elements.container.querySelector(".cmac-status-message");t&&(t.style.display="block",t.className="cmac-status-message cmac-status-success",t.textContent=" "+this.config.message,setTimeout(()=>{t.style.display="none",this.closeModal()},3e3))}destroy(){this.elements.container&&this.elements.container.remove()}}return function(){if(typeof window>"u")return;const e=document.currentScript||document.querySelector('script[data-name="CMAC-Widget"]');function t(){const n={walletAddress:e.dataset.wallet,apiEndpoint:e.dataset.api,creatorName:e.dataset.creatorName||"this creator",message:e.dataset.message||"Thanks for the coffee!",color:e.dataset.color||"#5F7FFF",position:e.dataset.position||"Right",xMargin:e.dataset.xMargin||"18",yMargin:e.dataset.yMargin||"18",network:e.dataset.network||"base-sepolia",theme:e.dataset.theme||"light",logoUrl:e.dataset.logoUrl||null};if(e.dataset.presetAmounts)try{n.presetAmounts=JSON.parse(e.dataset.presetAmounts)}catch{}window.CryptoMeACoffeeWidget=new Xp(n),window.CryptoMeACoffeeWidget.render("body")}e&&e.dataset.wallet&&e.dataset.api&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t())}(),Xp});
//# sourceMappingURL=widget.umd.js.map
